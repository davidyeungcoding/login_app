<div class="container nav-section">
  <div class="row">
    <div class="col main-view">
      <div class="main-content-container">
        <div class="container nav-control">
          <form #navSearchForm="ngForm"
            class="nav-search-form"
            (ngSubmit)="onSubmitSearch(navSearchForm)">
            <input type="search"
              class="form-control text-area-style"
              id="navSearchInput"
              placeholder="Search by Username"
              aria-label="Search"
              name="searchTerm"
              ngModel>
    
            <button type="submit"
              class="btn btn-outline-light search-btn btn-style"><i class="fas fa-search"></i></button>
          </form>

          <div *ngIf="!!currentUser.username; else notLoggedIn"
            class="logged-control">
            <button type="button"
              class="btn btn-outline-light btn-style nav-btn"
              (click)="onGoHome()">
              <i class="fas fa-home"></i> Home
            </button>
  
            <button type="button"
              class="btn btn-outline-light btn-style nav-btn"
              (click)="onLogout()">
              <i class="fas fa-door-open"></i> Logout
            </button>
          </div>

          <ng-template #notLoggedIn>
            <button type="button"
              class="btn btn-outline-light btn-style nav-btn"
              data-toggle="modal"
              data-target="#navLogIn">Log In</button>

            <button type="button"
              class="btn btn-outline-light btn-style nav-btn"
              routerLink="/create-account">Create Account</button>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade"
  id="navLogIn"
  tabindex="-1"
  aria-labelledby="navLogInLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button"
          class="close close-btn"
          data-dismiss="modal"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>

        <form #navLogInForm="ngForm"
          class="nav-login-form"
          (ngSubmit)="onNavSignIn(navLogInForm)">
          <div class="form-group">
            <br>
            <label for="navUsername"><h5>Username:</h5></label>

            <input type="text"
              class="form-control text-area-style"
              id="navUsername"
              name="username"
              ngModel>
          </div>

          <div class="form-group">
            <label for="navPassword"><h5>Password:</h5></label>

            <input type="password"
              class="form-control text-area-style"
              id="navPassword"
              name="password"
              ngModel>
          </div>

          <div class="error-msg-container"
            id="navErrorMsg">
            <p class="error-msg">Username and password do not match</p>
          </div>

          <div class="nav-btn-container col-sm-12 col-md-10">
            <button type="submit"
              class="btn btn-outline-light btn-style nav-btn-style">Sign In</button>

            <button type="button"
              class="btn btn-outline-light btn-style nav-btn-style"
              data-dismiss="modal">Cancel</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
