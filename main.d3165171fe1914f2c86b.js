(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},GUIp:function(t,e,n){t.exports=function(){"use strict";var t=function(t){var e=t.addFilter,n=t.utils,r=n.Type,i=n.isString,o=n.replaceInString,s=n.guesstimateMimeType,a=n.getExtensionFromFilename,l=n.getFilenameFromURL,c=function(t,e){return t.some(function(t){return/\*$/.test(t)?(n=t,(/^[^/]+/.exec(e)||[]).pop()===n.slice(0,-2)):t===e;var n})},u=function(t,e,n){if(0===e.length)return!0;var r=function(t){var e="";if(i(t)){var n=l(t),r=a(n);r&&(e=s(r))}else e=t.type;return e}(t);return n?new Promise(function(i,o){n(t,r).then(function(t){c(e,t)?i():o()}).catch(o)}):c(e,r)};return e("SET_ATTRIBUTE_TO_OPTION_MAP",function(t){return Object.assign(t,{accept:"acceptedFileTypes"})}),e("ALLOW_HOPPER_ITEM",function(t,e){var n=e.query;return!n("GET_ALLOW_FILE_TYPE_VALIDATION")||u(t,n("GET_ACCEPTED_FILE_TYPES"))}),e("LOAD_FILE",function(t,e){var n=e.query;return new Promise(function(e,r){if(n("GET_ALLOW_FILE_TYPE_VALIDATION")){var i=n("GET_ACCEPTED_FILE_TYPES"),s=n("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),a=u(t,i,s),l=function(){var t,e=i.map((t=n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"),function(e){return null!==t[e]&&(t[e]||e)})).filter(function(t){return!1!==t});r({status:{main:n("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:o(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:e.join(", "),allButLastType:e.slice(0,-1).join(", "),lastType:e[e.length-1]})}})};if("boolean"==typeof a)return a?e(t):l();a.then(function(){e(t)}).catch(l)}else e(t)})}),{options:{allowFileTypeValidation:[!0,r.BOOLEAN],acceptedFileTypes:[[],r.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",r.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",r.STRING],fileValidateTypeLabelExpectedTypesMap:[{},r.OBJECT],fileValidateTypeDetectType:[null,r.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),t}()},H7XF:function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[1];return 3*(e[0]+n)/4-n},e.toByteArray=function(t){var e,n,r=c(t),s=r[0],a=r[1],l=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),u=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,l[u++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,l=n-i;a<l;a+=s)o.push(u(t,a,a+s>l?l:a+s));return 1===i?o.push(r[(e=t[n-1])>>2]+r[e<<4&63]+"=="):2===i&&o.push(r[(e=(t[n-2]<<8)+t[n-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){for(var i,o=[],s=e;s<n;s+=3)o.push(r[(i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},LPyF:function(t,e,n){t.exports=function(){"use strict";function t(t){this.wrapped=t}function e(e){var n,r;function i(n,r){try{var s=e[n](r),a=s.value,l=a instanceof t;Promise.resolve(l?a.wrapped:a).then(function(t){l?i("next",t):o(s.done?"return":"normal",t)},function(t){i("throw",t)})}catch(c){o("throw",c)}}function o(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?i(n.key,n.arg):r=null}this._invoke=function(t,e){return new Promise(function(o,s){var a={key:t,arg:e,resolve:o,reject:s,next:null};r?r=r.next=a:(n=r=a,i(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)};var r=function(t,e){return s(t.x*e,t.y*e)},i=function(t,e){return s(t.x+e.x,t.y+e.y)},o=function(t,e,n){var r=Math.cos(e),i=Math.sin(e),o=s(t.x-n.x,t.y-n.y);return s(n.x+r*o.x-i*o.y,n.y+i*o.x+r*o.y)},s=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;return"string"==typeof t?parseFloat(t)*n:"number"==typeof t?t*(r?e[r]:Math.min(e.width,e.height)):void 0},l=function(t){return null!=t},c=function(t,e){return Object.keys(e).forEach(function(n){return t.setAttribute(n,e[n])})},u=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);return e&&c(n,e),n},h={contain:"xMidYMid meet",cover:"xMidYMid slice"},d={left:"start",center:"middle",right:"end"},f=function(t){return function(e){return u(t,{id:e.id})}},p={image:function(t){var e=u("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=function(){e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},rect:f("rect"),ellipse:f("ellipse"),text:f("text"),path:f("path"),line:function(t){var e=u("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=u("line");e.appendChild(n);var r=u("path");e.appendChild(r);var i=u("path");return e.appendChild(i),e}},g={rect:function(t){return c(t,Object.assign({},t.rect,t.styles))},ellipse:function(t){return c(t,Object.assign({cx:t.rect.x+.5*t.rect.width,cy:t.rect.y+.5*t.rect.height,rx:.5*t.rect.width,ry:.5*t.rect.height},t.styles))},image:function(t,e){c(t,Object.assign({},t.rect,t.styles,{preserveAspectRatio:h[e.fit]||"none"}))},text:function(t,e,n,r){var i=a(e.fontSize,n,r);c(t,Object.assign({},t.rect,t.styles,{"stroke-width":0,"font-weight":e.fontWeight||"normal","font-size":i,"font-family":e.fontFamily||"sans-serif","text-anchor":d[e.textAlign]||"start"})),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},path:function(t,e,n,r){var i;c(t,Object.assign({},t.styles,{fill:"none",d:(i=e.points.map(function(t){return{x:a(t.x,n,r,"width"),y:a(t.y,n,r,"height")}}),i.map(function(t,e){return"".concat(0===e?"M":"L"," ").concat(t.x," ").concat(t.y)}).join(" "))}))},line:function(t,e,n,l){c(t,Object.assign({},t.rect,t.styles,{fill:"none"}));var u=t.childNodes[1],h=t.childNodes[2],d=t.rect,f={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(c(t.childNodes[0],{x1:d.x,y1:d.y,x2:f.x,y2:f.y}),e.lineDecoration){u.style.display="none",h.style.display="none";var p=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?{x:0,y:0}:s(t.x/e,t.y/e)}({x:f.x-d.x,y:f.y-d.y}),g=a(.05,n,l);if(-1!==e.lineDecoration.indexOf("arrow-begin")){var m=r(p,g),v=i(d,m),y=o(d,2,v),_=o(d,-2,v);c(u,{style:"display:block;",d:"M".concat(y.x,",").concat(y.y," L").concat(d.x,",").concat(d.y," L").concat(_.x,",").concat(_.y)})}if(-1!==e.lineDecoration.indexOf("arrow-end")){var b=r(p,-g),E=i(f,b),w=o(f,2,E),T=o(f,-2,E);c(h,{style:"display:block;",d:"M".concat(w.x,",").concat(w.y," L").concat(f.x,",").concat(f.y," L").concat(T.x,",").concat(T.y)})}}}},m=["x","y","left","top","right","bottom","width","height"],v=function(t){var e=n(t,2),r=e[0],i=e[1],o=i.points?{}:m.reduce(function(t,e){return t[e]="string"==typeof(n=i[e])&&/%/.test(n)?parseFloat(n)/100:n,t;var n},{});return[r,Object.assign({zIndex:0},i,o)]},y=function(t,e){return t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0},_=function(t){return t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(t){var e=t.root,r=t.props;if(r.dirty){var i=r.crop,o=r.resize,s=r.markup,c=r.width,u=r.height,h=i.width,d=i.height;if(o){var f=o.size,m=f&&f.width,_=f&&f.height,b=o.mode;m&&!_&&(_=m),_&&!m&&(m=_);var E=h<m&&d<_;if(!E||E&&o.upscale){var w,T=m/h,I=_/d;"force"===b?(h=m,d=_):("cover"===b?w=Math.max(T,I):"contain"===b&&(w=Math.min(T,I)),h*=w,d*=w)}}var S={width:c,height:u};e.element.setAttribute("width",S.width),e.element.setAttribute("height",S.height);var O=Math.min(c/h,u/d);e.element.innerHTML="";var C=e.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");s.filter(C).map(v).sort(y).forEach(function(t){var r=n(t,2),i=r[0],o=r[1],s=function(t,e){return p[t](e)}(i,o);(function(t,e,n,r,i){"path"!==e&&(t.rect=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=a(t.x,e,n,"width")||a(t.left,e,n,"width"),i=a(t.y,e,n,"height")||a(t.top,e,n,"height"),o=a(t.width,e,n,"width"),s=a(t.height,e,n,"height"),c=a(t.right,e,n,"width"),u=a(t.bottom,e,n,"height");return l(i)||(i=l(s)&&l(u)?e.height-s-u:u),l(r)||(r=l(o)&&l(c)?e.width-o-c:c),l(o)||(o=l(r)&&l(c)?e.width-r-c:0),l(s)||(s=l(i)&&l(u)?e.height-i-u:0),{x:r||0,y:i||0,width:o||0,height:s||0}}(n,r,i)),t.styles=function(t,e,n){var r=t.borderStyle||t.lineStyle||"solid",i=t.backgroundColor||t.fontColor||"transparent",o=t.borderColor||t.lineColor||"transparent",s=a(t.borderWidth||t.lineWidth,e,n);return{"stroke-linecap":t.lineCap||"round","stroke-linejoin":t.lineJoin||"round","stroke-width":s||0,"stroke-dasharray":"string"==typeof r?"":r.map(function(t){return a(t,e,n)}).join(","),stroke:o,fill:i,opacity:t.opacity||1}}(n,r,i),g[e](t,n,r,i)})(s,i,o,S,O),e.element.appendChild(s)})}}})},b=function(t,e){return{x:t,y:e}},E=function(t,e){return b(t.x-e.x,t.y-e.y)},w=function(t,e){return Math.sqrt(function(t,e){return function(t,e){return t.x*e.x+t.y*e.y}(E(t,e),E(t,e))}(t,e))},T=function(t,e){var n=t,r=e,i=1.5707963267948966-e,o=Math.sin(1.5707963267948966),s=Math.sin(r),a=Math.sin(i),l=Math.cos(i),c=n/o;return b(l*(c*s),l*(c*a))},I=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t.height/t.width,i=1,o=r;o>e&&(i=(o=e)/r);var s=Math.max(1/i,e/o),a=t.width/(n*s*i);return{width:a,height:a*e}},S=function(t,e,n,r){var i=2*(r.x>.5?1-r.x:r.x)*t.width,o=2*(r.y>.5?1-r.y:r.y)*t.height,s=function(t,e){var n=t.height,r=T(t.width,e),i=T(n,e),o=b(t.x+Math.abs(r.x),t.y-Math.abs(r.y)),s=b(t.x+t.width+Math.abs(i.y),t.y+Math.abs(i.x)),a=b(t.x-Math.abs(i.y),t.y+t.height-Math.abs(i.x));return{width:w(o,s),height:w(o,a)}}(e,n);return Math.max(s.width/i,s.height/o)},O=function(t,e){var n=t.width,r=n*e;return r>t.height&&(n=(r=t.height)/e),{x:.5*(t.width-n),y:.5*(t.height-r),width:n,height:r}},C={type:"spring",stiffness:.5,damping:.45,mass:10},R='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',A=!1,x=0,P=function(){self.onmessage=function(t){createImageBitmap(t.data.message.file).then(function(e){self.postMessage({id:t.data.id,message:e},[e])})}},D=function(){self.onmessage=function(t){for(var e=t.data.message.imageData,n=t.data.message.colorMatrix,r=e.data,i=r.length,o=n[0],s=n[1],a=n[2],l=n[3],c=n[4],u=n[5],h=n[6],d=n[7],f=n[8],p=n[9],g=n[10],m=n[11],v=n[12],y=n[13],_=n[14],b=n[15],E=n[16],w=n[17],T=n[18],I=n[19],S=0,O=0,C=0,R=0,A=0;S<i;S+=4)O=r[S]/255,C=r[S+1]/255,R=r[S+2]/255,A=r[S+3]/255,r[S]=Math.max(0,Math.min(255*(O*o+C*s+R*a+A*l+c),255)),r[S+1]=Math.max(0,Math.min(255*(O*u+C*h+R*d+A*f+p),255)),r[S+2]=Math.max(0,Math.min(255*(O*g+C*m+R*v+A*y+_),255)),r[S+3]=Math.max(0,Math.min(255*(O*b+C*E+R*w+A*T+I),255));self.postMessage({id:t.data.id,message:e},[e.data.buffer])}},M={1:function(){return[1,0,0,1,0,0]},2:function(t){return[-1,0,0,1,t,0]},3:function(t,e){return[-1,0,0,-1,t,e]},4:function(t,e){return[1,0,0,-1,0,e]},5:function(){return[0,1,1,0,0,0]},6:function(t,e){return[0,1,-1,0,e,0]},7:function(t,e){return[0,-1,-1,0,e,t]},8:function(t){return[0,-1,1,0,0,t]}},L=function(t){return/^image/.test(t.type)&&!/svg/.test(t.type)},k=function(t){var e=Math.min(10/t.width,10/t.height),n=document.createElement("canvas"),r=n.getContext("2d"),i=n.width=Math.ceil(t.width*e),o=n.height=Math.ceil(t.height*e);r.drawImage(t,0,0,i,o);var s=null;try{s=r.getImageData(0,0,i,o).data}catch(d){return null}for(var a=s.length,l=0,c=0,u=0,h=0;h<a;h+=4)l+=s[h]*s[h],c+=s[h+1]*s[h+1],u+=s[h+2]*s[h+2];return{r:l=N(l,a),g:c=N(c,a),b:u=N(u,a)}},N=function(t,e){return Math.floor(Math.sqrt(t/(e/4)))},U=function(t){var e=t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(t){var e=t.root,n=t.props;!A&&document.querySelector("base")&&(R=R.replace(/url\(\#/g,"url("+window.location.href.replace(window.location.hash,"")+"#"),A=!0),x++,e.element.classList.add("filepond--image-preview-overlay-".concat(n.status)),e.element.innerHTML=R.replace(/__UID__/g,x)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),n=function(t){return t.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:C,scaleY:C,translateY:C,opacity:{type:"tween",duration:400}}},create:function(e){var n=e.root,r=e.props;n.ref.clip=n.appendChildView(n.createChildView(function(t){return t.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(t){var e=t.props;e.background&&(t.root.element.style.backgroundColor=e.background)},create:function(e){var n=e.root,r=e.props;n.ref.image=n.appendChildView(n.createChildView(function(t){return t.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:C,originY:C,scaleX:C,scaleY:C,translateX:C,translateY:C,rotateZ:C}},create:function(e){var n=e.root,r=e.props;r.width=r.image.width,r.height=r.image.height,n.ref.bitmap=n.appendChildView(n.createChildView(function(t){return t.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(t){t.root.appendChild(t.props.image)}})}(t),{image:r.image}))},write:function(t){var e=t.props.crop.flip,n=t.root.ref.bitmap;n.scaleX=e.horizontal?-1:1,n.scaleY=e.vertical?-1:1}})}(t),Object.assign({},r))),n.ref.createMarkup=function(){n.ref.markup||(n.ref.markup=n.appendChildView(n.createChildView(_(t),Object.assign({},r))))},n.ref.destroyMarkup=function(){n.ref.markup&&(n.removeChildView(n.ref.markup),n.ref.markup=null)};var i=n.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==i&&(n.element.dataset.transparencyIndicator="grid"===i?i:"color")},write:function(t){var e=t.root,n=t.props,r=t.shouldOptimize,i=n.crop,o=n.markup,s=n.resize,a=n.dirty,l=n.width,c=n.height;e.ref.image.crop=i;var u={x:0,y:0,width:l,height:c,center:{x:.5*l,y:.5*c}},h={width:e.ref.image.width,height:e.ref.image.height},d={x:i.center.x*h.width,y:i.center.y*h.height},f={x:u.center.x-h.width*i.center.x,y:u.center.y-h.height*i.center.y},p=2*Math.PI+i.rotation%(2*Math.PI),g=void 0===i.scaleToFit||i.scaleToFit,m=S(h,O(u,i.aspectRatio||h.height/h.width),p,g?i.center:{x:.5,y:.5}),v=i.zoom*m;o&&o.length?(e.ref.createMarkup(),e.ref.markup.width=l,e.ref.markup.height=c,e.ref.markup.resize=s,e.ref.markup.dirty=a,e.ref.markup.markup=o,e.ref.markup.crop=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.zoom,r=e.rotation,i=e.center,o=e.aspectRatio;o||(o=t.height/t.width);var s=I(t,o,n),a=void 0===e.scaleToFit||e.scaleToFit,l=n*S(t,O({x:0,y:0,width:s.width,height:s.height,center:{x:.5*s.width,y:.5*s.height}},o),r,a?i:{x:.5,y:.5});return{widthFloat:s.width/l,heightFloat:s.height/l,width:Math.round(s.width/l),height:Math.round(s.height/l)}}(h,i)):e.ref.markup&&e.ref.destroyMarkup();var y=e.ref.image;if(r)return y.originX=null,y.originY=null,y.translateX=null,y.translateY=null,y.rotateZ=null,y.scaleX=null,void(y.scaleY=null);y.originX=d.x,y.originY=d.y,y.translateX=f.x,y.translateY=f.y,y.rotateZ=p,y.scaleX=v,y.scaleY=v}})}(t),{id:r.id,image:r.image,crop:r.crop,markup:r.markup,resize:r.resize,dirty:r.dirty,background:r.background}))},write:function(t){var e=t.root,n=t.props,r=t.shouldOptimize,i=e.ref.clip,o=n.image,s=n.crop,a=n.markup,l=n.resize,c=n.dirty;if(i.crop=s,i.markup=a,i.resize=l,i.dirty=c,i.opacity=r?0:1,!r&&!e.rect.element.hidden){var u=s.aspectRatio||o.height/o.width,h=e.rect.inner.width,d=e.rect.inner.height,f=e.query("GET_IMAGE_PREVIEW_HEIGHT"),p=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),g=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),m=e.query("GET_PANEL_ASPECT_RATIO"),v=e.query("GET_ALLOW_MULTIPLE");m&&!v&&(f=h*m,u=m);var y=null!==f?f:Math.max(p,Math.min(h*u,g)),_=y/u;_>h&&(y=(_=h)*u),y>d&&(y=d,_=d/u),i.width=_,i.height=y}}})}(t),r=t.utils.createWorker,i=function(t,e,n){return new Promise(function(i){t.ref.imageData||(t.ref.imageData=n.getContext("2d").getImageData(0,0,n.width,n.height));var o=function(t){var e;try{e=new ImageData(t.width,t.height)}catch(n){e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(new Uint8ClampedArray(t.data)),e}(t.ref.imageData);if(!e||20!==e.length)return n.getContext("2d").putImageData(o,0,0),i();var s=r(D);s.post({imageData:o,colorMatrix:e},function(t){n.getContext("2d").putImageData(t,0,0),s.terminate(),i()},[o.data.buffer])})},o=function(t){var e=t.root,r=t.image,i=t.props.id,o=e.query("GET_ITEM",{id:i});if(o){var s,a,l=o.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},c=e.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),u=!1;e.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(s=o.getMetadata("markup")||[],a=o.getMetadata("resize"),u=!0);var h=e.appendChildView(e.createChildView(n,{id:i,image:r,crop:l,resize:a,markup:s,dirty:u,background:c,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),e.childViews.length);e.ref.images.push(h),h.opacity=1,h.scaleX=1,h.scaleY=1,h.translateY=0,setTimeout(function(){e.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:i})},250)}},s=function(t){var e=t.root;e.ref.overlayShadow.opacity=1,e.ref.overlayError.opacity=0,e.ref.overlaySuccess.opacity=0},a=function(t){var e=t.root;e.ref.overlayShadow.opacity=.25,e.ref.overlayError.opacity=1};return t.utils.createView({name:"image-preview-wrapper",create:function(t){var n=t.root;n.ref.images=[],n.ref.imageData=null,n.ref.imageViewBin=[],n.ref.overlayShadow=n.appendChildView(n.createChildView(e,{opacity:0,status:"idle"})),n.ref.overlaySuccess=n.appendChildView(n.createChildView(e,{opacity:0,status:"success"})),n.ref.overlayError=n.appendChildView(n.createChildView(e,{opacity:0,status:"failure"}))},styles:["height"],apis:["height"],destroy:function(t){t.root.ref.images.forEach(function(t){t.image.width=1,t.image.height=1})},didWriteView:function(t){t.root.ref.images.forEach(function(t){t.dirty=!1})},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:function(t){var e=t.root,n=e.ref.images[e.ref.images.length-1];n.translateY=0,n.scaleX=1,n.scaleY=1,n.opacity=1},DID_IMAGE_PREVIEW_CONTAINER_CREATE:function(t){var e,n,r,i=t.root,o=t.props.id,s=i.query("GET_ITEM",o);s&&(e=URL.createObjectURL(s.file),n=function(t,e){i.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:o,width:t,height:e})},(r=new Image).onload=function(){var t=r.naturalWidth,e=r.naturalHeight;r=null,n(t,e)},r.src=e)},DID_FINISH_CALCULATE_PREVIEWSIZE:function(t){var e,n,s=t.root,a=t.props,l=s.query("GET_ITEM",a.id);if(l){var c=URL.createObjectURL(l.file),u=function(){var t;(t=c,new Promise(function(e,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){e(r)},r.onerror=function(t){n(t)},r.src=t})).then(h)},h=function(t){URL.revokeObjectURL(c);var e=(l.getMetadata("exif")||{}).orientation||-1,n=t.width,r=t.height;if(n&&r){if(e>=5&&e<=8){var u=[r,n];n=u[0],r=u[1]}var h=Math.max(1,.75*window.devicePixelRatio),d=s.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*h,f=r/n,p=s.rect.element.width,g=s.rect.element.height,m=p,v=m*f;f>1?v=(m=Math.min(n,p*d))*f:m=(v=Math.min(r,g*d))/f;var y=function(t,e,n,r){e=Math.round(e),n=Math.round(n);var i=document.createElement("canvas");i.width=e,i.height=n;var o=i.getContext("2d");if(r>=5&&r<=8){var s=[n,e];e=s[0],n=s[1]}return function(t,e,n,r){-1!==r&&t.transform.apply(t,M[r](e,n))}(o,e,n,r),o.drawImage(t,0,0,e,n),i}(t,m,v,e),_=function(){var e=s.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?k(data):null;l.setMetadata("color",e,!0),"close"in t&&t.close(),s.ref.overlayShadow.opacity=1,o({root:s,props:a,image:y})},b=l.getMetadata("filter");b?i(s,b,y).then(_):_()}};if(e=l.file,((n=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./))?parseInt(n[1]):null)<=58||!("createImageBitmap"in window)||!L(e))u();else{var d=r(P);d.post({file:l.file},function(t){d.terminate(),t?h(t):u()})}}},DID_UPDATE_ITEM_METADATA:function(t){var e,n,r=t.root,s=t.props,a=t.action;if(/crop|filter|markup|resize/.test(a.change.key)&&r.ref.images.length){var l=r.query("GET_ITEM",{id:s.id});if(l)if(/filter/.test(a.change.key))i(r,a.change.value,r.ref.images[r.ref.images.length-1].image);else if(/crop|markup|resize/.test(a.change.key)){var c=l.getMetadata("crop");if(Math.abs(c.aspectRatio-r.ref.images[r.ref.images.length-1].crop.aspectRatio)>1e-5){var u=function(t){var e=t.root,n=e.ref.images.shift();return n.opacity=0,n.translateY=-15,e.ref.imageViewBin.push(n),n}({root:r});o({root:r,props:s,image:(e=u.image,(n=n||document.createElement("canvas")).width=e.width,n.height=e.height,n.getContext("2d").drawImage(e,0,0),n)})}else!function(t){var e=t.root,n=e.query("GET_ITEM",{id:t.props.id});if(n){var r=e.ref.images[e.ref.images.length-1];r.crop=n.getMetadata("crop"),r.background=e.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),e.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(r.dirty=!0,r.resize=n.getMetadata("resize"),r.markup=n.getMetadata("markup"))}}({root:r,props:s})}}},DID_THROW_ITEM_LOAD_ERROR:a,DID_THROW_ITEM_PROCESSING_ERROR:a,DID_THROW_ITEM_INVALID:a,DID_COMPLETE_ITEM_PROCESSING:function(t){var e=t.root;e.ref.overlayShadow.opacity=.25,e.ref.overlaySuccess.opacity=1},DID_START_ITEM_PROCESSING:s,DID_REVERT_ITEM_PROCESSING:s},function(t){var e=t.root,n=e.ref.imageViewBin.filter(function(t){return 0===t.opacity});e.ref.imageViewBin=e.ref.imageViewBin.filter(function(t){return t.opacity>0}),n.forEach(function(t){return function(t,e){t.removeChildView(e),e.image.width=1,e.image.height=1,e._destroy()}(e,t)}),n.length=0})})},V=function(t){var e=t.addFilter,n=t.utils,r=n.Type,i=n.createRoute,o=n.isFile,s=U(t);return e("CREATE_VIEW",function(t){var e=t.view,n=t.query;if((0,t.is)("file")&&n("GET_ALLOW_IMAGE_PREVIEW")){var r=function(t){t.root.ref.shouldRescale=!0};e.registerWriter(i({DID_RESIZE_ROOT:r,DID_STOP_RESIZE:r,DID_LOAD_ITEM:function(t){var r=t.root,i=t.props.id,a=n("GET_ITEM",i);if(a&&o(a.file)&&!a.archived){var l=a.file;if(function(t){return/^image/.test(t.type)}(l)&&n("GET_IMAGE_PREVIEW_FILTER_ITEM")(a)){var c="createImageBitmap"in(window||{}),u=n("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!c&&u&&l.size>u)){r.ref.imagePreview=e.appendChildView(e.createChildView(s,{id:i}));var h=r.query("GET_IMAGE_PREVIEW_HEIGHT");h&&r.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:a.id,height:h});var d=!c&&l.size>n("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");r.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:i},d)}}}},DID_IMAGE_PREVIEW_CALCULATE_SIZE:function(t){var e=t.root,n=t.action;e.ref.imageWidth=n.width,e.ref.imageHeight=n.height,e.ref.shouldRescale=!0,e.ref.shouldDrawPreview=!0,e.dispatch("KICK")},DID_UPDATE_ITEM_METADATA:function(t){"crop"===t.action.change.key&&(t.root.ref.shouldRescale=!0)}},function(t){var e=t.root,n=t.props;e.ref.imagePreview&&(e.rect.element.hidden||(e.ref.shouldRescale&&(function(t,e){if(t.ref.imagePreview){var n=t.query("GET_ITEM",{id:e.id});if(n){var r=t.query("GET_PANEL_ASPECT_RATIO"),i=t.query("GET_ITEM_PANEL_ASPECT_RATIO"),o=t.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(r||i||o)){var s=t.ref,a=s.imageWidth,l=s.imageHeight;if(a&&l){var c=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),u=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),h=(n.getMetadata("exif")||{}).orientation||-1;if(h>=5&&h<=8){var d=[l,a];a=d[0],l=d[1]}if(!L(n.file)||t.query("GET_IMAGE_PREVIEW_UPSCALE")){var f=2048/a;a*=f,l*=f}var p=l/a,g=(n.getMetadata("crop")||{}).aspectRatio||p,m=Math.max(c,Math.min(l,u)),v=Math.min(t.rect.element.width*g,m);t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:n.id,height:v})}}}}}(e,n),e.ref.shouldRescale=!1),e.ref.shouldDrawPreview&&(requestAnimationFrame(function(){e.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:n.id})}),e.ref.shouldDrawPreview=!1)))}))}}),{options:{allowImagePreview:[!0,r.BOOLEAN],imagePreviewFilterItem:[function(){return!0},r.FUNCTION],imagePreviewHeight:[null,r.INT],imagePreviewMinHeight:[44,r.INT],imagePreviewMaxHeight:[256,r.INT],imagePreviewMaxFileSize:[null,r.INT],imagePreviewZoomFactor:[2,r.INT],imagePreviewUpscale:[!1,r.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,r.INT],imagePreviewTransparencyIndicator:[null,r.STRING],imagePreviewCalculateAverageImageColor:[!1,r.BOOLEAN],imagePreviewMarkupShow:[!0,r.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},r.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:V})),V}()},NQWy:function(t,e,n){t.exports=function(){"use strict";var t=function(t){var e=t.utils.Type;return(0,t.addFilter)("DID_LOAD_ITEM",function(t,e){var n=e.query;return new Promise(function(e,r){var i=t.file;if(!function(t){return/^image/.test(t.type)}(i)||!n("GET_ALLOW_IMAGE_RESIZE"))return e(t);var o=n("GET_IMAGE_RESIZE_MODE"),s=n("GET_IMAGE_RESIZE_TARGET_WIDTH"),a=n("GET_IMAGE_RESIZE_TARGET_HEIGHT"),l=n("GET_IMAGE_RESIZE_UPSCALE");if(null===s&&null===a)return e(t);var c,u,h,d=null===s?a:s,f=null===a?d:a,p=URL.createObjectURL(i);c=p,u=function(n){if(URL.revokeObjectURL(p),!n)return e(t);var r=n.width,i=n.height,s=(t.getMetadata("exif")||{}).orientation||-1;if(s>=5&&s<=8){var a=[i,r];r=a[0],i=a[1]}if(r===d&&i===f)return e(t);if(!l)if("cover"===o){if(r<=d||i<=f)return e(t)}else if(r<=d&&i<=d)return e(t);t.setMetadata("resize",{mode:o,upscale:l,size:{width:d,height:f}}),e(t)},(h=new Image).onload=function(){var t=h.naturalWidth,e=h.naturalHeight;h=null,u({width:t,height:e})},h.onerror=function(){return u(null)},h.src=c})}),{options:{allowImageResize:[!0,e.BOOLEAN],imageResizeMode:["cover",e.STRING],imageResizeUpscale:[!0,e.BOOLEAN],imageResizeTargetWidth:[null,e.INT],imageResizeTargetHeight:[null,e.INT]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),t}()},dOZY:function(t,e,n){t.exports=function(){"use strict";var t=function(){self.onmessage=function(e){t(e.data.message,function(t){self.postMessage({id:e.data.id,message:t})})};var t=function(t,e){var n=t.file,r=new FileReader;r.onloadend=function(){e(r.result.replace("data:","").replace(/^.+,/,""))},r.readAsDataURL(n)}},e=function(e){var n=e.addFilter,r=e.utils,i=r.Type,o=r.createWorker,s=r.createRoute,a=r.isFile,l=function(e){var n=e.name,r=e.file;return new Promise(function(e){var i=o(t);i.post({file:r},function(t){e({name:n,data:t}),i.terminate()})})},c=[];return n("DID_CREATE_ITEM",function(t,e){(0,e.query)("GET_ALLOW_FILE_ENCODE")&&(t.extend("getFileEncodeBase64String",function(){return c[t.id]&&c[t.id].data}),t.extend("getFileEncodeDataURL",function(){return"data:".concat(t.fileType,";base64,").concat(c[t.id].data)}))}),n("SHOULD_PREPARE_OUTPUT",function(t,e){var n=e.query;return new Promise(function(t){t(n("GET_ALLOW_FILE_ENCODE"))})}),n("COMPLETE_PREPARE_OUTPUT",function(t,e){var n=e.item,r=e.query;return new Promise(function(e){if(!r("GET_ALLOW_FILE_ENCODE")||!a(t)&&!Array.isArray(t))return e(t);c[n.id]={metadata:n.getMetadata(),data:null},Promise.all((t instanceof Blob?[{name:null,file:t}]:t).map(l)).then(function(r){c[n.id].data=t instanceof Blob?r[0].data:r,e(t)})})}),n("CREATE_VIEW",function(t){var e=t.view,n=t.query;(0,t.is)("file-wrapper")&&n("GET_ALLOW_FILE_ENCODE")&&e.registerWriter(s({DID_PREPARE_OUTPUT:function(t){var e=t.root,r=t.action;if(!n("IS_ASYNC")){var i=n("GET_ITEM",r.id);if(i){var o=c[i.id],s=JSON.stringify({id:i.id,name:i.file.name,type:i.file.type,size:i.file.size,metadata:o.metadata,data:o.data});e.ref.data?e.ref.data.value=s:e.dispatch("DID_DEFINE_VALUE",{id:i.id,value:s})}}},DID_REMOVE_ITEM:function(t){var e=n("GET_ITEM",t.action.id);e&&delete c[e.id]}}))}),{options:{allowFileEncode:[!0,i.BOOLEAN]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},"kVK+":function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,d=n?-1:1,f=t[e+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=c}return(f?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*l-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+f]=255&s,f+=p,s/=256,c-=8);t[n+f-p]|=128*g}},lnDc:function(t,e,n){t.exports=function(){"use strict";var t=function(t){return/^image/.test(t.type)},e=function(e){var n=e.addFilter,r=e.utils,i=r.Type,o=r.isFile,s=r.getNumericAspectRatioFromString,a=function(e,n){return!(!t(e.file)||!n("GET_ALLOW_IMAGE_CROP"))},l=function(t){return"object"==typeof t},c=function(t){return"number"==typeof t},u=function(t,e){return t.setMetadata("crop",Object.assign({},t.getMetadata("crop"),e))};return n("DID_CREATE_ITEM",function(t,e){var n=e.query;t.extend("setImageCrop",function(e){if(a(t,n)&&l(center))return t.setMetadata("crop",e),e}),t.extend("setImageCropCenter",function(e){if(a(t,n)&&l(e))return u(t,{center:e})}),t.extend("setImageCropZoom",function(e){if(a(t,n)&&c(e))return u(t,{zoom:Math.max(1,e)})}),t.extend("setImageCropRotation",function(e){if(a(t,n)&&c(e))return u(t,{rotation:e})}),t.extend("setImageCropFlip",function(e){if(a(t,n)&&l(e))return u(t,{flip:e})}),t.extend("setImageCropAspectRatio",function(e){if(a(t,n)&&void 0!==e){var r=t.getMetadata("crop"),i=s(e),o={center:{x:.5,y:.5},flip:r?Object.assign({},r.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:i};return t.setMetadata("crop",o),o}})}),n("DID_LOAD_ITEM",function(e,n){var r=n.query;return new Promise(function(n,i){var a=e.file;if(!o(a)||!t(a)||!r("GET_ALLOW_IMAGE_CROP"))return n(e);if(e.getMetadata("crop"))return n(e);var l=r("GET_IMAGE_CROP_ASPECT_RATIO");e.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:l?s(l):null}),n(e)})}),{options:{allowImageCrop:[!0,i.BOOLEAN],imageCropAspectRatio:[null,i.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},m6bJ:function(t,e,n){t.exports=function(){"use strict";var t={jpeg:"jpg","svg+xml":"svg"},e=function(t){return/^image/.test(t.type)},n={1:function(){return[1,0,0,1,0,0]},2:function(t){return[-1,0,0,1,t,0]},3:function(t,e){return[-1,0,0,-1,t,e]},4:function(t,e){return[1,0,0,-1,0,e]},5:function(){return[0,1,1,0,0,0]},6:function(t,e){return[0,1,-1,0,e,0]},7:function(t,e){return[0,-1,-1,0,e,t]},8:function(t){return[0,-1,1,0,0,t]}},r=function(t,e){return{x:t,y:e}},i=function(t,e){return r(t.x-e.x,t.y-e.y)},o=function(t,e){return Math.sqrt(function(t,e){return function(t,e){return t.x*e.x+t.y*e.y}(i(t,e),i(t,e))}(t,e))},s=function(t,e){var n=t,i=e,o=1.5707963267948966-e,s=Math.sin(1.5707963267948966),a=Math.sin(i),l=Math.sin(o),c=Math.cos(o),u=n/s;return r(c*(u*a),c*(u*l))},a=function(t,e){var n=t.height,i=s(t.width,e),a=s(n,e),l=r(t.x+Math.abs(i.x),t.y-Math.abs(i.y)),c=r(t.x+t.width+Math.abs(a.y),t.y+Math.abs(a.x)),u=r(t.x-Math.abs(a.y),t.y+t.height-Math.abs(a.x));return{width:o(l,c),height:o(l,u)}},l=function(t,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:.5,y:.5},r=2*(n.x>.5?1-n.x:n.x)*t.width,i=2*(n.y>.5?1-n.y:n.y)*t.height,o=a(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0);return Math.max(o.width/r,o.height/i)},c=function(t,e){var n=t.width,r=n*e;return r>t.height&&(n=(r=t.height)/e),{x:.5*(t.width-n),y:.5*(t.height-r),width:n,height:r}},u=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t.height/t.width,i=1,o=r;o>e&&(i=(o=e)/r);var s=Math.max(1/i,e/o),a=t.width/(n*s*i);return{width:a,height:a*e}},h=function(t){t.width=1,t.height=1,t.getContext("2d").clearRect(0,0,1,1)},d=function(t){return t&&(t.horizontal||t.vertical)},f=function(t,e,r){if(e<=1&&!d(r))return t.width=t.naturalWidth,t.height=t.naturalHeight,t;var i=document.createElement("canvas"),o=t.naturalWidth,s=t.naturalHeight,a=e>=5&&e<=8;a?(i.width=s,i.height=o):(i.width=o,i.height=s);var l=i.getContext("2d");if(e&&l.transform.apply(l,function(t,e,r){return-1===r&&(r=1),n[r](t,e)}(o,s,e)),d(r)){var c=[1,0,0,1,0,0];(!a&&r.horizontal||a&r.vertical)&&(c[0]=-1,c[4]=o),(!a&&r.vertical||a&&r.horizontal)&&(c[3]=-1,c[5]=s),l.transform.apply(l,c)}return l.drawImage(t,0,0,o,s),i},p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.canvasMemoryLimit,o=r.background,s=void 0===o?null:o,a=n.zoom||1,d=f(t,e,n.flip),p={width:d.width,height:d.height},g=n.aspectRatio||p.height/p.width,m=u(p,g,a);if(i){var v=m.width*m.height;if(v>i){var y=Math.sqrt(i)/Math.sqrt(v);p.width=Math.floor(p.width*y),p.height=Math.floor(p.height*y),m=u(p,g,a)}}var _=document.createElement("canvas"),b={x:.5*m.width,y:.5*m.height},E=void 0===n.scaleToFit||n.scaleToFit,w=a*l(p,c({x:0,y:0,width:m.width,height:m.height,center:b},g),n.rotation,E?n.center:{x:.5,y:.5});_.width=Math.round(m.width/w),_.height=Math.round(m.height/w),b.x/=w,b.y/=w;var T={x:b.x-p.width*(n.center?n.center.x:.5),y:b.y-p.height*(n.center?n.center.y:.5)},I=_.getContext("2d");s&&(I.fillStyle=s,I.fillRect(0,0,_.width,_.height)),I.translate(b.x,b.y),I.rotate(n.rotation||0),I.drawImage(d,T.x-b.x,T.y-b.y,p.width,p.height);var S=I.getImageData(0,0,_.width,_.height);return h(_),S};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){var r=this.toDataURL(e,n).split(",")[1];setTimeout(function(){for(var n=atob(r),i=n.length,o=new Uint8Array(i),s=0;s<i;s++)o[s]=n.charCodeAt(s);t(new Blob([o],{type:e||"image/png"}))})}}));var g=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise(function(r){var i=n?n(t):t;Promise.resolve(i).then(function(t){t.toBlob(r,e.type,e.quality)})})},m=function(t,e){return b(t.x*e,t.y*e)},v=function(t,e){return b(t.x+e.x,t.y+e.y)},y=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?{x:0,y:0}:b(t.x/e,t.y/e)},_=function(t,e,n){var r=Math.cos(e),i=Math.sin(e),o=b(t.x-n.x,t.y-n.y);return b(n.x+r*o.x-i*o.y,n.y+i*o.x+r*o.y)},b=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},E=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;return"string"==typeof t?parseFloat(t)*n:"number"==typeof t?t*(r?e[r]:Math.min(e.width,e.height)):void 0},w=function(t,e,n){var r=t.borderStyle||t.lineStyle||"solid",i=t.backgroundColor||t.fontColor||"transparent",o=t.borderColor||t.lineColor||"transparent",s=E(t.borderWidth||t.lineWidth,e,n);return{"stroke-linecap":t.lineCap||"round","stroke-linejoin":t.lineJoin||"round","stroke-width":s||0,"stroke-dasharray":"string"==typeof r?"":r.map(function(t){return E(t,e,n)}).join(","),stroke:o,fill:i,opacity:t.opacity||1}},T=function(t){return null!=t},I=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=E(t.x,e,n,"width")||E(t.left,e,n,"width"),i=E(t.y,e,n,"height")||E(t.top,e,n,"height"),o=E(t.width,e,n,"width"),s=E(t.height,e,n,"height"),a=E(t.right,e,n,"width"),l=E(t.bottom,e,n,"height");return T(i)||(i=T(s)&&T(l)?e.height-s-l:l),T(r)||(r=T(o)&&T(a)?e.width-o-a:a),T(o)||(o=T(r)&&T(a)?e.width-r-a:0),T(s)||(s=T(i)&&T(l)?e.height-i-l:0),{x:r||0,y:i||0,width:o||0,height:s||0}},S=function(t,e){return Object.keys(e).forEach(function(n){return t.setAttribute(n,e[n])})},O=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);return e&&S(n,e),n},C={contain:"xMidYMid meet",cover:"xMidYMid slice"},R={left:"start",center:"middle",right:"end"},A=function(t){return function(e){return O(t,{id:e.id})}},x={image:function(t){var e=O("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=function(){e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},rect:A("rect"),ellipse:A("ellipse"),text:A("text"),path:A("path"),line:function(t){var e=O("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=O("line");e.appendChild(n);var r=O("path");e.appendChild(r);var i=O("path");return e.appendChild(i),e}},P={rect:function(t){return S(t,Object.assign({},t.rect,t.styles))},ellipse:function(t){return S(t,Object.assign({cx:t.rect.x+.5*t.rect.width,cy:t.rect.y+.5*t.rect.height,rx:.5*t.rect.width,ry:.5*t.rect.height},t.styles))},image:function(t,e){S(t,Object.assign({},t.rect,t.styles,{preserveAspectRatio:C[e.fit]||"none"}))},text:function(t,e,n,r){var i=E(e.fontSize,n,r);S(t,Object.assign({},t.rect,t.styles,{"stroke-width":0,"font-weight":e.fontWeight||"normal","font-size":i,"font-family":e.fontFamily||"sans-serif","text-anchor":R[e.textAlign]||"start"})),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},path:function(t,e,n,r){var i;S(t,Object.assign({},t.styles,{fill:"none",d:(i=e.points.map(function(t){return{x:E(t.x,n,r,"width"),y:E(t.y,n,r,"height")}}),i.map(function(t,e){return"".concat(0===e?"M":"L"," ").concat(t.x," ").concat(t.y)}).join(" "))}))},line:function(t,e,n,r){S(t,Object.assign({},t.rect,t.styles,{fill:"none"}));var i=t.childNodes[1],o=t.childNodes[2],s=t.rect,a={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(S(t.childNodes[0],{x1:s.x,y1:s.y,x2:a.x,y2:a.y}),e.lineDecoration){i.style.display="none",o.style.display="none";var l=y({x:a.x-s.x,y:a.y-s.y}),c=E(.05,n,r);if(-1!==e.lineDecoration.indexOf("arrow-begin")){var u=m(l,c),h=v(s,u),d=_(s,2,h),f=_(s,-2,h);S(i,{style:"display:block;",d:"M".concat(d.x,",").concat(d.y," L").concat(s.x,",").concat(s.y," L").concat(f.x,",").concat(f.y)})}if(-1!==e.lineDecoration.indexOf("arrow-end")){var p=m(l,-c),g=v(a,p),b=_(a,2,g),w=_(a,-2,g);S(o,{style:"display:block;",d:"M".concat(b.x,",").concat(b.y," L").concat(a.x,",").concat(a.y," L").concat(w.x,",").concat(w.y)})}}}},D=function(t,e){return x[t](e)},M=function(t,e,n,r,i){"path"!==e&&(t.rect=I(n,r,i)),t.styles=w(n,r,i),P[e](t,n,r,i)},L=function(t,e){return t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return new Promise(function(i){var o=r.background,s=void 0===o?null:o,a=new FileReader;a.onloadend=function(){var t=a.result,r=document.createElement("div");r.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",r.innerHTML=t;var o=r.querySelector("svg");document.body.appendChild(r);var u=o.getBBox();r.parentNode.removeChild(r);var h=r.querySelector("title"),d=o.getAttribute("viewBox")||"",f=o.getAttribute("width")||"",p=o.getAttribute("height")||"",g=parseFloat(f)||null,m=parseFloat(p)||null,v=(f.match(/[a-z]+/)||[])[0]||"",y=(p.match(/[a-z]+/)||[])[0]||"",_=d.split(" ").map(parseFloat),b=_.length?{x:_[0],y:_[1],width:_[2],height:_[3]}:u,E=null!=g?g:b.width,w=null!=m?m:b.height;o.style.overflow="visible",o.setAttribute("width",E),o.setAttribute("height",w);var T="";if(n&&n.length){var I={width:E,height:w};T=n.sort(L).reduce(function(t,e){var n=D(e[0],e[1]);return M(n,e[0],e[1],I),n.removeAttribute("id"),1===n.getAttribute("opacity")&&n.removeAttribute("opacity"),t+"\n"+n.outerHTML+"\n"},""),T="\n\n<g>".concat(T.replace(/&nbsp;/g," "),"</g>\n\n")}var S=e.aspectRatio||w/E,O=E,C=O*S,R=void 0===e.scaleToFit||e.scaleToFit,A=e.center?e.center.x:.5,x=e.center?e.center.y:.5,P=l({width:E,height:w},c({width:O,height:C},S),e.rotation,R?{x:A,y:x}:{x:.5,y:.5}),k=e.zoom*P,N=e.rotation*(180/Math.PI),U={x:.5*O,y:.5*C},V={x:U.x-E*A,y:U.y-w*x},F=["rotate(".concat(N," ").concat(U.x," ").concat(U.y,")"),"translate(".concat(U.x," ").concat(U.y,")"),"scale(".concat(k,")"),"translate(".concat(-U.x," ").concat(-U.y,")"),"translate(".concat(V.x," ").concat(V.y,")")],G=e.flip&&e.flip.horizontal,j=e.flip&&e.flip.vertical,B=["scale(".concat(G?-1:1," ").concat(j?-1:1,")"),"translate(".concat(G?-E:0," ").concat(j?-w:0,")")],H='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="'.concat(O).concat(v,'" height="').concat(C).concat(y,'" \nviewBox="0 0 ').concat(O," ").concat(C,'" ').concat(s?'style="background:'+s+'" ':"",'\npreserveAspectRatio="xMinYMin"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns="http://www.w3.org/2000/svg">\n\x3c!-- Generated by PQINA - https://pqina.nl/ --\x3e\n<title>').concat(h?h.textContent:"",'</title>\n<g transform="').concat(F.join(" "),'">\n<g transform="').concat(B.join(" "),'">\n').concat(o.outerHTML).concat(T,"\n</g>\n</g>\n</svg>");i(H)},a.readAsText(t)})},N=function(t){var e;try{e=new ImageData(t.width,t.height)}catch(n){e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(t.data),e},U=function(){var t={resize:function(t,n){var o=n.mode,s=void 0===o?"contain":o,a=n.upscale,l=void 0!==a&&a,c=n.width,u=n.height,h=n.matrix;if(h=!h||r(h)?null:h,!c&&!u)return i(t,h);if(null===c?c=u:null===u&&(u=c),"force"!==s){var d=c/t.width,f=u/t.height,p=1;if("cover"===s?p=Math.max(d,f):"contain"===s&&(p=Math.min(d,f)),p>1&&!1===l)return i(t,h);c=t.width*p,u=t.height*p}for(var g=t.width,m=t.height,v=Math.round(c),y=Math.round(u),_=t.data,b=new Uint8ClampedArray(v*y*4),E=g/v,w=m/y,T=Math.ceil(.5*E),I=Math.ceil(.5*w),S=0;S<y;S++)for(var O=0;O<v;O++){for(var C=4*(O+S*v),R=0,A=0,x=0,P=0,D=0,M=0,L=0,k=(S+.5)*w,N=Math.floor(S*w);N<(S+1)*w;N++)for(var U=Math.abs(k-(N+.5))/I,V=(O+.5)*E,F=U*U,G=Math.floor(O*E);G<(O+1)*E;G++){var j=Math.abs(V-(G+.5))/T,B=Math.sqrt(F+j*j);if(B>=-1&&B<=1&&(R=2*B*B*B-3*B*B+1)>0){var H=_[3+(j=4*(G+N*g))];L+=R*H,x+=R,H<255&&(R=R*H/250),P+=R*_[j],D+=R*_[j+1],M+=R*_[j+2],A+=R}}b[C]=P/A,b[C+1]=D/A,b[C+2]=M/A,b[C+3]=L/x,h&&e(C,b,h)}return{data:b,width:v,height:y}},filter:i};function e(t,e,n){var r=e[t]/255,i=e[t+1]/255,o=e[t+2]/255,s=e[t+3]/255,a=r*n[5]+i*n[6]+o*n[7]+s*n[8]+n[9],l=r*n[10]+i*n[11]+o*n[12]+s*n[13]+n[14],c=r*n[15]+i*n[16]+o*n[17]+s*n[18]+n[19],u=Math.max(0,(r*n[0]+i*n[1]+o*n[2]+s*n[3]+n[4])*c)+1*(1-c),h=Math.max(0,a*c)+1*(1-c),d=Math.max(0,l*c)+1*(1-c);e[t]=255*Math.max(0,Math.min(1,u)),e[t+1]=255*Math.max(0,Math.min(1,h)),e[t+2]=255*Math.max(0,Math.min(1,d))}self.onmessage=function(e){!function(e,n){var r=e.transforms,i=null;if(r.forEach(function(t){"filter"===t.type&&(i=t)}),i){var o=null;r.forEach(function(t){"resize"===t.type&&(o=t)}),o&&(o.data.matrix=i.data,r=r.filter(function(t){return"filter"!==t.type}))}n(function(e,n){return e.forEach(function(e){n=t[e.type](n,e.data)}),n}(r,e.imageData))}(e.data.message,function(t){self.postMessage({id:e.data.id,message:t},[t.data.buffer])})};var n=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function r(t){return self.JSON.stringify(t||[])===n}function i(t,e){if(!e||r(e))return t;for(var n=t.data,i=n.length,o=e[0],s=e[1],a=e[2],l=e[3],c=e[4],u=e[5],h=e[6],d=e[7],f=e[8],p=e[9],g=e[10],m=e[11],v=e[12],y=e[13],_=e[14],b=e[15],E=e[16],w=e[17],T=e[18],I=e[19],S=0,O=0,C=0,R=0,A=0,x=0,P=0,D=0,M=0,L=0,k=0;S<i;S+=4)x=(O=n[S]/255)*u+(C=n[S+1]/255)*h+(R=n[S+2]/255)*d+(A=n[S+3]/255)*f+p,P=O*g+C*m+R*v+A*y+_,D=O*b+C*E+R*w+A*T+I,M=Math.max(0,(O*o+C*s+R*a+A*l+c)*D)+1*(1-D),L=Math.max(0,x*D)+1*(1-D),k=Math.max(0,P*D)+1*(1-D),n[S]=255*Math.max(0,Math.min(1,M)),n[S+1]=255*Math.max(0,Math.min(1,L)),n[S+2]=255*Math.max(0,Math.min(1,k));return t}},V=function(t,e){if(1165519206===t.getUint32(e+4,!1)){e+=4;var n=18761===t.getUint16(e+=6,!1);e+=t.getUint32(e+4,n);var r=t.getUint16(e,n);e+=2;for(var i=0;i<r;i++)if(274===t.getUint16(e+12*i,n))return t.setUint16(e+12*i+8,1,n),!0;return!1}},F=function(t){return new Promise(function(e){var n=new FileReader;n.onload=function(){return e(function(t){var e=new DataView(t);if(65496!==e.getUint16(0))return null;for(var n,r,i=2,o=!1;i<e.byteLength&&(n=e.getUint16(i,!1),r=e.getUint16(i+2,!1)+2,n>=65504&&n<=65519||65534===n)&&(o||(o=V(e,i)),!(i+r>e.byteLength));)i+=r;return t.slice(0,i)}(n.result)||null)},n.readAsArrayBuffer(t.slice(0,262144))})},G=function(t,e){var n=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(n){var r=new n;return r.append(t),r.getBlob(e)}return new Blob([t],{type:e})},j=function(t){var e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(e),r=new Worker(n),i=[];return{transfer:function(){},post:function(t,e,n){var o=Math.random().toString(36).substr(2,9);i[o]=e,r.onmessage=function(t){var e=i[t.data.id];e&&(e(t.data.message),delete i[t.data.id])},r.postMessage({id:o,message:t},n)},terminate:function(){r.terminate(),URL.revokeObjectURL(n)}}},B=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=function(t){n(t)},r.src=t})},H=function(t,e){return new Promise(function(n){var r,i={width:t.width,height:t.height},o=t.getContext("2d");(r=e.sort(L).map(function(t){return function(){return new Promise(function(e){$[t[0]](o,i,t[1],e)&&e()})}}),r.reduce(function(t,e){return t.then(function(t){return e().then(Array.prototype.concat.bind(t))})},Promise.resolve([]))).then(function(){return n(t)})})},q=function(t,e){t.beginPath(),t.lineCap=e["stroke-linecap"],t.lineJoin=e["stroke-linejoin"],t.lineWidth=e["stroke-width"],e["stroke-dasharray"].length&&t.setLineDash(e["stroke-dasharray"].split(",")),t.fillStyle=e.fill,t.strokeStyle=e.stroke,t.globalAlpha=e.opacity||1},z=function(t){t.fill(),t.stroke(),t.globalAlpha=1},$={rect:function(t,e,n){var r=I(n,e),i=w(n,e);return q(t,i),t.rect(r.x,r.y,r.width,r.height),z(t),!0},ellipse:function(t,e,n){var r=I(n,e),i=w(n,e);q(t,i);var o=r.x,s=r.y,a=r.width,l=r.height,c=.5522848,u=a/2*c,h=l/2*c,d=o+a,f=s+l,p=o+a/2,g=s+l/2;return t.moveTo(o,g),t.bezierCurveTo(o,g-h,p-u,s,p,s),t.bezierCurveTo(p+u,s,d,g-h,d,g),t.bezierCurveTo(d,g+h,p+u,f,p,f),t.bezierCurveTo(p-u,f,o,g+h,o,g),z(t),!0},image:function(t,e,n,r){var i=I(n,e),o=w(n,e);q(t,o);var s=new Image;new URL(n.src,window.location.href).origin!==window.location.origin&&(s.crossOrigin=""),s.onload=function(){if("cover"===n.fit){var e=i.width/i.height,o=e>1?s.width:s.height*e,a=e>1?s.width/e:s.height;t.drawImage(s,.5*s.width-.5*o,.5*s.height-.5*a,o,a,i.x,i.y,i.width,i.height)}else if("contain"===n.fit){var l=Math.min(i.width/s.width,i.height/s.height),c=l*s.width,u=l*s.height;t.drawImage(s,0,0,s.width,s.height,i.x+.5*i.width-.5*c,i.y+.5*i.height-.5*u,c,u)}else t.drawImage(s,0,0,s.width,s.height,i.x,i.y,i.width,i.height);z(t),r()},s.src=n.src},text:function(t,e,n){var r=I(n,e),i=w(n,e);q(t,i);var o=E(n.fontSize,e),s=n.fontFamily||"sans-serif",a=n.textAlign||"left";return t.font="".concat(n.fontWeight||"normal"," ").concat(o,"px ").concat(s),t.textAlign=a,t.fillText(n.text,r.x,r.y),z(t),!0},line:function(t,e,n){var r=I(n,e),i=w(n,e);q(t,i),t.beginPath();var o={x:r.x,y:r.y},s={x:r.x+r.width,y:r.y+r.height};t.moveTo(o.x,o.y),t.lineTo(s.x,s.y);var a=y({x:s.x-o.x,y:s.y-o.y}),l=.04*Math.min(e.width,e.height);if(-1!==n.lineDecoration.indexOf("arrow-begin")){var c=m(a,l),u=v(o,c),h=_(o,2,u),d=_(o,-2,u);t.moveTo(h.x,h.y),t.lineTo(o.x,o.y),t.lineTo(d.x,d.y)}if(-1!==n.lineDecoration.indexOf("arrow-end")){var f=m(a,-l),p=v(s,f),g=_(s,2,p),b=_(s,-2,p);t.moveTo(g.x,g.y),t.lineTo(s.x,s.y),t.lineTo(b.x,b.y)}return z(t),!0},path:function(t,e,n){var r=w(n,e);q(t,r),t.beginPath();var i=n.points.map(function(t){return{x:E(t.x,e,1,"width"),y:E(t.y,e,1,"height")}});t.moveTo(i[0].x,i[0].y);for(var o=i.length,s=1;s<o;s++)t.lineTo(i[s].x,i[s].y);return z(t),!0}},W=function(t){var e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t,0,0),e};function Y(t){this.wrapped=t}function X(t){var e,n;function r(e,n){try{var o=t[e](n),s=o.value,a=s instanceof Y;Promise.resolve(a?s.wrapped:s).then(function(t){a?r("next",t):i(o.done?"return":"normal",t)},function(t){r("throw",t)})}catch(l){i("throw",l)}}function i(t,i){switch(t){case"return":e.resolve({value:i,done:!0});break;case"throw":e.reject(i);break;default:e.resolve({value:i,done:!1})}(e=e.next)?r(e.key,e.arg):n=null}this._invoke=function(t,i){return new Promise(function(o,s){var a={key:t,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(e=n=a,r(t,i))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(X.prototype[Symbol.asyncIterator]=function(){return this}),X.prototype.next=function(t){return this._invoke("next",t)},X.prototype.throw=function(t){return this._invoke("throw",t)},X.prototype.return=function(t){return this._invoke("return",t)};var Z=["x","y","left","top","right","bottom","width","height"],Q=function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),i=r[0],o=r[1],s=o.points?{}:Z.reduce(function(t,e){return t[e]="string"==typeof(n=o[e])&&/%/.test(n)?parseFloat(n)/100:n,t;var n},{});return[i,Object.assign({zIndex:0},o,s)]};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){var r=this;setTimeout(function(){for(var i=r.toDataURL(e,n).split(",")[1],o=atob(i),s=o.length,a=new Uint8Array(s);s--;)a[s]=o.charCodeAt(s);t(new Blob([a],{type:e||"image/png"}))})}}));var J="undefined"!=typeof window&&void 0!==window.document,K=J&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,tt=function(n){var r=n.addFilter,i=n.utils,o=i.Type,s=i.forin,a=i.getFileFromBlob,l=i.isFile,c=["crop","resize","filter","markup","output"],u=function(t){return null===t.aspectRatio&&0===t.rotation&&1===t.zoom&&t.center&&.5===t.center.x&&.5===t.center.y&&t.flip&&!1===t.flip.horizontal&&!1===t.flip.vertical};r("SHOULD_PREPARE_OUTPUT",function(t,e){var n=e.query;return new Promise(function(t){t(!n("IS_ASYNC"))})});return r("PREPARE_OUTPUT",function(n,r){var i=r.query,o=r.item;return new Promise(function(r){(function(t,e,n){return new Promise(function(r){if(!t("GET_ALLOW_IMAGE_TRANSFORM")||n.archived||!l(e)||!function(t){return/^image/.test(t.type)}(e))return r(!1);(function(t){return new Promise(function(e,n){var r=new Image;r.src=URL.createObjectURL(t);var i=function(){var t=r.naturalWidth,n=r.naturalHeight;t&&n&&(URL.revokeObjectURL(r.src),clearInterval(o),e({width:t,height:n}))};r.onerror=function(t){URL.revokeObjectURL(r.src),clearInterval(o),n(t)};var o=setInterval(i,1);i()})})(e).then(function(){var n=t("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(n){var i=n(e);if(null==i)return handleRevert(!0);if("boolean"==typeof i)return r(i);if("function"==typeof i.then)return i.then(r)}r(!0)}).catch(function(t){r(!1)})})})(i,n,o).then(function(l){if(!l)return r(n);var d=[];i("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&d.push(function(){return new Promise(function(t){t({name:i("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:n})})}),i("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&d.push(function(t,e,n){return new Promise(function(r){t(e,n).then(function(t){return r({name:i("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:t})})})});var f=i("GET_IMAGE_TRANSFORM_VARIANTS")||{};s(f,function(t,e){var n,r=(n=e,function(t,e,r){return t(e,n?n(r):r)});d.push(function(e,n,i){return new Promise(function(o){r(e,n,i).then(function(e){return o({name:t,file:e})})})})});var m=i("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),v=i("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),y=null===m?null:m/100,_=i("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),b=i("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||c;o.setMetadata("output",{type:_,quality:y,client:b},!0);var E=function(n,r){return new Promise(function(o,s){var l=Object.assign({},r);Object.keys(l).filter(function(t){return"exif"!==t}).forEach(function(t){-1===b.indexOf(t)&&delete l[t]});var c=l.resize,d=l.exif,f=l.output,m=l.crop,y=l.filter,_=l.markup,E={image:{orientation:d?d.orientation:null},output:f&&(f.type||"number"==typeof f.quality||f.background)?{type:f.type,quality:"number"==typeof f.quality?100*f.quality:null,background:f.background||i("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:c&&(c.size.width||c.size.height)?Object.assign({mode:c.mode,upscale:c.upscale},c.size):void 0,crop:m&&!u(m)?Object.assign({},m):void 0,markup:_&&_.length?_.map(Q):[],filter:y};if(E.output){var w=!!f.type&&f.type!==n.type,T=/\/jpe?g$/.test(n.type);if(!(E.size||E.crop||E.filter||w||null!==f.quality&&T&&"always"===v))return o(n)}var I={beforeCreateBlob:i("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:i("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:i("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:i("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(i,o){if(!t||!e(t))return o({status:"not an image file",file:t});var s=r.stripImageHead,a=r.beforeCreateBlob,l=r.afterCreateBlob,c=r.canvasMemoryLimit,u=n.crop,d=n.size,f=n.filter,m=n.markup,v=n.output,y=n.image&&n.image.orientation?Math.max(1,Math.min(8,n.image.orientation)):null,_=v&&v.quality,b=null===_?null:_/100,E=v&&v.type||null,w=v&&v.background||null,T=[];!d||"number"!=typeof d.width&&"number"!=typeof d.height||T.push({type:"resize",data:d}),f&&20===f.length&&T.push({type:"filter",data:f});var I=function(t){var e=l?l(t):t;Promise.resolve(e).then(i)},S=function(e,n){var r=W(e),i=m.length?H(r,m):r;Promise.resolve(i).then(function(e){g(e,n,a).then(function(n){if(h(e),s)return I(n);F(t).then(function(t){null!==t&&(n=new Blob([t,n.slice(20)],{type:n.type})),I(n)})}).catch(o)})};if(/svg/.test(t.type)&&null===E)return k(t,u,m,{background:w}).then(function(t){i(G(t,"image/svg+xml"))});var O=URL.createObjectURL(t);B(O).then(function(e){URL.revokeObjectURL(O);var n=p(e,y,u,{canvasMemoryLimit:c,background:w}),r={quality:b,type:E||t.type};if(!T.length)return S(n,r);var i=j(U);i.post({transforms:T,imageData:n},function(t){S(N(t),r),i.terminate()},[n.data.buffer])}).catch(o)})})(n,E,I).then(function(e){var r=a(e,function(e,n){var r=function(t){return t.substr(0,t.lastIndexOf("."))||t}(e),i=n.split("/")[1],o=t[i]||i;return"".concat(r,".").concat(o)}(n.name,function(t){return/jpeg|png|svg\+xml/.test(t)?t:"image/jpeg"}(e.type)));o(r)}).catch(s)})},w=d.map(function(t){return t(E,n,o.getMetadata())});Promise.all(w).then(function(t){r(1===t.length&&null===t[0].name?t[0].file:t)})})})}),{options:{allowImageTransform:[!0,o.BOOLEAN],imageTransformImageFilter:[null,o.FUNCTION],imageTransformOutputMimeType:[null,o.STRING],imageTransformOutputQuality:[null,o.INT],imageTransformOutputStripImageHead:[!0,o.BOOLEAN],imageTransformClientTransforms:[null,o.ARRAY],imageTransformOutputQualityMode:["always",o.STRING],imageTransformVariants:[null,o.OBJECT],imageTransformVariantsIncludeDefault:[!0,o.BOOLEAN],imageTransformVariantsDefaultName:[null,o.STRING],imageTransformVariantsIncludeOriginal:[!1,o.BOOLEAN],imageTransformVariantsOriginalName:["original_",o.STRING],imageTransformBeforeCreateBlob:[null,o.FUNCTION],imageTransformAfterCreateBlob:[null,o.FUNCTION],imageTransformCanvasMemoryLimit:[J&&K?16777216:null,o.INT],imageTransformCanvasBackgroundColor:[null,o.STRING]}}};return J&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:tt})),tt}()},tjlA:function(t,e,n){"use strict";const r=n("H7XF"),i=n("kVK+"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=function(t){return+t!=t&&(t=0),l.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,l.prototype),e}function l(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|g(t,e);let r=a(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(X(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(X(t,ArrayBuffer)||t&&X(t.buffer,ArrayBuffer))return f(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(X(t,SharedArrayBuffer)||t&&X(t.buffer,SharedArrayBuffer)))return f(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return l.from(r,e,n);const i=function(t){if(l.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||Z(t.length)?a(0):d(t):"Buffer"===t.type&&Array.isArray(t.data)?d(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return u(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function f(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,l.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,e){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(i)return r?-1:$(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return R(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function v(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:_(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,r,i){let o,s=1,a=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(c(t,o+r)!==c(e,r)){n=!1;break}if(n)return o}return-1}function b(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(Z(r))return s;t[n+s]=r}return s}function E(t,e,n,r){return Y($(e,t.length-n),t,n,r)}function w(t,e,n,r){return Y(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function T(t,e,n,r){return Y(W(e),t,n,r)}function I(t,e,n,r){return Y(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function S(t,e,n){return r.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,l;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(l=(31&e)<<6|63&n,l>127&&(o=l));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(l=(15&e)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(l=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.kMaxLength=s,(l.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},l.allocUnsafe=function(t){return h(t)},l.allocUnsafeSlow=function(t){return h(t)},l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,e){if(X(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=l.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(X(e,Uint8Array))i+e.length>r.length?(l.isBuffer(e)||(e=l.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!l.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)v(this,e,e+1);return this},l.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},l.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},l.prototype.toLocaleString=l.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?O(this,0,t):m.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(t,e,n,r,i){if(X(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),c=this.slice(r,i),u=t.slice(e,n);for(let l=0;l<a;++l)if(c[l]!==u[l]){o=c[l],s=u[l];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":case"latin1":case"binary":return w(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function R(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function A(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function x(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=e;o<n;++o)i+=Q[t[o]];return i}function P(t,e,n){const r=t.slice(e,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,r,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r,i){B(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function k(t,e,n,r,i){B(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function N(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,o){return e=+e,n>>>=0,o||N(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function V(t,e,n,r,o){return e=+e,n>>>=0,o||N(t,0,n,8),i.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(t,e){return t>>>=0,e||D(t,1,this.length),this[t]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||D(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||D(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readBigUInt64LE=J(function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))}),l.prototype.readBigUInt64BE=J(function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),l.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return t>>>=0,e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){t>>>=0,e||D(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){t>>>=0,e||D(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readBigInt64LE=J(function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];return void 0!==e&&void 0!==n||q(t,this.length-8),(BigInt(this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24))<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)}),l.prototype.readBigInt64BE=J(function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)}),l.prototype.readFloatLE=function(t,e){return t>>>=0,e||D(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||D(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||D(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||D(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||M(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||M(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,1,255,0),this[e]=255&t,e+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigUInt64LE=J(function(t,e=0){return L(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=J(function(t,e=0){return k(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigInt64LE=J(function(t,e=0){return L(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=J(function(t,e=0){return k(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},l.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=l.isBuffer(t)?t:l.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const F={};function G(t,e,n){F[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function j(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function B(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){H(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||q(e,t.length-(n+1))}(r,i,o)}function H(t,e){if("number"!=typeof t)throw new F.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,n){if(Math.floor(t)!==t)throw H(t,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}G("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),G("ERR_OUT_OF_RANGE",function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=j(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r},RangeError);const z=/[^+/0-9A-Za-z-_]/g;function $(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function X(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Z(t){return t!=t}const Q=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function J(t){return"undefined"==typeof BigInt?K:t}function K(){throw new Error("BigInt not supported")}},wGJR:function(t,e,n){!function(t){"use strict";var e=function(t){return t instanceof HTMLElement},n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object.assign({},t),i=[],o=[],s=function(){var t=[].concat(o);o.length=0,t.forEach(function(t){a(t.type,t.data)})},a=function(t,e,n){!n||document.hidden?(h[t]&&h[t](e),i.push({type:t,data:e})):o.push({type:t,data:e})},l=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return u[t]?(e=u)[t].apply(e,r):null},c={getState:function(){return Object.assign({},r)},processActionQueue:function(){var t=[].concat(i);return i.length=0,t},processDispatchQueue:s,dispatch:a,query:l},u={};e.forEach(function(t){u=Object.assign({},t(r),{},u)});var h={};return n.forEach(function(t){h=Object.assign({},t(a,l,r),{},h)}),c},r=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])},i=function(t){var e={};return r(t,function(n){!function(t,e,n){"function"!=typeof n?Object.defineProperty(t,e,Object.assign({},n)):t[e]=n}(e,n,t[n])}),e},o=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return t.getAttribute(e)||t.hasAttribute(e);t.setAttribute(e,n)},s="http://www.w3.org/2000/svg",a=["svg","path"],l=function(t){return a.includes(t)},c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof e&&(n=e,e=null);var i=l(t)?document.createElementNS(s,t):document.createElement(t);return e&&(l(t)?o(i,"class",e):i.className=e),r(n,function(t,e){o(i,t,e)}),i},u=function(t){return function(e,n){void 0!==n&&t.children[n]?t.insertBefore(e,t.children[n]):t.appendChild(e)}},h=function(t,e){return function(t,n){return void 0!==n?e.splice(n,0,t):e.push(t),t}},d=function(t,e){return function(n){return e.splice(e.indexOf(n),1),n.element.parentNode&&t.removeChild(n.element),n}},f="undefined"!=typeof window&&void 0!==window.document,p=function(){return f},g="children"in(p()?c("svg"):{})?function(t){return t.children.length}:function(t){return t.childNodes.length},m=function(t,e,n,r){var i=n[0]||t.left,o=n[1]||t.top,s=i+t.width,a=o+t.height*(r[1]||1),l={element:Object.assign({},t),inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:i,top:o,right:s,bottom:a}};return e.filter(function(t){return!t.isRectIgnored()}).map(function(t){return t.rect}).forEach(function(t){v(l.inner,Object.assign({},t.inner)),v(l.outer,Object.assign({},t.outer))}),y(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,y(l.outer),l},v=function(t,e){e.top+=t.top,e.right+=t.left,e.bottom+=t.top,e.left+=t.left,e.bottom>t.bottom&&(t.bottom=e.bottom),e.right>t.right&&(t.right=e.right)},y=function(t){t.width=t.right-t.left,t.height=t.bottom-t.top},_=function(t){return"number"==typeof t},b=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(t-e)<r&&Math.abs(n)<r},E=function(t){return t<.5?2*t*t:(4-2*t)*t-1},w={spring:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.stiffness,n=void 0===e?.5:e,r=t.damping,o=void 0===r?.75:r,s=t.mass,a=void 0===s?10:s,l=null,c=null,u=0,h=!1,d=i({interpolate:function(t,e){if(!h){if(!_(l)||!_(c))return h=!0,void(u=0);b(c+=u+=-(c-l)*n/a,l,u*=o)||e?(u=0,h=!0,d.onupdate(c=l),d.oncomplete(c)):d.onupdate(c)}},target:{set:function(t){if(_(t)&&!_(c)&&(c=t),null===l&&(l=t,c=t),c===(l=t)||void 0===l)return h=!0,u=0,d.onupdate(c),void d.oncomplete(c);h=!1},get:function(){return l}},resting:{get:function(){return h}},onupdate:function(t){},oncomplete:function(t){}});return d},tween:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.duration,o=void 0===r?500:r,s=n.easing,a=void 0===s?E:s,l=n.delay,c=void 0===l?0:l,u=null,h=!0,d=!1,f=null,p=i({interpolate:function(n,r){h||null===f||(null===u&&(u=n),n-u<c||((t=n-u-c)>=o||r?(t=1,p.onupdate((e=d?0:1)*f),p.oncomplete(e*f),h=!0):(e=t/o,p.onupdate((t>=0?a(d?1-e:e):0)*f))))},target:{get:function(){return d?0:f},set:function(t){if(null===f)return f=t,p.onupdate(t),void p.oncomplete(t);t<f?(f=1,d=!0):(d=!1,f=t),h=!1,u=null}},resting:{get:function(){return h}},onupdate:function(t){},oncomplete:function(t){}});return p}},T=function(t,e,n){var r=t[e]&&"object"==typeof t[e][n]?t[e][n]:t[e]||t,i="string"==typeof r?r:r.type,o="object"==typeof r?Object.assign({},r):{};return w[i]?w[i](o):null},I=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(e=Array.isArray(e)?e:[e]).forEach(function(e){t.forEach(function(t){var i=t,o=function(){return n[t]},s=function(e){return n[t]=e};"object"==typeof t&&(i=t.key,o=t.getter||o,s=t.setter||s),e[i]&&!r||(e[i]={get:o,set:s})})})},S=function(t){return null!=t},O={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},C={styles:function(t){var e=t.mixinConfig,n=t.viewProps,r=t.viewInternalAPI,i=t.viewExternalAPI,o=t.view,s=Object.assign({},n),a={};I(e,[r,i],n);var l=function(){return o.rect?m(o.rect,o.childViews,[n.translateX||0,n.translateY||0],[n.scaleX||0,n.scaleY||0]):null};return r.rect={get:l},i.rect={get:l},e.forEach(function(t){n[t]=void 0===s[t]?O[t]:s[t]}),{write:function(){if(function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!0;for(var n in e)if(e[n]!==t[n])return!0;return!1}(a,n))return function(t,e){var n=e.opacity,r=e.perspective,i=e.translateX,o=e.translateY,s=e.scaleX,a=e.scaleY,l=e.rotateX,c=e.rotateY,u=e.rotateZ,h=e.originX,d=e.originY,f=e.width,p=e.height,g="",m="";(S(h)||S(d))&&(m+="transform-origin: "+(h||0)+"px "+(d||0)+"px;"),S(r)&&(g+="perspective("+r+"px) "),(S(i)||S(o))&&(g+="translate3d("+(i||0)+"px, "+(o||0)+"px, 0) "),(S(s)||S(a))&&(g+="scale3d("+(S(s)?s:1)+", "+(S(a)?a:1)+", 1) "),S(u)&&(g+="rotateZ("+u+"rad) "),S(l)&&(g+="rotateX("+l+"rad) "),S(c)&&(g+="rotateY("+c+"rad) "),g.length&&(m+="transform:"+g+";"),S(n)&&(m+="opacity:"+n+";",0===n&&(m+="visibility:hidden;"),n<1&&(m+="pointer-events:none;")),S(p)&&(m+="height:"+p+"px;"),S(f)&&(m+="width:"+f+"px;");var v=t.elementCurrentStyle||"";m.length===v.length&&m===v||(t.style.cssText=m,t.elementCurrentStyle=m)}(o.element,n),Object.assign(a,Object.assign({},n)),!0},destroy:function(){}}},listeners:function(t){var e,n=t.viewExternalAPI,r=t.view,i=[],o=(e=r.element,function(t,n){e.addEventListener(t,n)}),s=function(t){return function(e,n){t.removeEventListener(e,n)}}(r.element);return n.on=function(t,e){i.push({type:t,fn:e}),o(t,e)},n.off=function(t,e){i.splice(i.findIndex(function(n){return n.type===t&&n.fn===e}),1),s(t,e)},{write:function(){return!0},destroy:function(){i.forEach(function(t){s(t.type,t.fn)})}}},animations:function(t){var e=t.mixinConfig,n=t.viewProps,i=t.viewInternalAPI,o=t.viewExternalAPI,s=Object.assign({},n),a=[];return r(e,function(t,e){var r=T(e);r&&(r.onupdate=function(e){n[t]=e},r.target=s[t],I([{key:t,setter:function(t){r.target!==t&&(r.target=t)},getter:function(){return n[t]}}],[i,o],n,!0),a.push(r))}),{write:function(t){var e=document.hidden,n=!0;return a.forEach(function(r){r.resting||(n=!1),r.interpolate(t,e)}),n},destroy:function(){}}},apis:function(t){I(t.mixinConfig,t.viewExternalAPI,t.viewProps)}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.layoutCalculated||(t.paddingTop=parseInt(n.paddingTop,10)||0,t.marginTop=parseInt(n.marginTop,10)||0,t.marginRight=parseInt(n.marginRight,10)||0,t.marginBottom=parseInt(n.marginBottom,10)||0,t.marginLeft=parseInt(n.marginLeft,10)||0,e.layoutCalculated=!0),t.left=e.offsetLeft||0,t.top=e.offsetTop||0,t.width=e.offsetWidth||0,t.height=e.offsetHeight||0,t.right=t.left+t.width,t.bottom=t.top+t.height,t.scrollTop=e.scrollTop,t.hidden=null===e.offsetParent,t},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tag,n=void 0===e?"div":e,r=t.name,o=void 0===r?null:r,s=t.attributes,a=void 0===s?{}:s,l=t.read,f=void 0===l?function(){}:l,p=t.write,v=void 0===p?function(){}:p,y=t.create,_=void 0===y?function(){}:y,b=t.destroy,E=void 0===b?function(){}:b,w=t.filterFrameActionsForChild,T=void 0===w?function(t,e){return e}:w,I=t.didCreateView,S=void 0===I?function(){}:I,O=t.didWriteView,A=void 0===O?function(){}:O,x=t.ignoreRect,P=void 0!==x&&x,D=t.ignoreRectUpdate,M=void 0!==D&&D,L=t.mixins,k=void 0===L?[]:L;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c(n,"filepond--"+o,a),s=window.getComputedStyle(r,null),l=R(),p=null,y=!1,b=[],w=[],I={},O={},x=[v],D=[f],L=[E],N=function(){return r},U=function(){return b.concat()},V=function(t){return function(e,n){return e(t,n)}},F=function(){return p||(p=m(l,b,[0,0],[1,1]))},G=function(){p=null,b.forEach(function(t){return t._read()}),!(M&&l.width&&l.height)&&R(l,r,s);var t={root:W,props:e,rect:l};D.forEach(function(e){return e(t)})},j=function(t,n,r){var i=0===n.length;return x.forEach(function(o){!1===o({props:e,root:W,actions:n,timestamp:t,shouldOptimize:r})&&(i=!1)}),w.forEach(function(e){!1===e.write(t)&&(i=!1)}),b.filter(function(t){return!!t.element.parentNode}).forEach(function(e){e._write(t,T(e,n),r)||(i=!1)}),b.forEach(function(e,o){e.element.parentNode||(W.appendChild(e.element,o),e._read(),e._write(t,T(e,n),r),i=!1)}),y=i,A({props:e,root:W,actions:n,timestamp:t}),i},B=function(){w.forEach(function(t){return t.destroy()}),L.forEach(function(t){t({root:W,props:e})}),b.forEach(function(t){return t._destroy()})},H={element:{get:N},style:{get:function(){return s}},childViews:{get:U}},q=Object.assign({},H,{rect:{get:F},ref:{get:function(){return I}},is:function(t){return o===t},appendChild:u(r),createChildView:V(t),linkView:function(t){return b.push(t),t},unlinkView:function(t){b.splice(b.indexOf(t),1)},appendChildView:h(0,b),removeChildView:d(r,b),registerWriter:function(t){return x.push(t)},registerReader:function(t){return D.push(t)},registerDestroyer:function(t){return L.push(t)},invalidateLayout:function(){return r.layoutCalculated=!1},dispatch:t.dispatch,query:t.query}),z={element:{get:N},childViews:{get:U},rect:{get:F},resting:{get:function(){return y}},isRectIgnored:function(){return P},_read:G,_write:j,_destroy:B},$=Object.assign({},H,{rect:{get:function(){return l}}});Object.keys(k).sort(function(t,e){return"styles"===t?1:"styles"===e?-1:0}).forEach(function(t){var n=C[t]({mixinConfig:k[t],viewProps:e,viewState:O,viewInternalAPI:q,viewExternalAPI:z,view:i($)});n&&w.push(n)});var W=i(q);_({root:W,props:e});var Y=g(r);return b.forEach(function(t,e){W.appendChild(t.element,Y+e)}),S(W),i(z)}},x=function(t,e){return function(n){var r=n.root,i=n.props,o=n.actions,s=void 0===o?[]:o,a=n.timestamp,l=n.shouldOptimize;s.filter(function(e){return t[e.type]}).forEach(function(e){return t[e.type]({root:r,props:i,action:e.data,timestamp:a,shouldOptimize:l})}),e&&e({root:r,props:i,actions:s,timestamp:a,shouldOptimize:l})}},P=function(t,e){return e.parentNode.insertBefore(t,e)},D=function(t,e){return e.parentNode.insertBefore(t,e.nextSibling)},M=function(t){return Array.isArray(t)},L=function(t){return null==t},k=function(t){return t.trim()},N=function(t){return""+t},U=function(t){return"boolean"==typeof t},V=function(t){return U(t)?t:"true"===t},F=function(t){return"string"==typeof t},G=function(t){return _(t)?t:F(t)?N(t).replace(/[a-z]+/gi,""):0},j=function(t){return parseInt(G(t),10)},B=function(t){return parseFloat(G(t))},H=function(t){return _(t)&&isFinite(t)&&Math.floor(t)===t},q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(H(t))return t;var n=N(t).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),j(n)*e*e):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),j(n)*e):j(n)},z=function(t){return"function"==typeof t},$={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},W=function(t){return"object"==typeof t&&null!==t},Y=function(t){return M(t)?"array":function(t){return null===t}(t)?"null":H(t)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)?"bytes":function(t){return W(t)&&F(t.url)&&W(t.process)&&W(t.revert)&&W(t.restore)&&W(t.fetch)}(t)?"api":typeof t},X={array:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return L(t)?[]:M(t)?t:N(t).split(e).map(k).filter(function(t){return t.length})},boolean:V,int:function(t){return"bytes"===Y(t)?q(t):j(t)},number:B,float:B,bytes:q,string:function(t){return z(t)?t:N(t)},function:function(t){return function(t){for(var e=self,n=t.split("."),r=null;r=n.shift();)if(!(e=e[r]))return null;return e}(t)},serverapi:function(t){return(n={}).url=F(e=t)?e:e.url||"",n.timeout=e.timeout?parseInt(e.timeout,10):0,n.headers=e.headers?e.headers:{},r($,function(t){n[t]=function(t,e,n,r,i){if(null===e)return null;if("function"==typeof e)return e;var o={url:"GET"===n||"PATCH"===n?"?"+t+"=":"",method:n,headers:i,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(F(e))return o.url=e,o;if(Object.assign(o,e),F(o.headers)){var s=o.headers.split(/:(.+)/);o.headers={header:s[0],value:s[1]}}return o.withCredentials=V(o.withCredentials),o}(t,e[t],$[t],n.timeout,n.headers)}),n.remove=e.remove||null,delete n.headers,n;var e,n},object:function(t){try{return JSON.parse(t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'))}catch(e){return null}}},Z=function(t,e,n){if(t===e)return t;var r=Y(t);if(r!==n){var i=X[n](t);if(r=Y(i),null===i)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"';t=i}return t},Q=function(t){var e={};return r(t,function(n){var r,i,o,s=t[n];e[n]=(i=s[1],o=r=s[0],{enumerable:!0,get:function(){return o},set:function(t){o=Z(t,r,i)}})}),i(e)},J=function(t){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Q(t)}},K=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.split(/(?=[A-Z])/).map(function(t){return t.toLowerCase()}).join(e)},tt=function(t,e){var n={};return r(e,function(e){n[e]={get:function(){return t.getState().options[e]},set:function(n){t.dispatch("SET_"+K(e,"_").toUpperCase(),{value:n})}}}),n},et=function(t){return function(e,n,i){var o={};return r(t,function(t){var n=K(t,"_").toUpperCase();o["SET_"+n]=function(r){try{i.options[t]=r.value}catch(o){}e("DID_SET_"+n,{value:i.options[t]})}}),o}},nt=function(t){return function(e){var n={};return r(t,function(t){n["GET_"+K(t,"_").toUpperCase()]=function(n){return e.options[t]}}),n}},rt=function(){return Math.random().toString(36).substr(2,9)};function it(t){this.wrapped=t}function ot(t){var e,n;function r(e,n){try{var o=t[e](n),s=o.value,a=s instanceof it;Promise.resolve(a?s.wrapped:s).then(function(t){a?r("next",t):i(o.done?"return":"normal",t)},function(t){r("throw",t)})}catch(l){i("throw",l)}}function i(t,i){switch(t){case"return":e.resolve({value:i,done:!0});break;case"throw":e.reject(i);break;default:e.resolve({value:i,done:!1})}(e=e.next)?r(e.key,e.arg):n=null}this._invoke=function(t,i){return new Promise(function(o,s){var a={key:t,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(e=n=a,r(t,i))})},"function"!=typeof t.return&&(this.return=void 0)}function st(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function at(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}"function"==typeof Symbol&&Symbol.asyncIterator&&(ot.prototype[Symbol.asyncIterator]=function(){return this}),ot.prototype.next=function(t){return this._invoke("next",t)},ot.prototype.throw=function(t){return this._invoke("throw",t)},ot.prototype.return=function(t){return this._invoke("return",t)};var lt,ct,ut=function(t,e){return t.splice(e,1)},ht=function(){var t=[],e=function(e,n){ut(t,t.findIndex(function(t){return t.event===e&&(t.cb===n||!n)}))},n=function(e,n,r){t.filter(function(t){return t.event===e}).map(function(t){return t.cb}).forEach(function(t){return function(t,e){e?t():document.hidden?Promise.resolve(1).then(t):setTimeout(t,0)}(function(){return t.apply(void 0,at(n))},r)})};return{fireSync:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n(t,r,!0)},fire:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n(t,r,!1)},on:function(e,n){t.push({event:e,cb:n})},onOnce:function(n,r){t.push({event:n,cb:function(){e(n,r),r.apply(void 0,arguments)}})},off:e}},dt=function(t,e,n){Object.getOwnPropertyNames(t).filter(function(t){return!n.includes(t)}).forEach(function(n){return Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})},ft=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],pt=function(t){var e={};return dt(t,e,ft),e},gt=function(t){t.forEach(function(e,n){e.released&&ut(t,n)})},mt={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},vt={INPUT:1,LIMBO:2,LOCAL:3},yt=function(t){return/[^0-9]+/.exec(t)},_t=function(){return yt(1.1.toLocaleString())[0]},bt={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Et=[],wt=function(t,e,n){return new Promise(function(r,i){var o=Et.filter(function(e){return e.key===t}).map(function(t){return t.cb});if(0!==o.length){var s=o.shift();o.reduce(function(t,e){return t.then(function(t){return e(t,n)})},s(e,n)).then(function(t){return r(t)}).catch(function(t){return i(t)})}else r(e)})},Tt=function(t,e,n){return Et.filter(function(e){return e.key===t}).map(function(t){return t.cb(e,n)})},It=function(t,e){return Et.push({key:t,cb:e})},St=function(){return Object.assign({},Ot)},Ot={id:[null,bt.STRING],name:["filepond",bt.STRING],disabled:[!1,bt.BOOLEAN],className:[null,bt.STRING],required:[!1,bt.BOOLEAN],captureMethod:[null,bt.STRING],allowSyncAcceptAttribute:[!0,bt.BOOLEAN],allowDrop:[!0,bt.BOOLEAN],allowBrowse:[!0,bt.BOOLEAN],allowPaste:[!0,bt.BOOLEAN],allowMultiple:[!1,bt.BOOLEAN],allowReplace:[!0,bt.BOOLEAN],allowRevert:[!0,bt.BOOLEAN],allowRemove:[!0,bt.BOOLEAN],allowProcess:[!0,bt.BOOLEAN],allowReorder:[!1,bt.BOOLEAN],allowDirectoriesOnly:[!1,bt.BOOLEAN],forceRevert:[!1,bt.BOOLEAN],maxFiles:[null,bt.INT],checkValidity:[!1,bt.BOOLEAN],itemInsertLocationFreedom:[!0,bt.BOOLEAN],itemInsertLocation:["before",bt.STRING],itemInsertInterval:[75,bt.INT],dropOnPage:[!1,bt.BOOLEAN],dropOnElement:[!0,bt.BOOLEAN],dropValidation:[!1,bt.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],bt.ARRAY],instantUpload:[!0,bt.BOOLEAN],maxParallelUploads:[2,bt.INT],allowMinimumUploadDuration:[!0,bt.BOOLEAN],chunkUploads:[!1,bt.BOOLEAN],chunkForce:[!1,bt.BOOLEAN],chunkSize:[5e6,bt.INT],chunkRetryDelays:[[500,1e3,3e3],bt.ARRAY],server:[null,bt.SERVER_API],fileSizeBase:[1e3,bt.INT],labelDecimalSeparator:[_t(),bt.STRING],labelThousandsSeparator:[(lt=_t(),ct=1e3.toLocaleString(),ct!==1e3.toString()?yt(ct)[0]:"."===lt?",":"."),bt.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',bt.STRING],labelInvalidField:["Field contains invalid files",bt.STRING],labelFileWaitingForSize:["Waiting for size",bt.STRING],labelFileSizeNotAvailable:["Size not available",bt.STRING],labelFileCountSingular:["file in list",bt.STRING],labelFileCountPlural:["files in list",bt.STRING],labelFileLoading:["Loading",bt.STRING],labelFileAdded:["Added",bt.STRING],labelFileLoadError:["Error during load",bt.STRING],labelFileRemoved:["Removed",bt.STRING],labelFileRemoveError:["Error during remove",bt.STRING],labelFileProcessing:["Uploading",bt.STRING],labelFileProcessingComplete:["Upload complete",bt.STRING],labelFileProcessingAborted:["Upload cancelled",bt.STRING],labelFileProcessingError:["Error during upload",bt.STRING],labelFileProcessingRevertError:["Error during revert",bt.STRING],labelTapToCancel:["tap to cancel",bt.STRING],labelTapToRetry:["tap to retry",bt.STRING],labelTapToUndo:["tap to undo",bt.STRING],labelButtonRemoveItem:["Remove",bt.STRING],labelButtonAbortItemLoad:["Abort",bt.STRING],labelButtonRetryItemLoad:["Retry",bt.STRING],labelButtonAbortItemProcessing:["Cancel",bt.STRING],labelButtonUndoItemProcessing:["Undo",bt.STRING],labelButtonRetryItemProcessing:["Retry",bt.STRING],labelButtonProcessItem:["Upload",bt.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',bt.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',bt.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',bt.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',bt.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',bt.STRING],oninit:[null,bt.FUNCTION],onwarning:[null,bt.FUNCTION],onerror:[null,bt.FUNCTION],onactivatefile:[null,bt.FUNCTION],oninitfile:[null,bt.FUNCTION],onaddfilestart:[null,bt.FUNCTION],onaddfileprogress:[null,bt.FUNCTION],onaddfile:[null,bt.FUNCTION],onprocessfilestart:[null,bt.FUNCTION],onprocessfileprogress:[null,bt.FUNCTION],onprocessfileabort:[null,bt.FUNCTION],onprocessfilerevert:[null,bt.FUNCTION],onprocessfile:[null,bt.FUNCTION],onprocessfiles:[null,bt.FUNCTION],onremovefile:[null,bt.FUNCTION],onpreparefile:[null,bt.FUNCTION],onupdatefiles:[null,bt.FUNCTION],onreorderfiles:[null,bt.FUNCTION],beforeDropFile:[null,bt.FUNCTION],beforeAddFile:[null,bt.FUNCTION],beforeRemoveFile:[null,bt.FUNCTION],beforePrepareFile:[null,bt.FUNCTION],stylePanelLayout:[null,bt.STRING],stylePanelAspectRatio:[null,bt.STRING],styleItemPanelAspectRatio:[null,bt.STRING],styleButtonRemoveItemPosition:["left",bt.STRING],styleButtonProcessItemPosition:["right",bt.STRING],styleLoadIndicatorPosition:["right",bt.STRING],styleProgressIndicatorPosition:["right",bt.STRING],styleButtonRemoveItemAlign:[!1,bt.BOOLEAN],files:[[],bt.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],bt.ARRAY]},Ct=function(t,e){return L(e)?t[0]||null:H(e)?t[e]||null:("object"==typeof e&&(e=e.id),t.find(function(t){return t.id===e})||null)},Rt=function(t){if(L(t))return t;if(/:/.test(t)){var e=t.split(":");return e[1]/e[0]}return parseFloat(t)},At=function(t){return t.filter(function(t){return!t.archived})},xt={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},Pt=[mt.LOAD_ERROR,mt.PROCESSING_ERROR,mt.PROCESSING_REVERT_ERROR],Dt=[mt.LOADING,mt.PROCESSING,mt.PROCESSING_QUEUED,mt.INIT],Mt=[mt.PROCESSING_COMPLETE],Lt=function(t){return Pt.includes(t.status)},kt=function(t){return Dt.includes(t.status)},Nt=function(t){return Mt.includes(t.status)},Ut=function(t){return{GET_STATUS:function(){var e=At(t.items),n=xt.ERROR,r=xt.BUSY,i=xt.IDLE,o=xt.READY;return 0===e.length?xt.EMPTY:e.some(Lt)?n:e.some(kt)?r:e.some(Nt)?o:i},GET_ITEM:function(e){return Ct(t.items,e)},GET_ACTIVE_ITEM:function(e){return Ct(At(t.items),e)},GET_ACTIVE_ITEMS:function(){return At(t.items)},GET_ITEMS:function(){return t.items},GET_ITEM_NAME:function(e){var n=Ct(t.items,e);return n?n.filename:null},GET_ITEM_SIZE:function(e){var n=Ct(t.items,e);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(t.options).filter(function(t){return/^style/.test(t)}).map(function(e){return{name:e,value:t.options[e]}})},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(t.options.stylePanelLayout)?1:Rt(t.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return t.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(e){return At(t.items).filter(function(t){return t.status===e})},GET_TOTAL_ITEMS:function(){return At(t.items).length},IS_ASYNC:function(){return W(t.options.server)&&(W(t.options.server.process)||z(t.options.server.process))}}},Vt=function(t,e,n){return Math.max(Math.min(n,t),e)},Ft=function(t){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t)},Gt=function(t){return t.split("/").pop().split("?").shift()},jt=function(t){return t.split(".").pop()},Bt=function(t){if("string"!=typeof t)return"";var e=t.split("/").pop();return/svg/.test(e)?"svg":/zip|compressed/.test(e)?"zip":/plain/.test(e)?"txt":/msword/.test(e)?"doc":/[a-z]+/.test(e)?"jpeg"===e?"jpg":e:""},Ht=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(e+t).slice(-e.length)},qt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return t.getFullYear()+"-"+Ht(t.getMonth()+1,"00")+"-"+Ht(t.getDate(),"00")+"_"+Ht(t.getHours(),"00")+"-"+Ht(t.getMinutes(),"00")+"-"+Ht(t.getSeconds(),"00")},zt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=t.slice(0,t.size,"string"==typeof n?n:t.type);return i.lastModifiedDate=new Date,t._relativePath&&(i._relativePath=t._relativePath),F(e)||(e=qt()),e&&null===r&&jt(e)?i.name=e:(r=r||Bt(i.type),i.name=e+(r?"."+r:"")),i},$t=function(t,e){var n=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(n){var r=new n;return r.append(t),r.getBlob(e)}return new Blob([t],{type:e})},Wt=function(t){return(/^data:(.+);/.exec(t)||[])[1]||null},Yt=function(t){if(!/^content-disposition:/i.test(t))return null;var e=t.split(/filename=|filename\*=.+''/).splice(1).map(function(t){return t.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(t){return t.length});return e.length?decodeURI(e[e.length-1]):null},Xt=function(t){if(/content-length:/i.test(t)){var e=t.match(/[0-9]+/)[0];return e?parseInt(e,10):null}return null},Zt=function(t){return/x-content-transfer-id:/i.test(t)&&(t.split(":")[1]||"").trim()||null},Qt=function(t){var e={source:null,name:null,size:null},n=t.split("\n"),r=!0,i=!1,o=void 0;try{for(var s,a=n[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value,c=Yt(l);if(c)e.name=c;else{var u=Xt(l);if(u)e.size=u;else{var h=Zt(l);h&&(e.source=h)}}}}catch(d){i=!0,o=d}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return e},Jt=function(t){var e={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=Object.assign({},ht(),{setSource:function(t){return e.source=t},getProgress:function(){return e.progress},abort:function(){e.request&&e.request.abort&&e.request.abort()},load:function(){var r,i,o,s=e.source;n.fire("init",s),s instanceof File?n.fire("load",s):s instanceof Blob?n.fire("load",zt(s,s.name)):Ft(s)?n.fire("load",zt((o=Wt(i=s),function(t,e){for(var n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return $t(n,e)}(function(t){return atob(function(t){return t.split(",")[1].replace(/\s/g,"")}(t))}(i),o)),undefined,null,undefined)):(r=s,t?(e.timestamp=Date.now(),e.request=t(r,function(t){e.duration=Date.now()-e.timestamp,e.complete=!0,t instanceof Blob&&(t=zt(t,t.name||Gt(r))),n.fire("load",t instanceof Blob?t:t?t.body:null)},function(t){n.fire("error","string"==typeof t?{type:"error",code:0,body:t}:t)},function(t,r,i){i&&(e.size=i),e.duration=Date.now()-e.timestamp,t?(e.progress=r/i,n.fire("progress",e.progress)):e.progress=null},function(){n.fire("abort")},function(t){var r=Qt("string"==typeof t?t:t.headers);n.fire("meta",{size:e.size||r.size,filename:r.name,source:r.source})})):n.fire("error",{type:"error",body:"Can't load URL",code:400}))}});return n},Kt=function(t){return/GET|HEAD/.test(t)},te=function(t,e,n){var r={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){i=!0,s.abort()}},i=!1,o=!1;n=Object.assign({method:"POST",headers:{},withCredentials:!1},n),e=encodeURI(e),Kt(n.method)&&t&&(e=""+e+encodeURIComponent("string"==typeof t?t:JSON.stringify(t)));var s=new XMLHttpRequest;return(Kt(n.method)?s:s.upload).onprogress=function(t){i||r.onprogress(t.lengthComputable,t.loaded,t.total)},s.onreadystatechange=function(){s.readyState<2||4===s.readyState&&0===s.status||o||(o=!0,r.onheaders(s))},s.onload=function(){s.status>=200&&s.status<300?r.onload(s):r.onerror(s)},s.onerror=function(){return r.onerror(s)},s.onabort=function(){i=!0,r.onabort()},s.ontimeout=function(){return r.ontimeout(s)},s.open(n.method,e,!0),H(n.timeout)&&(s.timeout=n.timeout),Object.keys(n.headers).forEach(function(t){var e=unescape(encodeURIComponent(n.headers[t]));s.setRequestHeader(t,e)}),n.responseType&&(s.responseType=n.responseType),n.withCredentials&&(s.withCredentials=!0),s.send(t),r},ee=function(t,e,n,r){return{type:t,code:e,body:n,headers:r}},ne=function(t){return function(e){t(ee("error",0,"Timeout",e.getAllResponseHeaders()))}},re=function(t){return/\?/.test(t)},ie=function(){for(var t="",e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){t+=re(t)&&re(e)?e.replace(/\?/,"&"):e}),t},oe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if("function"==typeof e)return e;if(!e||!F(e.url))return null;var n=e.onload||function(t){return t},r=e.onerror||function(t){return null};return function(i,o,s,a,l,c){var u=te(i,ie(t,e.url),Object.assign({},e,{responseType:"blob"}));return u.onload=function(t){var r=t.getAllResponseHeaders(),s=Qt(r).name||Gt(i);o(ee("load",t.status,"HEAD"===e.method?null:zt(n(t.response),s),r))},u.onerror=function(t){s(ee("error",t.status,r(t.response)||t.statusText,t.getAllResponseHeaders()))},u.onheaders=function(t){c(ee("headers",t.status,null,t.getAllResponseHeaders()))},u.ontimeout=ne(s),u.onprogress=a,u.onabort=l,u}},se=function(t,e,n,r,i,o,s,a,l,c,u){for(var h=[],d=u.chunkServer,f=u.chunkSize,p=u.chunkRetryDelays,g={serverId:u.chunkTransferId,aborted:!1},m=e.ondata||function(t){return t},v=e.onload||function(t,e){return"HEAD"===e?t.getResponseHeader("Upload-Offset"):t.response},y=e.onerror||function(t){return null},_=Math.floor(r.size/f),b=0;b<=_;b++){var E=b*f,w=r.slice(E,E+f,"application/offset+octet-stream");h[b]={index:b,size:w.size,offset:E,data:w,file:r,progress:0,retries:at(p),status:0,error:null,request:null,timeout:null}}var T,I,S,O,C=function(t){return 0===t.status||3===t.status},R=function(e){if(!g.aborted)if(e=e||h.find(C)){e.status=2,e.progress=null;var n=d.ondata||function(t){return t},i=d.onerror||function(t){return null},a=ie(t,d.url,g.serverId),c="function"==typeof d.headers?d.headers(e):Object.assign({},d.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":e.offset,"Upload-Length":r.size,"Upload-Name":r.name}),u=e.request=te(n(e.data),a,Object.assign({},d,{headers:c}));u.onload=function(){e.status=1,e.request=null,P()},u.onprogress=function(t,n,r){e.progress=t?n:null,x()},u.onerror=function(t){e.status=3,e.request=null,e.error=i(t.response)||t.statusText,A(e)||s(ee("error",t.status,i(t.response)||t.statusText,t.getAllResponseHeaders()))},u.ontimeout=function(t){e.status=3,e.request=null,A(e)||ne(s)(t)},u.onabort=function(){e.status=0,e.request=null,l()}}else h.every(function(t){return 1===t.status})&&o(g.serverId)},A=function(t){return 0!==t.retries.length&&(t.status=4,clearTimeout(t.timeout),t.timeout=setTimeout(function(){R(t)},t.retries.shift()),!0)},x=function(){var t=h.reduce(function(t,e){return null===t||null===e.progress?null:t+e.progress},0);if(null===t)return a(!1,0,0);var e=h.reduce(function(t,e){return t+e.size},0);a(!0,t,e)},P=function(){h.filter(function(t){return 2===t.status}).length>=1||R()};return g.serverId?(T=function(t){g.aborted||(h.filter(function(e){return e.offset<t}).forEach(function(t){t.status=1,t.progress=t.size}),P())},I=ie(t,d.url,g.serverId),S={headers:"function"==typeof e.headers?e.headers(g.serverId):Object.assign({},e.headers),method:"HEAD"},(O=te(null,I,S)).onload=function(t){return T(v(t,S.method))},O.onerror=function(t){return s(ee("error",t.status,y(t.response)||t.statusText,t.getAllResponseHeaders()))},O.ontimeout=ne(s)):function(o){var a=new FormData;W(i)&&a.append(n,JSON.stringify(i));var l="function"==typeof e.headers?e.headers(r,i):Object.assign({},e.headers,{"Upload-Length":r.size}),u=Object.assign({},e,{headers:l}),h=te(m(a),ie(t,e.url),u);h.onload=function(t){return e=v(t,u.method),void(g.aborted||(c(e),g.serverId=e,P()));var e},h.onerror=function(t){return s(ee("error",t.status,y(t.response)||t.statusText,t.getAllResponseHeaders()))},h.ontimeout=ne(s)}(),{abort:function(){g.aborted=!0,h.forEach(function(t){clearTimeout(t.timeout),t.request&&t.request.abort()})}}},ae=function(t,e,n,r){return function(i,o,s,a,l,c,u){if(i){var h=r.chunkUploads;if(i instanceof Blob&&h&&(h&&i.size>r.chunkSize||r.chunkForce))return se(t,e,n,i,o,s,a,l,c,u,r);var d=e.ondata||function(t){return t},f=e.onload||function(t){return t},p=e.onerror||function(t){return null},g="function"==typeof e.headers?e.headers(i,o)||{}:Object.assign({},e.headers),m=Object.assign({},e,{headers:g}),v=new FormData;W(o)&&v.append(n,JSON.stringify(o)),(i instanceof Blob?[{name:null,file:i}]:i).forEach(function(t){v.append(n,t.file,null===t.name?t.file.name:""+t.name+t.file.name)});var y=te(d(v),ie(t,e.url),m);return y.onload=function(t){s(ee("load",t.status,f(t.response),t.getAllResponseHeaders()))},y.onerror=function(t){a(ee("error",t.status,p(t.response)||t.statusText,t.getAllResponseHeaders()))},y.ontimeout=ne(a),y.onprogress=l,y.onabort=c,y}}},le=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if("function"==typeof e)return e;if(!e||!F(e.url))return function(t,e){return e()};var n=e.onload||function(t){return t},r=e.onerror||function(t){return null};return function(i,o,s){var a=te(i,t+e.url,e);return a.onload=function(t){o(ee("load",t.status,n(t.response),t.getAllResponseHeaders()))},a.onerror=function(t){s(ee("error",t.status,r(t.response)||t.statusText,t.getAllResponseHeaders()))},a.ontimeout=ne(s),a}},ce=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t+Math.random()*(e-t)},ue=function(t){return t.substr(0,t.lastIndexOf("."))||t},he=function(t){var e=[t.name,t.size,t.type];return t instanceof Blob||Ft(t)?e[0]=t.name||qt():Ft(t)?(e[1]=t.length,e[2]=Wt(t)):F(t)&&(e[0]=Gt(t),e[1]=0,e[2]="application/octet-stream"),{name:e[0],size:e[1],type:e[2]}},de=function(t){return!!(t instanceof File||t instanceof Blob&&t.name)},fe=function t(e){if(!W(e))return e;var n=M(e)?[]:{};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];n[r]=i&&W(i)?t(i):i}return n},pe=function(t,e){var n=function(t,e){return L(e)?0:F(e)?t.findIndex(function(t){return t.id===e}):-1}(t,e);if(!(n<0))return t[n]||null},ge=function(t,e,n,r,i,o){var s=te(null,t,{method:"GET",responseType:"blob"});return s.onload=function(n){var r=n.getAllResponseHeaders(),i=Qt(r).name||Gt(t);e(ee("load",n.status,zt(n.response,i),r))},s.onerror=function(t){n(ee("error",t.status,t.statusText,t.getAllResponseHeaders()))},s.onheaders=function(t){o(ee("headers",t.status,null,t.getAllResponseHeaders()))},s.ontimeout=ne(n),s.onprogress=r,s.onabort=i,s},me=function(t){return 0===t.indexOf("//")&&(t=location.protocol+t),t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},ve=function(t){return function(){return z(t)?t.apply(void 0,arguments):t}},ye=function(t,e){clearTimeout(e.listUpdateTimeout),e.listUpdateTimeout=setTimeout(function(){t("DID_UPDATE_ITEMS",{items:At(e.items)})},0)},_e=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new Promise(function(e){if(!t)return e(!0);var r=t.apply(void 0,n);return null==r?e(!0):"boolean"==typeof r?e(r):void("function"==typeof r.then&&r.then(e))})},be=function(t,e){t.items.sort(function(t,n){return e(pt(t),pt(n))})},Ee=function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.query,i=n.success,o=void 0===i?function(){}:i,s=n.failure,a=void 0===s?function(){}:s,l=st(n,["query","success","failure"]),c=Ct(t.items,r);c?e(c,o,a,l||{}):a({error:ee("error",0,"Item not found"),file:null})}},we=function(t,e,n){return{ABORT_ALL:function(){At(n.items).forEach(function(t){t.freeze(),t.abortLoad(),t.abortProcessing()})},DID_SET_FILES:function(e){var r=e.value,i=(void 0===r?[]:r).map(function(t){return{source:t.source?t.source:t,options:t.options}}),o=At(n.items);o.forEach(function(e){i.find(function(t){return t.source===e.source||t.source===e.file})||t("REMOVE_ITEM",{query:e,remove:!1})}),o=At(n.items),i.forEach(function(e,n){o.find(function(t){return t.source===e.source||t.file===e.source})||t("ADD_ITEM",Object.assign({},e,{interactionMethod:5,index:n}))})},DID_UPDATE_ITEM_METADATA:function(r){var i=r.id,o=r.action,s=r.change;s.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(function(){var r,a=pe(n.items,i);if(e("IS_ASYNC")){var l=function(){setTimeout(function(){t("REQUEST_ITEM_PROCESSING",{query:i})},32)};return a.status===mt.PROCESSING_COMPLETE?(r=n.options.instantUpload,void a.revert(le(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(r?l:function(){}).catch(function(){})):a.status===mt.PROCESSING?function(t){a.abortProcessing().then(t?l:function(){})}(n.options.instantUpload):void(n.options.instantUpload&&l())}wt("SHOULD_PREPARE_OUTPUT",!1,{item:a,query:e,action:o,change:s}).then(function(n){var r=e("GET_BEFORE_PREPARE_FILE");r&&(n=r(a,n)),n&&t("REQUEST_PREPARE_OUTPUT",{query:i,item:a,success:function(e){t("DID_PREPARE_OUTPUT",{id:i,file:e})}},!0)})},0))},MOVE_ITEM:function(t){var e=t.index,r=Ct(n.items,t.query);if(r){var i=n.items.indexOf(r);i!==(e=Vt(e,0,n.items.length-1))&&n.items.splice(e,0,n.items.splice(i,1)[0])}},SORT:function(r){be(n,r.compare),t("DID_SORT_ITEMS",{items:e("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(n){var r=n.items,i=n.index,o=n.interactionMethod,s=n.success,a=void 0===s?function(){}:s,l=n.failure,c=void 0===l?function(){}:l,u=i;if(-1===i||void 0===i){var h=e("GET_ITEM_INSERT_LOCATION"),d=e("GET_TOTAL_ITEMS");u="before"===h?0:d}var f=e("GET_IGNORED_FILES"),p=r.filter(function(t){return de(t)?!f.includes(t.name.toLowerCase()):!L(t)}).map(function(e){return new Promise(function(n,r){t("ADD_ITEM",{interactionMethod:o,source:e.source||e,success:n,failure:r,index:u++,options:e.options||{}})})});Promise.all(p).then(a).catch(c)},ADD_ITEM:function(r){var o=r.source,s=r.index,a=void 0===s?-1:s,l=r.interactionMethod,c=r.success,u=void 0===c?function(){}:c,h=r.failure,d=void 0===h?function(){}:h,f=r.options,p=void 0===f?{}:f;if(L(o))d({error:ee("error",0,"No source"),file:null});else if(!de(o)||!n.options.ignoredFiles.includes(o.name.toLowerCase())){if(!function(t){var e=At(t.items).length;if(!t.options.allowMultiple)return 0===e;var n=t.options.maxFiles;return null===n||e<n}(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){var g=ee("warning",0,"Max files");return t("DID_THROW_MAX_FILES",{source:o,error:g}),void d({error:g,file:null})}var m=At(n.items)[0];if(m.status===mt.PROCESSING_COMPLETE||m.status===mt.PROCESSING_REVERT_ERROR){var v=e("GET_FORCE_REVERT");if(m.revert(le(n.options.server.url,n.options.server.revert),v).then(function(){v&&t("ADD_ITEM",{source:o,index:a,interactionMethod:l,success:u,failure:d,options:p})}).catch(function(){}),v)return}t("REMOVE_ITEM",{query:m.id})}var y="local"===p.type?vt.LOCAL:"limbo"===p.type?vt.LIMBO:vt.INPUT,_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=rt(),o={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:e,transferId:null,processingAborted:!1,status:e?mt.PROCESSING_COMPLETE:mt.INIT,activeLoader:null,activeProcessor:null},s=null,a={},l=function(t){return o.status=t},c=function(t){if(!o.released&&!o.frozen){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];d.fire.apply(d,[t].concat(n))}},u=function t(e,n){if(o.processingAborted)o.processingAborted=!1;else if(l(mt.PROCESSING),s=null,o.file instanceof Blob){e.on("load",function(t){o.transferId=null,o.serverFileReference=t}),e.on("transfer",function(t){o.transferId=t}),e.on("load-perceived",function(t){o.activeProcessor=null,o.transferId=null,o.serverFileReference=t,l(mt.PROCESSING_COMPLETE),c("process-complete",t)}),e.on("start",function(){c("process-start")}),e.on("error",function(t){o.activeProcessor=null,l(mt.PROCESSING_ERROR),c("process-error",t)}),e.on("abort",function(t){o.activeProcessor=null,o.transferId=null,o.serverFileReference=t,l(mt.IDLE),c("process-abort"),s&&s()}),e.on("progress",function(t){c("process-progress",t)});var r=console.error;n(o.file,function(t){o.archived||e.process(t,Object.assign({},a))},r),o.activeProcessor=e}else d.on("load",function(){t(e,n)})},h=function(t,e,n){var r=t.split("."),i=r[0],o=r.pop(),s=a;r.forEach(function(t){return s=s[t]}),JSON.stringify(s[o])!==JSON.stringify(e)&&(s[o]=e,c("metadata-update",{key:i,value:a[i],silent:n}))},d=Object.assign({id:{get:function(){return r}},origin:{get:function(){return t}},serverId:{get:function(){return o.serverFileReference}},transferId:{get:function(){return o.transferId}},status:{get:function(){return o.status}},filename:{get:function(){return o.file.name}},filenameWithoutExtension:{get:function(){return ue(o.file.name)}},fileExtension:{get:function(){return jt(o.file.name)}},fileType:{get:function(){return o.file.type}},fileSize:{get:function(){return o.file.size}},file:{get:function(){return o.file}},relativePath:{get:function(){return o.file._relativePath}},source:{get:function(){return o.source}},getMetadata:function(t){return fe(t?a[t]:a)},setMetadata:function(t,e,n){if(W(t)){var r=t;return Object.keys(r).forEach(function(t){h(t,r[t],e)}),t}return h(t,e,n),e},extend:function(t,e){return f[t]=e},abortLoad:function(){o.activeLoader?o.activeLoader.abort():(l(mt.INIT),c("load-abort"))},retryLoad:function(){o.activeLoader&&o.activeLoader.load()},requestProcessing:function(){o.processingAborted=!1,l(mt.PROCESSING_QUEUED)},abortProcessing:function(){return new Promise(function(t){if(!o.activeProcessor)return o.processingAborted=!0,l(mt.IDLE),c("process-abort"),void t();s=function(){t()},o.activeProcessor.abort()})},load:function(e,n,r){o.source=e,d.fireSync("init"),o.file?d.fireSync("load-skip"):(o.file=he(e),n.on("init",function(){c("load-init")}),n.on("meta",function(e){o.file.size=e.size,o.file.filename=e.filename,e.source&&(t=vt.LIMBO,o.serverFileReference=e.source,o.status=mt.PROCESSING_COMPLETE),c("load-meta")}),n.on("progress",function(t){l(mt.LOADING),c("load-progress",t)}),n.on("error",function(t){l(mt.LOAD_ERROR),c("load-request-error",t)}),n.on("abort",function(){l(mt.INIT),c("load-abort")}),n.on("load",function(e){o.activeLoader=null;var n=function(e){o.file=de(e)?e:o.file,l(t===vt.LIMBO&&o.serverFileReference?mt.PROCESSING_COMPLETE:mt.IDLE),c("load")};o.serverFileReference?n(e):r(e,n,function(t){o.file=e,c("load-meta"),l(mt.LOAD_ERROR),c("load-file-error",t)})}),n.setSource(e),o.activeLoader=n,n.load())},process:u,revert:function(t,e){return new Promise(function(n,r){null!==o.serverFileReference?(t(o.serverFileReference,function(){o.serverFileReference=null,n()},function(t){e?(l(mt.PROCESSING_REVERT_ERROR),c("process-revert-error"),r(t)):n()}),l(mt.IDLE),c("process-revert")):n()})}},ht(),{freeze:function(){return o.frozen=!0},release:function(){return o.released=!0},released:{get:function(){return o.released}},archive:function(){return o.archived=!0},archived:{get:function(){return o.archived}}}),f=i(d);return f}(y,y===vt.INPUT?null:o,p.file);Object.keys(p.metadata||{}).forEach(function(t){_.setMetadata(t,p.metadata[t])}),Tt("DID_CREATE_ITEM",_,{query:e,dispatch:t});var b=e("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(a="before"===b?-1:n.items.length),function(t,e,n){L(e)||(void 0===n?t.push(e):function(t,e,n){t.splice(e,0,n)}(t,n=Vt(n,0,t.length),e))}(n.items,_,a),z(b)&&o&&be(n,b);var E=_.id;_.on("init",function(){t("DID_INIT_ITEM",{id:E})}),_.on("load-init",function(){t("DID_START_ITEM_LOAD",{id:E})}),_.on("load-meta",function(){t("DID_UPDATE_ITEM_META",{id:E})}),_.on("load-progress",function(e){t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:E,progress:e})}),_.on("load-request-error",function(e){var r=ve(n.options.labelFileLoadError)(e);if(e.code>=400&&e.code<500)return t("DID_THROW_ITEM_INVALID",{id:E,error:e,status:{main:r,sub:e.code+" ("+e.body+")"}}),void d({error:e,file:pt(_)});t("DID_THROW_ITEM_LOAD_ERROR",{id:E,error:e,status:{main:r,sub:n.options.labelTapToRetry}})}),_.on("load-file-error",function(e){t("DID_THROW_ITEM_INVALID",{id:E,error:e.status,status:e.status}),d({error:e.status,file:pt(_)})}),_.on("load-abort",function(){t("REMOVE_ITEM",{query:E})}),_.on("load-skip",function(){t("COMPLETE_LOAD_ITEM",{query:E,item:_,data:{source:o,success:u}})}),_.on("load",function(){var r=function(r){r?(_.on("metadata-update",function(e){t("DID_UPDATE_ITEM_METADATA",{id:E,change:e})}),wt("SHOULD_PREPARE_OUTPUT",!1,{item:_,query:e}).then(function(r){var i=e("GET_BEFORE_PREPARE_FILE");i&&(r=i(_,r));var s=function(){t("COMPLETE_LOAD_ITEM",{query:E,item:_,data:{source:o,success:u}}),ye(t,n)};r?t("REQUEST_PREPARE_OUTPUT",{query:E,item:_,success:function(e){t("DID_PREPARE_OUTPUT",{id:E,file:e}),s()}},!0):s()})):t("REMOVE_ITEM",{query:E})};wt("DID_LOAD_ITEM",_,{query:e,dispatch:t}).then(function(){_e(e("GET_BEFORE_ADD_FILE"),pt(_)).then(r)}).catch(function(){r(!1)})}),_.on("process-start",function(){t("DID_START_ITEM_PROCESSING",{id:E})}),_.on("process-progress",function(e){t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:E,progress:e})}),_.on("process-error",function(e){t("DID_THROW_ITEM_PROCESSING_ERROR",{id:E,error:e,status:{main:ve(n.options.labelFileProcessingError)(e),sub:n.options.labelTapToRetry}})}),_.on("process-revert-error",function(e){t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:E,error:e,status:{main:ve(n.options.labelFileProcessingRevertError)(e),sub:n.options.labelTapToRetry}})}),_.on("process-complete",function(e){t("DID_COMPLETE_ITEM_PROCESSING",{id:E,error:null,serverFileReference:e}),t("DID_DEFINE_VALUE",{id:E,value:e})}),_.on("process-abort",function(){t("DID_ABORT_ITEM_PROCESSING",{id:E})}),_.on("process-revert",function(){t("DID_REVERT_ITEM_PROCESSING",{id:E}),t("DID_DEFINE_VALUE",{id:E,value:null})}),t("DID_ADD_ITEM",{id:E,index:a,interactionMethod:l}),ye(t,n);var w=n.options.server||{},T=w.url,I=w.load,S=w.restore,O=w.fetch;_.load(o,Jt(y===vt.INPUT?F(o)&&function(t){return(t.indexOf(":")>-1||t.indexOf("//")>-1)&&me(location.href)!==me(t)}(o)&&O?oe(T,O):ge:oe(T,y===vt.LIMBO?S:I)),function(t,n,r){wt("LOAD_FILE",t,{query:e}).then(n).catch(r)})}},REQUEST_PREPARE_OUTPUT:function(t){var n=t.item,r=t.success,i=t.failure,o=void 0===i?function(){}:i,s={error:ee("error",0,"Item not found"),file:null};if(n.archived)return o(s);wt("PREPARE_OUTPUT",n.file,{query:e,item:n}).then(function(t){wt("COMPLETE_PREPARE_OUTPUT",t,{query:e,item:n}).then(function(t){if(n.archived)return o(s);r(t)})})},COMPLETE_LOAD_ITEM:function(r){var i=r.item,o=r.data,s=o.success,a=o.source,l=e("GET_ITEM_INSERT_LOCATION");if(z(l)&&a&&be(n,l),t("DID_LOAD_ITEM",{id:i.id,error:null,serverFileReference:i.origin===vt.INPUT?null:a}),s(pt(i)),i.origin!==vt.LOCAL)return i.origin===vt.LIMBO?(t("DID_COMPLETE_ITEM_PROCESSING",{id:i.id,error:null,serverFileReference:a}),void t("DID_DEFINE_VALUE",{id:i.id,value:a})):void(e("IS_ASYNC")&&n.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:i.id}));t("DID_LOAD_LOCAL_ITEM",{id:i.id})},RETRY_ITEM_LOAD:Ee(n,function(t){t.retryLoad()}),REQUEST_ITEM_PREPARE:Ee(n,function(e,n,r){t("REQUEST_PREPARE_OUTPUT",{query:e.id,item:e,success:function(r){t("DID_PREPARE_OUTPUT",{id:e.id,file:r}),n({file:e,output:r})},failure:r},!0)}),REQUEST_ITEM_PROCESSING:Ee(n,function(r,i,o){if(r.status===mt.IDLE||r.status===mt.PROCESSING_ERROR)r.status!==mt.PROCESSING_QUEUED&&(r.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),t("PROCESS_ITEM",{query:r,success:i,failure:o},!0));else{var s=function(){return t("REQUEST_ITEM_PROCESSING",{query:r,success:i,failure:o})},a=function(){return document.hidden?s():setTimeout(s,32)};r.status===mt.PROCESSING_COMPLETE||r.status===mt.PROCESSING_REVERT_ERROR?r.revert(le(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(a).catch(function(){}):r.status===mt.PROCESSING&&r.abortProcessing().then(a)}}),PROCESS_ITEM:Ee(n,function(r,i,o){var s=e("GET_MAX_PARALLEL_UPLOADS");if(e("GET_ITEMS_BY_STATUS",mt.PROCESSING).length!==s){if(r.status!==mt.PROCESSING){var a=function e(){var r=n.processingQueue.shift();if(r){var i=r.id,o=r.success,s=r.failure,a=Ct(n.items,i);a&&!a.archived?t("PROCESS_ITEM",{query:i,success:o,failure:s},!0):e()}};r.onOnce("process-complete",function(){i(pt(r)),a(),e("GET_ITEMS_BY_STATUS",mt.PROCESSING_COMPLETE).length===n.items.length&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")}),r.onOnce("process-error",function(t){o({error:t,file:pt(r)}),a()});var l=n.options;r.process(function(t,e){var n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},r=e.allowMinimumUploadDuration,i=function(){n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},o=r?function(){return n.progress?Math.min(n.progress,n.perceivedProgress):null}:function(){return n.progress||null},s=r?function(){return Math.min(n.duration,n.perceivedDuration)}:function(){return n.duration},a=Object.assign({},ht(),{process:function(e,i){var o=function(){0!==n.duration&&null!==n.progress&&a.fire("progress",a.getProgress())},s=function(){n.complete=!0,a.fire("load-perceived",n.response.body)};a.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,i=null,o=Date.now();return e>0&&function s(){var a=Date.now()-o,l=ce(n,r);a+l>e&&(l=a+l-e);var c=a/e;c>=1||document.hidden?t(1):(t(c),i=setTimeout(s,l))}(),{clear:function(){clearTimeout(i)}}}(function(t){n.perceivedProgress=t,n.perceivedDuration=Date.now()-n.timestamp,o(),n.response&&1===n.perceivedProgress&&!n.complete&&s()},r?ce(750,1500):0),n.request=t(e,i,function(t){n.response=W(t)?t:{type:"load",code:200,body:""+t,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,a.fire("load",n.response.body),(!r||r&&1===n.perceivedProgress)&&s()},function(t){n.perceivedPerformanceUpdater.clear(),a.fire("error",W(t)?t:{type:"error",code:0,body:""+t})},function(t,e,r){n.duration=Date.now()-n.timestamp,n.progress=t?e/r:null,o()},function(){n.perceivedPerformanceUpdater.clear(),a.fire("abort",n.response?n.response.body:null)},function(t){a.fire("transfer",t)})},abort:i,getProgress:o,getDuration:s,reset:function(){i(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null}});return a}(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return"function"==typeof e?function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e.apply(void 0,[n].concat(i,[r]))}:e&&F(e.url)?ae(t,e,n,r):null}(l.server.url,l.server.process,l.name,{chunkTransferId:r.transferId,chunkServer:l.server.patch,chunkUploads:l.chunkUploads,chunkForce:l.chunkForce,chunkSize:l.chunkSize,chunkRetryDelays:l.chunkRetryDelays}),{allowMinimumUploadDuration:e("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),function(n,i,o){wt("PREPARE_OUTPUT",n,{query:e,item:r}).then(function(e){t("DID_PREPARE_OUTPUT",{id:r.id,file:e}),i(e)}).catch(o)})}}else n.processingQueue.push({id:r.id,success:i,failure:o})}),RETRY_ITEM_PROCESSING:Ee(n,function(e){t("REQUEST_ITEM_PROCESSING",{query:e})}),REQUEST_REMOVE_ITEM:Ee(n,function(n){_e(e("GET_BEFORE_REMOVE_FILE"),pt(n)).then(function(e){e&&t("REMOVE_ITEM",{query:n})})}),RELEASE_ITEM:Ee(n,function(t){t.release()}),REMOVE_ITEM:Ee(n,function(r,i,o,s){var a=function(){var e=r.id;pe(n.items,e).archive(),t("DID_REMOVE_ITEM",{error:null,id:e,item:r}),ye(t,n),i(pt(r))},l=n.options.server;r.origin===vt.LOCAL&&l&&z(l.remove)&&!1!==s.remove?(t("DID_START_ITEM_REMOVE",{id:r.id}),l.remove(r.source,function(){return a()},function(e){t("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:ee("error",0,e,null),status:{main:ve(n.options.labelFileRemoveError)(e),sub:n.options.labelTapToRetry}})})):(s.revert&&r.origin!==vt.LOCAL&&null!==r.serverId&&r.revert(le(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")),a())}),ABORT_ITEM_LOAD:Ee(n,function(t){t.abortLoad()}),ABORT_ITEM_PROCESSING:Ee(n,function(e){e.serverId?t("REVERT_ITEM_PROCESSING",{id:e.id}):e.abortProcessing().then(function(){n.options.instantUpload&&t("REMOVE_ITEM",{query:e.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Ee(n,function(r){if(n.options.instantUpload){var i=function(e){e&&t("REVERT_ITEM_PROCESSING",{query:r})},o=e("GET_BEFORE_REMOVE_FILE");if(!o)return i(!0);var s=o(pt(r));return null==s?i(!0):"boolean"==typeof s?i(s):void("function"==typeof s.then&&s.then(i))}t("REVERT_ITEM_PROCESSING",{query:r})}),REVERT_ITEM_PROCESSING:Ee(n,function(r){r.revert(le(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(function(){(n.options.instantUpload||function(t){return!de(t.file)}(r))&&t("REMOVE_ITEM",{query:r.id})}).catch(function(){})}),SET_OPTIONS:function(e){r(e.options,function(e,n){t("SET_"+K(e,"_").toUpperCase(),{value:n})})}}},Te=function(t){return document.createElement(t)},Ie=function(t,e){var n=t.childNodes[0];n?e!==n.nodeValue&&(n.nodeValue=e):(n=document.createTextNode(e),t.appendChild(n))},Se=function(t,e,n,r){var i=(r%360-90)*Math.PI/180;return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}},Oe=A({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(t){var e=t.root,n=t.props;n.spin=!1,n.progress=0,n.opacity=0;var r=c("svg");e.ref.path=c("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(e.ref.path),e.ref.svg=r,e.appendChild(r)},write:function(t){var e,n,r,i=t.root,s=t.props;if(0!==s.opacity){s.align&&(i.element.dataset.align=s.align);var a=parseInt(o(i.ref.path,"stroke-width"),10),l=.5*i.rect.element.width,c=0,u=0;s.spin?(c=0,u=.5):(c=0,u=s.progress);var h=(r=1,(n=u)>(e=c)&&n-e<=.5&&(r=0),e>n&&e-n>=.5&&(r=0),function(t,e,n,r,i,o){var s=Se(t,e,n,i),a=Se(t,e,n,r);return["M",s.x,s.y,"A",n,n,0,o,0,a.x,a.y].join(" ")}(l,l,l-a,360*Math.min(.9999,e),360*Math.min(.9999,n),r));o(i.ref.path,"d",h),o(i.ref.path,"stroke-opacity",s.spin||s.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Ce=A({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(t){var e=t.props;t.root.element.innerHTML=(e.icon||"")+"<span>"+e.label+"</span>",e.isDisabled=!1},write:function(t){var e=t.root,n=t.props,r=n.isDisabled,i=e.query("GET_DISABLED")||0===n.opacity;i&&!r?(n.isDisabled=!0,o(e.element,"disabled","disabled")):!i&&r&&(n.isDisabled=!1,e.element.removeAttribute("disabled"))}}),Re=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=n*n,i=n*n*n;return(t=Math.round(Math.abs(t)))<n?t+" bytes":t<r?Math.floor(t/n)+" KB":t<i?Ae(t/r,1,e)+" MB":Ae(t/i,2,e)+" GB"},Ae=function(t,e,n){return t.toFixed(e).split(".").filter(function(t){return"0"!==t}).join(n)},xe=function(t){var e=t.root,n=t.props;Ie(e.ref.fileSize,Re(e.query("GET_ITEM_SIZE",n.id),".",e.query("GET_FILE_SIZE_BASE"))),Ie(e.ref.fileName,e.query("GET_ITEM_NAME",n.id))},Pe=function(t){var e=t.root;H(e.query("GET_ITEM_SIZE",t.props.id))||Ie(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},De=A({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:x({DID_LOAD_ITEM:xe,DID_UPDATE_ITEM_META:xe,DID_THROW_ITEM_LOAD_ERROR:Pe,DID_THROW_ITEM_INVALID:Pe}),didCreateView:function(t){Tt("CREATE_VIEW",Object.assign({},t,{view:t}))},create:function(t){var e=t.root,n=t.props,r=Te("span");r.className="filepond--file-info-main",o(r,"aria-hidden","true"),e.appendChild(r),e.ref.fileName=r;var i=Te("span");i.className="filepond--file-info-sub",e.appendChild(i),e.ref.fileSize=i,Ie(i,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Ie(r,e.query("GET_ITEM_NAME",n.id))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Me=function(t){return Math.round(100*t)},Le=function(t){var e=t.root,n=t.action,r=null===n.progress?e.query("GET_LABEL_FILE_LOADING"):e.query("GET_LABEL_FILE_LOADING")+" "+Me(n.progress)+"%";Ie(e.ref.main,r),Ie(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},ke=function(t){var e=t.root;Ie(e.ref.main,""),Ie(e.ref.sub,"")},Ne=function(t){var e=t.root,n=t.action;Ie(e.ref.main,n.status.main),Ie(e.ref.sub,n.status.sub)},Ue=A({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:x({DID_LOAD_ITEM:ke,DID_REVERT_ITEM_PROCESSING:ke,DID_REQUEST_ITEM_PROCESSING:function(t){var e=t.root;Ie(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),Ie(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(t){var e=t.root;Ie(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Ie(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(t){var e=t.root;Ie(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Ie(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(t){var e=t.root,n=t.action,r=null===n.progress?e.query("GET_LABEL_FILE_PROCESSING"):e.query("GET_LABEL_FILE_PROCESSING")+" "+Me(n.progress)+"%";Ie(e.ref.main,r),Ie(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:Le,DID_THROW_ITEM_LOAD_ERROR:Ne,DID_THROW_ITEM_INVALID:Ne,DID_THROW_ITEM_PROCESSING_ERROR:Ne,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Ne,DID_THROW_ITEM_REMOVE_ERROR:Ne}),didCreateView:function(t){Tt("CREATE_VIEW",Object.assign({},t,{view:t}))},create:function(t){var e=t.root,n=Te("span");n.className="filepond--file-status-main",e.appendChild(n),e.ref.main=n;var r=Te("span");r.className="filepond--file-status-sub",e.appendChild(r),e.ref.sub=r,Le({root:e,action:{progress:null}})},mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Ve={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Fe=[];r(Ve,function(t){Fe.push(t)});var Ge,je=function(t){if("right"===ze(t))return 0;var e=t.ref.buttonRemoveItem.rect.element;return e.hidden?null:e.width+e.left},Be=function(t){return t.ref.buttonAbortItemLoad.rect.element.width},He=function(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.height/4)},qe=function(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.left/2)},ze=function(t){return t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},$e={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(t){return t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(t){return t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},We={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:je},status:{translateX:je}},Ye={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Xe={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:je},status:{translateX:je,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:je},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:ze},info:{translateX:je},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:ze},buttonRemoveItem:{opacity:1},info:{translateX:je},status:{opacity:1,translateX:je}},DID_LOAD_ITEM:We,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:je},status:{translateX:je}},DID_START_ITEM_PROCESSING:Ye,DID_REQUEST_ITEM_PROCESSING:Ye,DID_UPDATE_ITEM_PROCESS_PROGRESS:Ye,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:je}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:je},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:We},Ze=A({create:function(t){var e=t.root;e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Qe=x({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(t){t.root.ref.buttonAbortItemProcessing.label=t.action.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(t){t.root.ref.buttonAbortItemLoad.label=t.action.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(t){t.root.ref.buttonAbortItemRemoval.label=t.action.value},DID_REQUEST_ITEM_PROCESSING:function(t){var e=t.root;e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(t){var e=t.root;e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(t){var e=t.root;e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(t){var e=t.root,n=t.action;e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(t){var e=t.root,n=t.action;e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=n.progress}}),Je=A({create:function(t){var e,n=t.root,i=t.props.id,o=n.query("GET_ALLOW_REVERT"),s=n.query("GET_ALLOW_REMOVE"),a=n.query("GET_ALLOW_PROCESS"),l=n.query("GET_INSTANT_UPLOAD"),c=n.query("IS_ASYNC"),u=n.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");c?a&&!o?e=function(t){return!/RevertItemProcessing/.test(t)}:!a&&o?e=function(t){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(t)}:a||o||(e=function(t){return!/Process/.test(t)}):e=function(t){return!/Process/.test(t)};var h=e?Fe.filter(e):Fe.concat();if(l&&o&&(Ve.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",Ve.RevertItemProcessing.icon="GET_ICON_REMOVE"),c&&!o){var d=Xe.DID_COMPLETE_ITEM_PROCESSING;d.info.translateX=qe,d.info.translateY=He,d.status.translateY=He,d.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(c&&!a&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(function(t){Xe[t].status.translateY=He}),Xe.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Be),u&&o){Ve.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var f=Xe.DID_COMPLETE_ITEM_PROCESSING;f.info.translateX=je,f.status.translateY=He,f.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}s||(Ve.RemoveItem.disabled=!0),r(Ve,function(t,e){var r=n.createChildView(Ce,{label:n.query(e.label),icon:n.query(e.icon),opacity:0});h.includes(t)&&n.appendChildView(r),e.disabled&&(r.element.setAttribute("disabled","disabled"),r.element.setAttribute("hidden","hidden")),r.element.dataset.align=n.query("GET_STYLE_"+e.align),r.element.classList.add(e.className),r.on("click",function(t){t.stopPropagation(),e.disabled||n.dispatch(e.action,{query:i})}),n.ref["button"+t]=r}),n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(Ze)),n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),n.ref.info=n.appendChildView(n.createChildView(De,{id:i})),n.ref.status=n.appendChildView(n.createChildView(Ue,{id:i}));var p=n.appendChildView(n.createChildView(Oe,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));p.element.classList.add("filepond--load-indicator"),n.ref.loadProgressIndicator=p;var g=n.appendChildView(n.createChildView(Oe,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));g.element.classList.add("filepond--process-indicator"),n.ref.processProgressIndicator=g,n.ref.activeStyles=[]},write:function(t){var e=t.root,n=t.actions;Qe({root:e,actions:n,props:t.props});var i=n.concat().filter(function(t){return/^DID_/.test(t.type)}).reverse().find(function(t){return Xe[t.type]});if(i){e.ref.activeStyles=[];var o=Xe[i.type];r($e,function(t,n){var i=e.ref[t];r(n,function(n,r){e.ref.activeStyles.push({control:i,key:n,value:o[t]&&void 0!==o[t][n]?o[t][n]:r})})})}e.ref.activeStyles.forEach(function(t){var n=t.value;t.control[t.key]="function"==typeof n?n(e):n})},didCreateView:function(t){Tt("CREATE_VIEW",Object.assign({},t,{view:t}))},name:"file"}),Ke=A({create:function(t){var e=t.root,n=t.props;e.ref.fileName=Te("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(Je,{id:n.id})),e.ref.data=!1},ignoreRect:!0,write:x({DID_LOAD_ITEM:function(t){var e=t.root;Ie(e.ref.fileName,e.query("GET_ITEM_NAME",t.props.id))}}),didCreateView:function(t){Tt("CREATE_VIEW",Object.assign({},t,{view:t}))},tag:"fieldset",name:"file-wrapper"}),tn={type:"spring",damping:.6,mass:7},en=A({name:"panel",read:function(t){return t.props.heightCurrent=t.root.ref.bottom.translateY},write:function(t){var e=t.root,n=t.props;if(null!==e.ref.scalable&&n.scalable===e.ref.scalable||(e.ref.scalable=!U(n.scalable)||n.scalable,e.element.dataset.scalable=e.ref.scalable),n.height){var r=e.ref.top.rect.element,i=e.ref.bottom.rect.element,o=Math.max(r.height+i.height,n.height);e.ref.center.translateY=r.height,e.ref.center.scaleY=(o-r.height-i.height)/100,e.ref.bottom.translateY=o-i.height}},create:function(t){var e=t.root,n=t.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:tn},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:tn},styles:["translateY"]}}].forEach(function(t){!function(t,e,n){var r=A({name:"panel-"+e.name+" filepond--"+n,mixins:e.mixins,ignoreRectUpdate:!0}),i=t.createChildView(r,e.props);t.ref[e.name]=t.appendChildView(i)}(e,t,n.name)}),e.element.classList.add("filepond--"+n.name),e.ref.scalable=null},ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),nn={type:"spring",stiffness:.75,damping:.45,mass:10},rn="spring",on={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},sn=x({DID_UPDATE_PANEL_HEIGHT:function(t){t.root.height=t.action.height}}),an=x({DID_GRAB_ITEM:function(t){var e=t.root;t.props.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:function(t){t.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(t){var e=t.root,n=t.props;n.dragOffset=null,n.dragOrigin=null,e.element.dataset.dragState="drop"}},function(t){var e=t.root,n=t.actions,r=t.props,i=t.shouldOptimize;"drop"===e.element.dataset.dragState&&e.scaleX<=1&&(e.element.dataset.dragState="idle");var o=n.concat().filter(function(t){return/^DID_/.test(t.type)}).reverse().find(function(t){return on[t.type]});o&&o.type!==r.currentState&&(r.currentState=o.type,e.element.dataset.filepondItemState=on[r.currentState]||"");var s=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");s?i||(e.height=e.rect.element.width*s):(sn({root:e,actions:n,props:r}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),i&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),ln=A({create:function(t){var e=t.root,n=t.props;e.ref.handleClick=function(t){return e.dispatch("DID_ACTIVATE_ITEM",{id:n.id})},e.element.id="filepond--item-"+n.id,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(Ke,{id:n.id})),e.ref.panel=e.appendChildView(e.createChildView(en,{name:"item-panel"})),e.ref.panel.height=null,n.markedForRemoval=!1,e.query("GET_ALLOW_REORDER")&&(e.element.dataset.dragState="idle",e.element.addEventListener("pointerdown",function(t){if(t.isPrimary){var r=!1,i={x:t.pageX,y:t.pageY};n.dragOrigin={x:e.translateX,y:e.translateY},n.dragCenter={x:t.offsetX,y:t.offsetY};var o=(a=e.query("GET_ACTIVE_ITEMS"),l=a.map(function(t){return t.id}),c=void 0,{setIndex:function(t){c=t},getIndex:function(){return c},getItemIndex:function(t){return l.indexOf(t.id)}});e.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:o});var s=function(t){t.isPrimary&&(t.stopPropagation(),t.preventDefault(),n.dragOffset={x:t.pageX-i.x,y:t.pageY-i.y},n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y>16&&!r&&(r=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:o}))};document.addEventListener("pointermove",s),document.addEventListener("pointerup",function t(a){a.isPrimary&&(document.removeEventListener("pointermove",s),document.removeEventListener("pointerup",t),n.dragOffset={x:a.pageX-i.x,y:a.pageY-i.y},e.dispatch("DID_DROP_ITEM",{id:n.id,dragState:o}),r&&setTimeout(function(){return e.element.addEventListener("click",e.ref.handleClick)},0))})}var a,l,c}))},write:an,destroy:function(t){var e=t.root,n=t.props;e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:rn,scaleY:rn,translateX:nn,translateY:nn,opacity:{type:"tween",duration:150}}}}),cn=function(t,e){return Math.max(1,Math.floor((t+1)/e))},un=function(t,e,n){if(n){var r=e.length,i=null;if(0===r||n.top<e[0].rect.element.top)return-1;var o=e[0].rect.element,s=o.width+(o.marginLeft+o.marginRight),a=cn(t.rect.element.width,s);if(1===a){for(var l=0;l<r;l++){var c=e[l];if(n.top<c.rect.outer.top+.5*c.rect.element.height)return l}return r}for(var u=o.height+(o.marginTop+o.marginBottom),h=0;h<r;h++){var d=h%a,f=Math.floor(h/a)*u;if(n.top<f+u+o.marginBottom&&n.top>f-o.marginTop){if(n.left<d*s+s)return h;i=h!==r-1?h:null}}return null!==i?i:r}},hn={height:0,width:0,get getHeight(){return this.height},set setHeight(t){0!==this.height&&0!==t||(this.height=t)},get getWidth(){return this.width},set setWidth(t){0!==this.width&&0!==t||(this.width=t)},setDimensions:function(t,e){0!==this.height&&0!==t||(this.height=t),0!==this.width&&0!==e||(this.width=e)}},dn=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;t.dragOffset?(t.translateX=null,t.translateY=null,t.translateX=t.dragOrigin.x+t.dragOffset.x,t.translateY=t.dragOrigin.y+t.dragOffset.y,t.scaleX=1.025,t.scaleY=1.025):(t.translateX=e,t.translateY=n,Date.now()>t.spawnDate&&(0===t.opacity&&fn(t,e,n,r,i),t.scaleX=1,t.scaleY=1,t.opacity=1))},fn=function(t,e,n,r,i){5===t.interactionMethod?(t.translateX=null,t.translateX=e,t.translateY=null,t.translateY=n):2===t.interactionMethod?(t.translateX=null,t.translateX=e-20*r,t.translateY=null,t.translateY=n-10*i,t.scaleX=.8,t.scaleY=.8):3===t.interactionMethod?(t.translateY=null,t.translateY=n-30):1===t.interactionMethod&&(t.translateX=null,t.translateX=e-30,t.translateY=null)},pn=function(t){return t.rect.element.height+.5*t.rect.element.marginBottom+.5*t.rect.element.marginTop},gn=x({DID_ADD_ITEM:function(t){var e=t.root,n=t.action,r=n.id,i=n.index,o=n.interactionMethod;e.ref.addIndex=i;var s=Date.now(),a=s,l=1;if(5!==o){l=0;var c=e.query("GET_ITEM_INSERT_INTERVAL"),u=s-e.ref.lastItemSpanwDate;a=u<c?s+(c-u):s}e.ref.lastItemSpanwDate=a,e.appendChildView(e.createChildView(ln,{spawnDate:a,id:r,opacity:l,interactionMethod:o}),i)},DID_REMOVE_ITEM:function(t){var e=t.action.id,n=t.root.childViews.find(function(t){return t.id===e});n&&(n.scaleX=.9,n.scaleY=.9,n.opacity=0,n.markedForRemoval=!0)},DID_DRAG_ITEM:function(t){var e,n=t.root,r=t.action,i=r.id,o=r.dragState,s=n.query("GET_ITEM",{id:i}),a=n.childViews.find(function(t){return t.id===i}),l=n.childViews.length,c=o.getItemIndex(s);if(a){var u={x:a.dragOrigin.x+a.dragOffset.x+a.dragCenter.x,y:a.dragOrigin.y+a.dragOffset.y+a.dragCenter.y},h=pn(a),d=(e=a).rect.element.width+.5*e.rect.element.marginLeft+.5*e.rect.element.marginRight,f=Math.floor(n.rect.outer.width/d);f>l&&(f=l);var p=Math.floor(l/f+1);hn.setHeight=h*p,hn.setWidth=d*f;var g={y:Math.floor(u.y/h),x:Math.floor(u.x/d),getGridIndex:function(){return u.y>hn.getHeight||u.y<0||u.x>hn.getWidth||u.x<0?c:this.y*f+this.x},getColIndex:function(){for(var t=n.query("GET_ACTIVE_ITEMS"),e=n.childViews.filter(function(t){return t.rect.element.height}),r=t.map(function(t){return e.find(function(e){return e.id===t.id})}),i=r.findIndex(function(t){return t===a}),o=pn(a),s=r.length,l=s,c=0,h=0,d=0,f=0;f<s;f++)if(c=pn(r[f]),u.y<(h=(d=h)+c)){if(i>f){if(u.y<d+o){l=f;break}continue}l=f;break}return l}},m=f>1?g.getGridIndex():g.getColIndex();n.dispatch("MOVE_ITEM",{query:a,index:m});var v=o.getIndex();if(void 0===v||v!==m){if(o.setIndex(m),void 0===v)return;n.dispatch("DID_REORDER_ITEMS",{items:n.query("GET_ACTIVE_ITEMS"),origin:c,target:m})}}}}),mn=A({create:function(t){var e=t.root;o(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},write:function(t){var e=t.root,n=t.props,r=t.shouldOptimize;gn({root:e,props:n,actions:t.actions});var i=n.dragCoordinates,o=e.rect.element.width,s=e.childViews.filter(function(t){return t.rect.element.height}),a=e.query("GET_ACTIVE_ITEMS").map(function(t){return s.find(function(e){return e.id===t.id})}).filter(function(t){return t}),l=i?un(e,a,i):null,c=e.ref.addIndex||null;e.ref.addIndex=null;var u=0,h=0,d=0;if(0!==a.length){var f=a[0].rect.element,p=f.marginTop+f.marginBottom,g=f.width+(f.marginLeft+f.marginRight),m=f.height+p,v=cn(o,g);if(1===v){var y=0,_=0;a.forEach(function(t,e){if(l){var n=e-l;_=-2===n?.25*-p:-1===n?.75*-p:0===n?.75*p:1===n?.25*p:0}r&&(t.translateX=null,t.translateY=null),t.markedForRemoval||dn(t,0,y+_),y+=(t.rect.element.height+p)*(t.markedForRemoval?t.opacity:1)})}else{var b=0,E=0;a.forEach(function(t,e){e===l&&(u=1),e===c&&(d+=1),t.markedForRemoval&&t.opacity<.5&&(h-=1);var n=e+d+u+h,i=n%v,o=Math.floor(n/v),s=i*g,a=o*m,f=Math.sign(s-b),p=Math.sign(a-E);b=s,E=a,t.markedForRemoval||(r&&(t.translateX=null,t.translateY=null),dn(t,s,a,f,p))})}}},tag:"ul",name:"list",didWriteView:function(t){var e=t.root;e.childViews.filter(function(t){return t.markedForRemoval&&0===t.opacity&&t.resting}).forEach(function(t){t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:function(t,e){return e.filter(function(e){return!e.data||!e.data.id||t.id===e.data.id})},mixins:{apis:["dragCoordinates"]}}),vn=x({DID_DRAG:function(t){var e=t.root,n=t.props,r=t.action;e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:r.position.scopeLeft-e.ref.list.rect.element.left,top:r.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},DID_END_DRAG:function(t){t.props.dragCoordinates=null}}),yn=A({create:function(t){var e=t.root,n=t.props;e.ref.list=e.appendChildView(e.createChildView(mn)),n.dragCoordinates=null,n.overflowing=!1},write:function(t){var e=t.root,n=t.props;if(vn({root:e,props:n,actions:t.actions}),e.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,e.element.dataset.state="",e.height=null),n.overflow){var r=Math.round(n.overflow);r!==e.height&&(n.overflowing=!0,e.element.dataset.state="overflow",e.height=r)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),_n=function(t,e,n){n?o(t,e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):t.removeAttribute(e)},bn=function(t){var e=t.root,n=t.action;e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&_n(e.element,"accept",!!n.value,n.value?n.value.join(","):"")},En=function(t){_n(t.root.element,"multiple",t.action.value)},wn=function(t){_n(t.root.element,"webkitdirectory",t.action.value)},Tn=function(t){var e=t.root,n=e.query("GET_DISABLED"),r=e.query("GET_ALLOW_BROWSE");_n(e.element,"disabled",n||!r)},In=function(t){var e=t.root;t.action.value?0===e.query("GET_TOTAL_ITEMS")&&_n(e.element,"required",!0):_n(e.element,"required",!1)},Sn=function(t){var e=t.action;_n(t.root.element,"capture",!!e.value,!0===e.value?"":e.value)},On=function(t){var e=t.root,n=e.element;e.query("GET_TOTAL_ITEMS")>0?(_n(n,"required",!1),_n(n,"name",!1)):(_n(n,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&n.setCustomValidity(""),e.query("GET_REQUIRED")&&_n(n,"required",!0))},Cn=A({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:function(t){var e=t.root,n=t.props;e.element.id="filepond--browser-"+n.id,o(e.element,"name",e.query("GET_NAME")),o(e.element,"aria-controls","filepond--assistant-"+n.id),o(e.element,"aria-labelledby","filepond--drop-label-"+n.id),bn({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),En({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),wn({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Tn({root:e}),In({root:e,action:{value:e.query("GET_REQUIRED")}}),Sn({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=function(t){if(e.element.value){var r=Array.from(e.element.files).map(function(t){return t._relativePath=t.webkitRelativePath,t});setTimeout(function(){n.onload(r),function(t){if(t&&""!==t.value){try{t.value=""}catch(i){}if(t.value){var e=Te("form"),n=t.parentNode,r=t.nextSibling;e.appendChild(t),e.reset(),r?n.insertBefore(t,r):n.appendChild(t)}}}(e.element)},250)}},e.element.addEventListener("change",e.ref.handleChange)},destroy:function(t){var e=t.root;e.element.removeEventListener("change",e.ref.handleChange)},write:x({DID_LOAD_ITEM:On,DID_REMOVE_ITEM:On,DID_THROW_ITEM_INVALID:function(t){var e=t.root;e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:Tn,DID_SET_ALLOW_BROWSE:Tn,DID_SET_ALLOW_DIRECTORIES_ONLY:wn,DID_SET_ALLOW_MULTIPLE:En,DID_SET_ACCEPTED_FILE_TYPES:bn,DID_SET_CAPTURE_METHOD:Sn,DID_SET_REQUIRED:In})}),Rn=function(t,e){t.innerHTML=e;var n=t.querySelector(".filepond--label-action");return n&&o(n,"tabindex","0"),e},An=A({name:"drop-label",ignoreRect:!0,create:function(t){var e=t.root,n=t.props,r=Te("label");o(r,"for","filepond--browser-"+n.id),o(r,"id","filepond--drop-label-"+n.id),o(r,"aria-hidden","true"),e.ref.handleKeyDown=function(t){(13===t.keyCode||32===t.keyCode)&&(t.preventDefault(),e.ref.label.click())},e.ref.handleClick=function(t){t.target===r||r.contains(t.target)||e.ref.label.click()},r.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),Rn(r,n.caption),e.appendChild(r),e.ref.label=r},destroy:function(t){var e=t.root;e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:x({DID_SET_LABEL_IDLE:function(t){Rn(t.root.ref.label,t.action.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),xn=A({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Pn=x({DID_DRAG:function(t){var e=t.root,n=t.action;e.ref.blob?(e.ref.blob.translateX=n.position.scopeLeft,e.ref.blob.translateY=n.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1):function(t){var e=t.root;e.ref.blob=e.appendChildView(e.createChildView(xn,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:.5*e.rect.element.width,translateY:.5*e.rect.element.height}))}({root:e})},DID_DROP:function(t){var e=t.root;e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},DID_END_DRAG:function(t){var e=t.root;e.ref.blob&&(e.ref.blob.opacity=0)}}),Dn=A({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:function(t){var e=t.root,n=t.actions;Pn({root:e,props:t.props,actions:n});var r=e.ref.blob;0===n.length&&r&&0===r.opacity&&(e.removeChildView(r),e.ref.blob=null)}}),Mn=function(t,e){return t.ref.fields[e]},Ln=function(t){t.query("GET_ACTIVE_ITEMS").forEach(function(e){t.ref.fields[e.id]&&t.element.appendChild(t.ref.fields[e.id])})},kn=function(t){return Ln(t.root)},Nn=x({DID_SET_DISABLED:function(t){var e=t.root;e.element.disabled=e.query("GET_DISABLED")},DID_ADD_ITEM:function(t){var e=t.root,n=t.action,r=Te("input");r.type="hidden",r.name=e.query("GET_NAME"),r.disabled=e.query("GET_DISABLED"),e.ref.fields[n.id]=r,Ln(e)},DID_LOAD_ITEM:function(t){var e=t.action,n=Mn(t.root,e.id);n&&null!==e.serverFileReference&&(n.value=e.serverFileReference)},DID_REMOVE_ITEM:function(t){var e=t.root,n=t.action,r=Mn(e,n.id);r&&(r.parentNode&&r.parentNode.removeChild(r),delete e.ref.fields[n.id])},DID_DEFINE_VALUE:function(t){var e=t.root,n=t.action,r=Mn(e,n.id);r&&(null===n.value?r.removeAttribute("value"):r.value=n.value,Ln(e))},DID_REORDER_ITEMS:kn,DID_SORT_ITEMS:kn}),Un=A({tag:"fieldset",name:"data",create:function(t){return t.root.ref.fields={}},write:Nn,ignoreRect:!0}),Vn=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Fn=["css","csv","html","txt"],Gn={zip:"zip|compressed",epub:"application/epub+zip"},jn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t=t.toLowerCase(),Vn.includes(t)?"image/"+("jpg"===t?"jpeg":"svg"===t?"svg+xml":t):Fn.includes(t)?"text/"+t:Gn[t]||""},Bn=function(t){return new Promise(function(e,n){var r=Jn(t);if(r.length&&!Hn(t))return e(r);qn(t).then(e)})},Hn=function(t){return!!t.files&&t.files.length>0},qn=function(t){return new Promise(function(e,n){var r=(t.items?Array.from(t.items):[]).filter(function(t){return zn(t)}).map(function(t){return $n(t)});r.length?Promise.all(r).then(function(t){var n=[];t.forEach(function(t){n.push.apply(n,t)}),e(n.filter(function(t){return t}).map(function(t){return t._relativePath||(t._relativePath=t.webkitRelativePath),t}))}).catch(console.error):e(t.files?Array.from(t.files):[])})},zn=function(t){if(Zn(t)){var e=Qn(t);if(e)return e.isFile||e.isDirectory}return"file"===t.kind},$n=function(t){return new Promise(function(e,n){Xn(t)?Wn(Qn(t)).then(e).catch(n):e([t.getAsFile()])})},Wn=function(t){return new Promise(function(e,n){var r=[],i=0,o=0,s=function(){0===o&&0===i&&e(r)};!function t(e){i++;var a=e.createReader();!function e(){a.readEntries(function(n){if(0===n.length)return i--,void s();n.forEach(function(e){e.isDirectory?t(e):(o++,e.file(function(t){var n=Yn(t);e.fullPath&&(n._relativePath=e.fullPath),r.push(n),o--,s()}))}),e()},n)}()}(t)})},Yn=function(t){if(t.type.length)return t;var e=t.lastModifiedDate,n=t.name,r=jn(jt(t.name));return r.length?((t=t.slice(0,t.size,r)).name=n,t.lastModifiedDate=e,t):t},Xn=function(t){return Zn(t)&&(Qn(t)||{}).isDirectory},Zn=function(t){return"webkitGetAsEntry"in t},Qn=function(t){return t.webkitGetAsEntry()},Jn=function(t){var e=[];try{if((e=tr(t)).length)return e;e=Kn(t)}catch(n){}return e},Kn=function(t){var e=t.getData("url");return"string"==typeof e&&e.length?[e]:[]},tr=function(t){var e=t.getData("text/html");if("string"==typeof e&&e.length){var n=e.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},er=[],nr=function(t){return{pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}},rr=function(t){var e=[],n={dragenter:ar,dragover:lr,dragleave:ur,drop:cr},i={};r(n,function(n,r){i[n]=r(t,e),t.addEventListener(n,i[n],!1)});var o={element:t,addListener:function(s){return e.push(s),function(){e.splice(e.indexOf(s),1),0===e.length&&(er.splice(er.indexOf(o),1),r(n,function(e){t.removeEventListener(e,i[e],!1)}))}}};return o},ir=function(t,e){var n,r=function(t,e){return"elementFromPoint"in t||(t=document),t.elementFromPoint(e.x,e.y)}("getRootNode"in(n=e)?n.getRootNode():document,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return r===e||e.contains(r)},or=null,sr=function(t,e){try{t.dropEffect=e}catch(n){}},ar=function(t,e){return function(t){t.preventDefault(),or=t.target,e.forEach(function(e){var n=e.onenter;ir(t,e.element)&&(e.state="enter",n(nr(t)))})}},lr=function(t,e){return function(t){t.preventDefault();var n=t.dataTransfer;Bn(n).then(function(r){var i=!1;e.some(function(e){var o=e.filterElement,s=e.element,a=e.onenter,l=e.onexit,c=e.ondrag,u=e.allowdrop;sr(n,"copy");var h=u(r);if(h)if(ir(t,s)){if(i=!0,null===e.state)return e.state="enter",void a(nr(t));if(e.state="over",o&&!h)return void sr(n,"none");c(nr(t))}else o&&!i&&sr(n,"none"),e.state&&(e.state=null,l(nr(t)));else sr(n,"none")})})}},cr=function(t,e){return function(t){t.preventDefault(),Bn(t.dataTransfer).then(function(n){e.forEach(function(e){var r=e.filterElement,i=e.element,o=e.ondrop,s=e.onexit,a=e.allowdrop;if(e.state=null,!r||ir(t,i))return a(n)?void o(nr(t),n):s(nr(t))})})}},ur=function(t,e){return function(t){or===t.target&&e.forEach(function(e){var n=e.onexit;e.state=null,n(nr(t))})}},hr=function(t,e,n){t.classList.add("filepond--hopper");var r=n.filterItems,i=void 0===r?function(t){return t}:r,o=function(t,e,n){var r=function(t){var e=er.find(function(e){return e.element===t});if(e)return e;var n=rr(t);return er.push(n),n}(e),i={element:t,filterElement:n,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return i.destroy=r.addListener(i),i}(t,n.catchesDropsOnPage?document.documentElement:t,n.requiresDropOnElement),s="",a="";o.allowdrop=function(t){return e(i(t))},o.ondrop=function(t,n){var r=i(n);e(r)?(a="drag-drop",l.onload(r,t)):l.ondragend(t)},o.ondrag=function(t){l.ondrag(t)},o.onenter=function(t){a="drag-over",l.ondragstart(t)},o.onexit=function(t){a="drag-exit",l.ondragend(t)};var l={updateHopperState:function(){s!==a&&(t.dataset.hopperState=a,s=a)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){o.destroy()}};return l},dr=!1,fr=[],pr=function(t){var e=document.activeElement;if(e&&/textarea|input/i.test(e.nodeName)){for(var n=!1,r=e;r!==document.body;){if(r.classList.contains("filepond--root")){n=!0;break}r=r.parentNode}if(!n)return}Bn(t.clipboardData).then(function(t){t.length&&fr.forEach(function(e){return e(t)})})},gr=null,mr=null,vr=[],yr=function(t,e){t.element.textContent=e},_r=function(t,e,n){var r=t.query("GET_TOTAL_ITEMS");yr(t,n+" "+e+", "+r+" "+t.query(1===r?"GET_LABEL_FILE_COUNT_SINGULAR":"GET_LABEL_FILE_COUNT_PLURAL")),clearTimeout(mr),mr=setTimeout(function(){!function(t){t.element.textContent=""}(t)},1500)},br=function(t){return t.element.parentNode.contains(document.activeElement)},Er=function(t){var e=t.root,n=e.query("GET_ITEM",t.action.id).filename,r=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");yr(e,n+" "+r)},wr=function(t){var e=t.root,n=t.action,r=e.query("GET_ITEM",n.id);yr(e,n.status.main+" "+r.filename+" "+n.status.sub)},Tr=A({create:function(t){var e=t.root;e.element.id="filepond--assistant-"+t.props.id,o(e.element,"role","status"),o(e.element,"aria-live","polite"),o(e.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:x({DID_LOAD_ITEM:function(t){var e=t.root,n=t.action;if(br(e)){e.element.textContent="";var r=e.query("GET_ITEM",n.id);vr.push(r.filename),clearTimeout(gr),gr=setTimeout(function(){_r(e,vr.join(", "),e.query("GET_LABEL_FILE_ADDED")),vr.length=0},750)}},DID_REMOVE_ITEM:function(t){var e=t.root,n=t.action;br(e)&&_r(e,n.item.filename,e.query("GET_LABEL_FILE_REMOVED"))},DID_COMPLETE_ITEM_PROCESSING:function(t){var e=t.root,n=e.query("GET_ITEM",t.action.id).filename,r=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");yr(e,n+" "+r)},DID_ABORT_ITEM_PROCESSING:Er,DID_REVERT_ITEM_PROCESSING:Er,DID_THROW_ITEM_REMOVE_ERROR:wr,DID_THROW_ITEM_LOAD_ERROR:wr,DID_THROW_ITEM_INVALID:wr,DID_THROW_ITEM_PROCESSING_ERROR:wr}),tag:"span",name:"assistant"}),Ir=function(t){return t.replace(new RegExp((arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-")+".","g"),function(t){return t.charAt(1).toUpperCase()})},Sr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Date.now(),i=null;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];clearTimeout(i);var l=Date.now()-r,c=function(){r=Date.now(),t.apply(void 0,s)};l<e?n||(i=setTimeout(c,e-l)):c()}},Or=function(t){return t.preventDefault()},Cr=function(t,e){var n=t.query("GET_ALLOW_REPLACE"),r=t.query("GET_ALLOW_MULTIPLE"),i=t.query("GET_TOTAL_ITEMS"),o=t.query("GET_MAX_FILES"),s=e.length;return!r&&s>1||!!(H(o=r||n?o:1)&&i+s>o)&&(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:ee("warning",0,"Max files")}),!0)},Rr=function(t,e,n){var r=t.childViews[0];return un(r,e,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},Ar=function(t){var e=t.query("GET_ALLOW_DROP"),n=t.query("GET_DISABLED"),r=e&&!n;if(r&&!t.ref.hopper){var i=hr(t.element,function(e){var n=t.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!t.query("GET_DROP_VALIDATION")||e.every(function(e){return Tt("ALLOW_HOPPER_ITEM",e,{query:t.query}).every(function(t){return!0===t})&&n(e)})},{filterItems:function(e){var n=t.query("GET_IGNORED_FILES");return e.filter(function(t){return!de(t)||!n.includes(t.name.toLowerCase())})},catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});i.onload=function(e,n){var r=t.ref.list.childViews[0].childViews.filter(function(t){return t.rect.element.height}),i=t.query("GET_ACTIVE_ITEMS").map(function(t){return r.find(function(e){return e.id===t.id})}).filter(function(t){return t});wt("ADD_ITEMS",e,{dispatch:t.dispatch}).then(function(e){if(Cr(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:Rr(t.ref.list,i,n),interactionMethod:2})}),t.dispatch("DID_DROP",{position:n}),t.dispatch("DID_END_DRAG",{position:n})},i.ondragstart=function(e){t.dispatch("DID_START_DRAG",{position:e})},i.ondrag=Sr(function(e){t.dispatch("DID_DRAG",{position:e})}),i.ondragend=function(e){t.dispatch("DID_END_DRAG",{position:e})},t.ref.hopper=i,t.ref.drip=t.appendChildView(t.createChildView(Dn))}else!r&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},xr=function(t,e){var n=t.query("GET_ALLOW_BROWSE"),r=t.query("GET_DISABLED"),i=n&&!r;i&&!t.ref.browser?t.ref.browser=t.appendChildView(t.createChildView(Cn,Object.assign({},e,{onload:function(e){wt("ADD_ITEMS",e,{dispatch:t.dispatch}).then(function(e){if(Cr(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:3})})}})),0):!i&&t.ref.browser&&(t.removeChildView(t.ref.browser),t.ref.browser=null)},Pr=function(t){var e,n,r=t.query("GET_ALLOW_PASTE"),i=t.query("GET_DISABLED"),o=r&&!i;o&&!t.ref.paster?(t.ref.paster=(e=function(t){n.onload(t)},n={destroy:function(){ut(fr,fr.indexOf(e)),0===fr.length&&(document.removeEventListener("paste",pr),dr=!1)},onload:function(){}},function(t){fr.includes(t)||(fr.push(t),dr||(dr=!0,document.addEventListener("paste",pr)))}(e),n),t.ref.paster.onload=function(e){wt("ADD_ITEMS",e,{dispatch:t.dispatch}).then(function(e){if(Cr(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:4})})}):!o&&t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)},Dr=x({DID_SET_ALLOW_BROWSE:function(t){xr(t.root,t.props)},DID_SET_ALLOW_DROP:function(t){Ar(t.root)},DID_SET_ALLOW_PASTE:function(t){Pr(t.root)},DID_SET_DISABLED:function(t){var e=t.root,n=t.props;Ar(e),Pr(e),xr(e,n),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),Mr=A({name:"root",read:function(t){var e=t.root;e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:function(t){var e=t.root,n=t.props,r=e.query("GET_ID");r&&(e.element.id=r);var i=e.query("GET_CLASS_NAME");i&&i.split(" ").filter(function(t){return t.length}).forEach(function(t){e.element.classList.add(t)}),e.ref.label=e.appendChildView(e.createChildView(An,Object.assign({},n,{translateY:null,caption:e.query("GET_LABEL_IDLE")}))),e.ref.list=e.appendChildView(e.createChildView(yn,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(en,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(Tr,Object.assign({},n))),e.ref.data=e.appendChildView(e.createChildView(Un,Object.assign({},n))),e.ref.measure=Te("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(function(t){return!L(t.value)}).map(function(t){e.element.dataset[t.name]=t.value}),e.ref.widthPrevious=null,e.ref.widthUpdated=Sr(function(){e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];var o=window.matchMedia("(pointer: fine) and (hover: hover)").matches,s="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&s&&!o&&(e.element.addEventListener("touchmove",Or,{passive:!1}),e.element.addEventListener("gesturestart",Or));var a=e.query("GET_CREDITS");if(2===a.length){var l=document.createElement("a");l.className="filepond--credits",l.setAttribute("aria-hidden","true"),l.href=a[0],l.tabindex=-1,l.target="_blank",l.rel="noopener noreferrer",l.textContent=a[1],e.element.appendChild(l),e.ref.credits=l}},write:function(t){var e=t.root,n=t.actions;if(Dr({root:e,props:t.props,actions:n}),n.filter(function(t){return/^DID_SET_STYLE_/.test(t.type)}).filter(function(t){return!L(t.data.value)}).map(function(t){var n=t.data,r=Ir(t.type.substr(8).toLowerCase(),"_");e.element.dataset[r]=n.value,e.invalidateLayout()}),!e.rect.element.hidden){e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());var r=e.ref.bounds;r||(r=e.ref.bounds=function(t){var e=t.ref.measureHeight||null;return{cappedHeight:parseInt(t.style.maxHeight,10)||null,fixedHeight:0===e?null:e}}(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);var i=e.ref,o=i.hopper,s=i.label,a=i.list,l=i.panel;o&&o.updateHopperState();var c=e.query("GET_PANEL_ASPECT_RATIO"),u=e.query("GET_ALLOW_MULTIPLE"),h=e.query("GET_TOTAL_ITEMS"),d=h===(u?e.query("GET_MAX_FILES")||1e6:1),f=n.find(function(t){return"DID_ADD_ITEM"===t.type});if(d&&f){var p=f.data.interactionMethod;s.opacity=0,u?s.translateY=-40:1===p?s.translateX=40:s.translateY=3===p?40:30}else d||(s.opacity=1,s.translateX=0,s.translateY=0);var g=function(t){var e=t.ref.list.childViews[0].childViews[0];return e?{top:e.rect.element.marginTop,bottom:e.rect.element.marginBottom}:{top:0,bottom:0}}(e),m=function(t){var e=0,n=0,r=t.ref.list,i=r.childViews[0],o=i.childViews.filter(function(t){return t.rect.element.height}),s=t.query("GET_ACTIVE_ITEMS").map(function(t){return o.find(function(e){return e.id===t.id})}).filter(function(t){return t});if(0===s.length)return{visual:e,bounds:n};var a=i.rect.element.width,l=un(i,s,r.dragCoordinates),c=s[0].rect.element,u=c.marginTop+c.marginBottom,h=c.width+(c.marginLeft+c.marginRight),d=c.height+u,f=void 0!==l&&l>=0?1:0,p=s.find(function(t){return t.markedForRemoval&&t.opacity<.45})?-1:0,g=s.length+f+p,m=cn(a,h);return 1===m?s.forEach(function(t){var r=t.rect.element.height+u;n+=r,e+=r*t.opacity}):(n=Math.ceil(g/m)*d,e=n),{visual:e,bounds:n}}(e),v=s.rect.element.height,y=!u||d?0:v,_=d?a.rect.element.marginTop:0,b=0===h?0:a.rect.element.marginBottom,E=y+_+m.visual+b,w=y+_+m.bounds+b;if(a.translateY=Math.max(0,y-a.rect.element.marginTop)-g.top,c){var T=e.rect.element.width,I=T*c;c!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=c,e.ref.updateHistory=[]);var S=e.ref.updateHistory;if(S.push(T),S.length>4)for(var O=S.length,C=O-10,R=0,A=O;A>=C;A--)if(S[A]===S[A-2]&&R++,R>=2)return;l.scalable=!1,l.height=I;var x=I-y-(b-g.bottom)-(d?_:0);a.overflow=m.visual>x?x:null,e.height=I}else if(r.fixedHeight){l.scalable=!1;var P=r.fixedHeight-y-(b-g.bottom)-(d?_:0);a.overflow=m.visual>P?P:null}else if(r.cappedHeight){var D=E>=r.cappedHeight,M=Math.min(r.cappedHeight,E);l.scalable=!0,l.height=D?M:M-g.top-g.bottom;var k=M-y-(b-g.bottom)-(d?_:0);a.overflow=E>r.cappedHeight&&m.visual>k?k:null,e.height=Math.min(r.cappedHeight,w-g.top-g.bottom)}else{var N=h>0?g.top+g.bottom:0;l.scalable=!0,l.height=Math.max(v,E-N),e.height=Math.max(v,w-N)}e.ref.credits&&l.heightCurrent&&(e.ref.credits.style.transform="translateY("+l.heightCurrent+"px)")}},destroy:function(t){var e=t.root;e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",Or),e.element.removeEventListener("gesturestart",Or)},mixins:{styles:["height"]}}),Lr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=null,r=St(),o=n(J(r),[Ut,nt(r)],[we,et(r)]);o.dispatch("SET_OPTIONS",{options:t});var s=function(){document.hidden||o.dispatch("KICK")};document.addEventListener("visibilitychange",s);var a=null,l=!1,c=!1,u=null,h=null,d=function(){l||(l=!0),clearTimeout(a),a=setTimeout(function(){l=!1,u=null,h=null,c&&(c=!1,o.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",d);var f=Mr(o,{id:rt()}),p=!1,g=!1,m={_read:function(){l&&(h=window.innerWidth,u||(u=h),c||h===u||(o.dispatch("DID_START_RESIZE"),c=!0)),g&&p&&(p=null===f.element.offsetParent),p||(f._read(),g=f.rect.element.hidden)},_write:function(t){var e=o.processActionQueue().filter(function(t){return!/^SET_/.test(t.type)});p&&!e.length||(E(e),p=f._write(t,e,c),gt(o.query("GET_ITEMS")),p&&o.processDispatchQueue())}},v=function(t){return function(e){var n={type:t};if(!e)return n;if(e.hasOwnProperty("error")&&(n.error=e.error?Object.assign({},e.error):null),e.status&&(n.status=Object.assign({},e.status)),e.file&&(n.output=e.file),e.source)n.file=e.source;else if(e.item||e.id){var r=e.item?e.item:o.query("GET_ITEM",e.id);n.file=r?pt(r):null}return e.items&&(n.items=e.items.map(pt)),/progress/.test(t)&&(n.progress=e.progress),e.hasOwnProperty("origin")&&e.hasOwnProperty("target")&&(n.origin=e.origin,n.target=e.target),n}},y={DID_DESTROY:v("destroy"),DID_INIT:v("init"),DID_THROW_MAX_FILES:v("warning"),DID_INIT_ITEM:v("initfile"),DID_START_ITEM_LOAD:v("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:v("addfileprogress"),DID_LOAD_ITEM:v("addfile"),DID_THROW_ITEM_INVALID:[v("error"),v("addfile")],DID_THROW_ITEM_LOAD_ERROR:[v("error"),v("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[v("error"),v("removefile")],DID_PREPARE_OUTPUT:v("preparefile"),DID_START_ITEM_PROCESSING:v("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:v("processfileprogress"),DID_ABORT_ITEM_PROCESSING:v("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:v("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:v("processfiles"),DID_REVERT_ITEM_PROCESSING:v("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[v("error"),v("processfile")],DID_REMOVE_ITEM:v("removefile"),DID_UPDATE_ITEMS:v("updatefiles"),DID_ACTIVATE_ITEM:v("activatefile"),DID_REORDER_ITEMS:v("reorderfiles")},b=function(t){var e=Object.assign({pond:U},t);delete e.type,f.element.dispatchEvent(new CustomEvent("FilePond:"+t.type,{detail:e,bubbles:!0,cancelable:!0,composed:!0}));var n=[];t.hasOwnProperty("error")&&n.push(t.error),t.hasOwnProperty("file")&&n.push(t.file);var r=["type","error","file"];Object.keys(t).filter(function(t){return!r.includes(t)}).forEach(function(e){return n.push(t[e])}),U.fire.apply(U,[t.type].concat(n));var i=o.query("GET_ON"+t.type.toUpperCase());i&&i.apply(void 0,n)},E=function(t){t.length&&t.filter(function(t){return y[t.type]}).forEach(function(t){var e=y[t.type];(Array.isArray(e)?e:[e]).forEach(function(e){"DID_INIT_ITEM"===t.type?b(e(t.data)):setTimeout(function(){b(e(t.data))},0)})})},w=function(t){return o.dispatch("SET_OPTIONS",{options:t})},T=function(t){return o.query("GET_ACTIVE_ITEM",t)},I=function(t){return new Promise(function(e,n){o.dispatch("REQUEST_ITEM_PREPARE",{query:t,success:function(t){e(t)},failure:function(t){n(t)}})})},S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){R([{source:t,options:e}],{index:e.index}).then(function(t){return n(t&&t[0])}).catch(r)})},O=function(t){return t.file&&t.id},C=function(t,e){return"object"!=typeof t||O(t)||e||(e=t,t=void 0),o.dispatch("REMOVE_ITEM",Object.assign({},e,{query:t})),null===o.query("GET_ACTIVE_ITEM",t)},R=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise(function(t,n){var r=[],i={};if(M(e[0]))r.push.apply(r,e[0]),Object.assign(i,e[1]||{});else{var s=e[e.length-1];"object"!=typeof s||s instanceof Blob||Object.assign(i,e.pop()),r.push.apply(r,e)}o.dispatch("ADD_ITEMS",{items:r,index:i.index,interactionMethod:1,success:t,failure:n})})},A=function(){return o.query("GET_ACTIVE_ITEMS")},x=function(t){return new Promise(function(e,n){o.dispatch("REQUEST_ITEM_PROCESSING",{query:t,success:function(t){e(t)},failure:function(t){n(t)}})})},L=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Array.isArray(e[0])?e[0]:e,i=r.length?r:A();return Promise.all(i.map(I))},k=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Array.isArray(e[0])?e[0]:e;if(!r.length){var i=A().filter(function(t){return!(t.status===mt.IDLE&&t.origin===vt.LOCAL)&&t.status!==mt.PROCESSING&&t.status!==mt.PROCESSING_COMPLETE&&t.status!==mt.PROCESSING_REVERT_ERROR});return Promise.all(i.map(x))}return Promise.all(r.map(x))},N=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=Array.isArray(e[0])?e[0]:e;"object"==typeof i[i.length-1]?r=i.pop():Array.isArray(e[0])&&(r=e[1]);var o=A();return i.length?i.map(function(t){return _(t)?o[t]?o[t].id:null:t}).filter(function(t){return t}).map(function(t){return C(t,r)}):Promise.all(o.map(function(t){return C(t,r)}))},U=Object.assign({},ht(),{},m,{},tt(o,r),{setOptions:w,addFile:S,addFiles:R,getFile:T,processFile:x,prepareFile:I,removeFile:C,moveFile:function(t,e){return o.dispatch("MOVE_ITEM",{query:t,index:e})},getFiles:A,processFiles:k,removeFiles:N,prepareFiles:L,sort:function(t){return o.dispatch("SORT",{compare:t})},browse:function(){var t=f.element.querySelector("input[type=file]");t&&t.click()},destroy:function(){U.fire("destroy",f.element),o.dispatch("ABORT_ALL"),f._destroy(),window.removeEventListener("resize",d),document.removeEventListener("visibilitychange",s),o.dispatch("DID_DESTROY")},insertBefore:function(t){return P(f.element,t)},insertAfter:function(t){return D(f.element,t)},appendTo:function(t){return t.appendChild(f.element)},replaceElement:function(t){P(f.element,t),t.parentNode.removeChild(t),e=t},restoreElement:function(){e&&(D(e,f.element),f.element.parentNode.removeChild(f.element),e=null)},isAttachedTo:function(t){return f.element===t||e===t},element:{get:function(){return f.element}},status:{get:function(){return o.query("GET_STATUS")}}});return o.dispatch("DID_INIT"),i(U)},kr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};return r(St(),function(t,n){e[t]=n[0]}),Lr(Object.assign({},e,{},t))},Nr=function(t){return Ir(t.replace(/^data-/,""))},Ur=function t(e,n){r(n,function(n,i){r(e,function(t,r){var o,s=new RegExp(n);if(s.test(t)&&(delete e[t],!1!==i))if(F(i))e[i]=r;else{var a=i.group;W(i)&&!e[a]&&(e[a]={}),e[a][(o=t.replace(s,""),o.charAt(0).toLowerCase()+o.slice(1))]=r}}),i.mapping&&t(e[i.group],i.mapping)})},Vr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];r(t.attributes,function(e){n.push(t.attributes[e])});var i=n.filter(function(t){return t.name}).reduce(function(e,n){var r=o(t,n.name);return e[Nr(n.name)]=r===n.name||r,e},{});return Ur(i,e),i},Fr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Tt("SET_ATTRIBUTE_TO_OPTION_MAP",n);var r=Object.assign({},e),i=Vr("FIELDSET"===t.nodeName?t.querySelector("input[type=file]"):t,n);Object.keys(i).forEach(function(t){W(i[t])?(W(r[t])||(r[t]={}),Object.assign(r[t],i[t])):r[t]=i[t]}),r.files=(e.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map(function(t){return{source:t.value,options:{type:t.dataset.type}}}));var o=kr(r);return t.files&&Array.from(t.files).forEach(function(t){o.addFile(t)}),o.replaceElement(t),o},Gr=function(){return e(arguments.length<=0?void 0:arguments[0])?Fr.apply(void 0,arguments):kr.apply(void 0,arguments)},jr=["fire","_read","_write"],Br=function(t){var e={};return dt(t,e,jr),e},Hr=function(t,e){return t.replace(/(?:{([a-zA-Z]+)})/g,function(t,n){return e[n]})},qr=function(t){var e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);return{transfer:function(t,e){},post:function(t,e,n){var i=rt();r.onmessage=function(t){t.data.id===i&&e(t.data.message)},r.postMessage({id:i,message:t},n)},terminate:function(){r.terminate(),URL.revokeObjectURL(n)}}},zr=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=function(t){n(t)},r.src=t})},$r=function(t,e){var n=t.slice(0,t.size,t.type);return n.lastModifiedDate=t.lastModifiedDate,n.name=e,n},Wr=function(t){return $r(t,t.name)},Yr=[],Xr=function(t){if(!Yr.includes(t)){Yr.push(t);var e=t({addFilter:It,utils:{Type:bt,forin:r,isString:F,isFile:de,toNaturalFileSize:Re,replaceInString:Hr,getExtensionFromFilename:jt,getFilenameWithoutExtension:ue,guesstimateMimeType:jn,getFileFromBlob:zt,getFilenameFromURL:Gt,createRoute:x,createWorker:qr,createView:A,createItemAPI:pt,loadImage:zr,copyFile:Wr,renameFile:$r,createBlob:$t,applyFilterChain:wt,text:Ie,getNumericAspectRatioFromString:Rt},views:{fileActionButton:Ce}});Object.assign(Ot,e.options)}},Zr=(Ge=p()&&!("[object OperaMini]"===Object.prototype.toString.call(window.operamini))&&"visibilityState"in document&&"Promise"in window&&"slice"in Blob.prototype&&"URL"in window&&"createObjectURL"in window.URL&&"performance"in window&&("supports"in(window.CSS||{})||/MSIE|Trident/.test(window.navigator.userAgent)),function(){return Ge}),Qr={apps:[]},Jr=function(){};if(t.Status={},t.FileStatus={},t.FileOrigin={},t.OptionTypes={},t.create=Jr,t.destroy=Jr,t.parse=Jr,t.find=Jr,t.registerPlugin=Jr,t.getOptions=Jr,t.setOptions=Jr,Zr()){!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,r="__framePainter";if(window[r])return window[r].readers.push(t),void window[r].writers.push(e);window[r]={readers:[t],writers:[e]};var i=window[r],o=1e3/n,s=null,a=null,l=null,c=null,u=function(){document.hidden?(l=function(){return window.setTimeout(function(){return h(performance.now())},o)},c=function(){return window.clearTimeout(a)}):(l=function(){return window.requestAnimationFrame(h)},c=function(){return window.cancelAnimationFrame(a)})};document.addEventListener("visibilitychange",function(){c&&c(),u(),h(performance.now())});var h=function t(e){a=l(t),s||(s=e);var n=e-s;n<=o||(s=e-n%o,i.readers.forEach(function(t){return t()}),i.writers.forEach(function(t){return t(e)}))};u(),h(performance.now())}(function(){Qr.apps.forEach(function(t){return t._read()})},function(t){Qr.apps.forEach(function(e){return e._write(t)})});var Kr=function e(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Zr,create:t.create,destroy:t.destroy,parse:t.parse,find:t.find,registerPlugin:t.registerPlugin,setOptions:t.setOptions}})),document.removeEventListener("DOMContentLoaded",e)};"loading"!==document.readyState?setTimeout(function(){return Kr()},0):document.addEventListener("DOMContentLoaded",Kr);var ti=function(){return r(St(),function(e,n){t.OptionTypes[e]=n[1]})};t.Status=Object.assign({},xt),t.FileOrigin=Object.assign({},vt),t.FileStatus=Object.assign({},mt),t.OptionTypes={},ti(),t.create=function(){var e=Gr.apply(void 0,arguments);return e.on("destroy",t.destroy),Qr.apps.push(e),Br(e)},t.destroy=function(t){var e=Qr.apps.findIndex(function(e){return e.isAttachedTo(t)});return e>=0&&(Qr.apps.splice(e,1)[0].restoreElement(),!0)},t.parse=function(e){return Array.from(e.querySelectorAll(".filepond")).filter(function(t){return!Qr.apps.find(function(e){return e.isAttachedTo(t)})}).map(function(e){return t.create(e)})},t.find=function(t){var e=Qr.apps.find(function(e){return e.isAttachedTo(t)});return e?Br(e):null},t.registerPlugin=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(Xr),ti()},t.getOptions=function(){var t={};return r(St(),function(e,n){t[e]=n[0]}),t},t.setOptions=function(e){return W(e)&&(Qr.apps.forEach(function(t){t.setOptions(e)}),function(t){r(t,function(t,e){Ot[t]&&(Ot[t][0]=Z(e,Ot[t][0],Ot[t][1]))})}(e)),t.getOptions()}}t.supported=Zr,Object.defineProperty(t,"__esModule",{value:!0})}(e)},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(s){e=s instanceof u?d(s.errors):[s]}if(l(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(c(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof u?e=e.concat(d(s.errors)):e.push(s)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(t){return t}let y=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[f])return t[f]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=_(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?v:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=_(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function _(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const b=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class E extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class w extends p{constructor(t){super(t),this.destination=t}}let T=(()=>{class t extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new w(this)}lift(t){const e=new I(this,this);return e.operator=t,e}next(t){if(this.closed)throw new b;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new b;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new b;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new b;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new b;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new E(this,t))}asObservable(){const t=new y;return t.source=this,t}}return t.create=(t,e)=>new I(t,e),t})();class I extends T{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function S(t){return t&&"function"==typeof t.schedule}class O extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const C=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const A=R(),x=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function P(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const D=t=>{if(t&&"function"==typeof t[m])return r=t,t=>{const e=r[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(x(t))return C(t);if(P(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[A])return e=t,t=>{const n=e[A]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function M(t,e,n,r,i=new O(t,n,r)){if(!i.closed)return e instanceof y?e.subscribe(i):D(e)(i)}class L extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function k(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new N(t,e))}}class N{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new U(t,this.project,this.thisArg))}}class U extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function V(t,e){return new y(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function F(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(P(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(x(t))return V(t,e);if(function(t){return t&&"function"==typeof t[A]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new y(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[A](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof y?t:new y(D(t))}function G(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(G((n,r)=>F(t(n,r)).pipe(k((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new j(t,n)))}class j{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}class B extends L{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new O(this,e,n),i=this.destination;i.add(r);const o=M(this,t,void 0,void 0,r);o!==r&&i.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(t=Number.POSITIVE_INFINITY){return G(v,t)}function q(t,e){return e?V(t,e):new y(C(t))}function z(){return function(t){return t.lift(new W(t))}}class W{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Y(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Y extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class X extends y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Q(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return z()(this)}}const Z=(()=>{const t=X.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Q extends w{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function J(){return new T}function K(t){for(let e in t)if(t[e]===K)return e;throw Error("Could not find renamed property on target object.")}function tt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function et(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(et).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function nt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const rt=K({__forward_ref__:K});function it(t){return t.__forward_ref__=it,t.toString=function(){return et(this())},t}function ot(t){return st(t)?t():t}function st(t){return"function"==typeof t&&t.hasOwnProperty(rt)&&t.__forward_ref__===it}class at extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function lt(t){return"string"==typeof t?t:null==t?"":String(t)}function ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():lt(t)}function ut(t,e){const n=e?` in ${e}`:"";throw new at("201",`No provider for ${ct(t)} found${n}`)}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ft(t){return pt(t,mt)||pt(t,yt)}function pt(t,e){return t.hasOwnProperty(e)?t[e]:null}function gt(t){return t&&(t.hasOwnProperty(vt)||t.hasOwnProperty(_t))?t[vt]:null}const mt=K({"\u0275prov":K}),vt=K({"\u0275inj":K}),yt=K({ngInjectableDef:K}),_t=K({ngInjectorDef:K});var bt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let Et;function wt(t){const e=Et;return Et=t,e}function Tt(t,e,n){const r=ft(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&bt.Optional?null:void 0!==e?e:void ut(et(t),"Injector")}function It(t){return{toString:t}.toString()}var St=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Ot=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Ct="undefined"!=typeof globalThis&&globalThis,Rt="undefined"!=typeof window&&window,At="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xt="undefined"!=typeof global&&global,Pt=Ct||xt||Rt||At,Dt={},Mt=[],Lt=[],kt=K({"\u0275cmp":K}),Nt=K({"\u0275dir":K}),Ut=K({"\u0275pipe":K}),Vt=K({"\u0275mod":K}),Ft=K({"\u0275loc":K}),Gt=K({"\u0275fac":K}),jt=K({__NG_ELEMENT_ID__:K});let Bt=0;function Ht(t){return It(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ot.Emulated,id:"c",styles:t.styles||Lt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Bt++,n.inputs=Yt(t.inputs,e),n.outputs=Yt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(qt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(zt):null,n})}function qt(t){return Zt(t)||function(t){return t[Nt]||null}(t)}function zt(t){return function(t){return t[Ut]||null}(t)}const $t={};function Wt(t){const e={type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&It(()=>{$t[t.id]=t.type}),e}function Yt(t,e){if(null==t)return Dt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Xt=Ht;function Zt(t){return t[kt]||null}function Qt(t,e){const n=t[Vt]||null;if(!n&&!0===e)throw new Error(`Type ${et(t)} does not have '\u0275mod' property.`);return n}const Jt=20,Kt=10;function te(t){return Array.isArray(t)&&"object"==typeof t[1]}function ee(t){return Array.isArray(t)&&!0===t[1]}function ne(t){return 0!=(8&t.flags)}function re(t){return 2==(2&t.flags)}function ie(t){return 1==(1&t.flags)}function oe(t){return null!==t.template}function se(t,e){return t.hasOwnProperty(Gt)?t[Gt]:null}class ae{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function le(){return ce}function ce(t){return t.type.prototype.ngOnChanges&&(t.setInput=he),ue}function ue(){const t=de(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Dt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function he(t,e,n,r){const i=de(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Dt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],l=s[a];o[a]=new ae(l&&l.currentValue,e,s===Dt),t[r]=e}function de(t){return t.__ngSimpleChanges__||null}let fe;function pe(){return void 0!==fe?fe:"undefined"!=typeof document?document:void 0}function ge(t){return!!t.listen}le.ngInherit=!0;const me={createRenderer:(t,e)=>pe()};function ve(t){for(;Array.isArray(t);)t=t[0];return t}function ye(t,e){return ve(e[t])}function _e(t,e){return ve(e[t.index])}function be(t,e){return t.data[e]}function Ee(t,e){const n=e[t];return te(n)?n:n[0]}function we(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Te(t){return 4==(4&t[2])}function Ie(t){return 128==(128&t[2])}function Se(t,e){return null==e?null:t[e]}function Oe(t){t[18]=0}function Ce(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Re={lFrame:Ye(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ae(){return Re.bindingsEnabled}function xe(){return Re.lFrame.lView}function Pe(){return Re.lFrame.tView}function De(t){Re.lFrame.contextLView=t}function Me(){let t=Le();for(;null!==t&&64===t.type;)t=t.parent;return t}function Le(){return Re.lFrame.currentTNode}function ke(t,e){const n=Re.lFrame;n.currentTNode=t,n.isParent=e}function Ne(){return Re.lFrame.isParent}function Ue(){return Re.isInCheckNoChangesMode}function Ve(t){Re.isInCheckNoChangesMode=t}function Fe(){return Re.lFrame.bindingIndex++}function Ge(t,e){const n=Re.lFrame;n.bindingIndex=n.bindingRootIndex=t,je(e)}function je(t){Re.lFrame.currentDirectiveIndex=t}function Be(){return Re.lFrame.currentQueryIndex}function He(t){Re.lFrame.currentQueryIndex=t}function qe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ze(t,e,n){if(n&bt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&bt.Host||(r=qe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Re.lFrame=We();return r.currentTNode=e,r.lView=t,!0}function $e(t){const e=We(),n=t[1];Re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function We(){const t=Re.lFrame,e=null===t?null:t.child;return null===e?Ye(t):e}function Ye(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Xe(){const t=Re.lFrame;return Re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ze=Xe;function Qe(){const t=Xe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Je(){return Re.lFrame.selectedIndex}function Ke(t){Re.lFrame.selectedIndex=t}function tn(){const t=Re.lFrame;return be(t.tView,t.selectedIndex)}function en(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function nn(t,e,n){sn(t,e,3,n)}function rn(t,e,n,r){(3&t[2])===n&&sn(t,e,n,r)}function on(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function sn(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(an(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function an(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const ln=-1;class cn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function un(t,e,n){const r=ge(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=n[++i];dn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function hn(t){return 3===t||4===t||6===t}function dn(t){return 64===t.charCodeAt(0)}function fn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||pn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function pn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function gn(t){return t!==ln}function mn(t){return 32767&t}function vn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let yn=!0;function _n(t){const e=yn;return yn=t,e}let bn=0;function En(t,e){const n=Tn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,wn(r.data,t),wn(e,null),wn(r.blueprint,null));const i=In(t,e),o=t.injectorIndex;if(gn(i)){const t=mn(i),n=vn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function wn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Tn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function In(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ln;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ln}function Sn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(jt)&&(r=n[jt]),null==r&&(r=n[jt]=bn++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function On(t,e,n){if(n&bt.Optional)return t;ut(e,"NodeInjector")}function Cn(t,e,n,r){if(n&bt.Optional&&void 0===r&&(r=null),0==(n&(bt.Self|bt.Host))){const i=t[9],o=wt(void 0);try{return i?i.get(e,r,n&bt.Optional):Tt(e,r,n&bt.Optional)}finally{wt(o)}}return On(r,e,n)}function Rn(t,e,n,r=bt.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(jt)?t[jt]:void 0;return"number"==typeof e?e>=0?255&e:xn:e}(n);if("function"==typeof o){if(!ze(e,t,r))return r&bt.Host?On(i,n,r):Cn(e,n,r,i);try{const t=o();if(null!=t||r&bt.Optional)return t;ut(n)}finally{Ze()}}else if("number"==typeof o){let i=null,s=Tn(t,e),a=ln,l=r&bt.Host?e[16][6]:null;for((-1===s||r&bt.SkipSelf)&&(a=-1===s?In(t,e):e[s+8],a!==ln&&kn(r,!1)?(i=e[1],s=mn(a),e=vn(a,e)):s=-1);-1!==s;){const t=e[1];if(Ln(o,s,t.data)){const t=Pn(s,e,n,i,r,l);if(t!==An)return t}a=e[s+8],a!==ln&&kn(r,e[1].data[s+8]===l)&&Ln(o,s,e)?(i=t,s=mn(a),e=vn(a,e)):s=-1}}}return Cn(e,n,r,i)}const An={};function xn(){return new Nn(Me(),xe())}function Pn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],l=Dn(a,s,n,null==r?re(a)&&yn:r!=s&&0!=(3&a.type),i&bt.Host&&o===a);return null!==l?Mn(e,s,l,a):An}function Dn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,c=o>>20,u=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<u;h++){const t=s[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(i){const t=s[l];if(t&&oe(t)&&t.type===n)return l}return null}function Mn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof cn){const s=i;s.resolving&&function(t,e){throw new at("200",`Circular dependency in DI detected for ${t}`)}(ct(o[n]));const a=_n(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?wt(s.injectImpl):null;ze(t,r,bt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=ce(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==l&&wt(l),_n(a),s.resolving=!1,Ze()}}return i}function Ln(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function kn(t,e){return!(t&bt.Self||t&bt.Host&&e)}class Nn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Rn(this._tNode,this._lView,t,void 0,e)}}function Un(t){return It(()=>{const e=t.prototype.constructor,n=e[Gt]||Vn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Gt]||Vn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Vn(t){return st(t)?()=>{const e=Vn(ot(t));return e&&e()}:se(t)}function Fn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(hn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Me(),t)}const Gn="__parameters__";function jn(t,e,n){return It(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Gn)?t[Gn]:Object.defineProperty(t,Gn,{value:[]})[Gn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Bn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ht({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Hn=new Bn("AnalyzeForEntryComponents"),qn=Function;function zn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),zn(r,e)):e!==t&&e.push(r)}return e}function $n(t,e){t.forEach(t=>Array.isArray(t)?$n(t,e):e(t))}function Wn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Yn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Xn(t,e,n){let r=Qn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Zn(t,e){const n=Qn(t,e);if(n>=0)return t[1|n]}function Qn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Jn={},Kn=/\n/gm,tr="__source",er=K({provide:String,useValue:K});let nr;function rr(t){const e=nr;return nr=t,e}function ir(t,e=bt.Default){if(void 0===nr)throw new Error("inject() must be called from an injection context");return null===nr?Tt(t,void 0,e):nr.get(t,e&bt.Optional?null:void 0,e)}function or(t,e=bt.Default){return(Et||ir)(ot(t),e)}function sr(t){const e=[];for(let n=0;n<t.length;n++){const r=ot(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=bt.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(or(t,n))}else e.push(or(r))}return e}function ar(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const lr=ar(jn("Inject",t=>({token:t})),-1),cr=ar(jn("Optional"),8),ur=ar(jn("SkipSelf"),4);let hr,dr;function fr(t){var e;return(null===(e=function(){if(void 0===hr&&(hr=null,Pt.trustedTypes))try{hr=Pt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return hr}())||void 0===e?void 0:e.createHTML(t))||t}function pr(t){var e;return(null===(e=function(){if(void 0===dr&&(dr=null,Pt.trustedTypes))try{dr=Pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return dr}())||void 0===e?void 0:e.createHTML(t))||t}class gr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function mr(t){return t instanceof gr?t.changingThisBreaksApplicationSecurity:t}function vr(t,e){const n=function(t){return t instanceof gr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}class yr{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(fr(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class _r{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=fr(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=fr(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const br=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Er=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wr(t){return(t=String(t)).match(br)||t.match(Er)?t:"unsafe:"+t}function Tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Ir(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Sr=Tr("area,br,col,hr,img,wbr"),Or=Tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cr=Tr("rp,rt"),Rr=Ir(Cr,Or),Ar=Ir(Sr,Ir(Or,Tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ir(Cr,Tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rr),xr=Tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pr=Tr("srcset"),Dr=Ir(xr,Pr,Tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mr=Tr("script,style,template");class Lr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Ar.hasOwnProperty(e))return this.sanitizedSomething=!0,!Mr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Dr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;xr[o]&&(s=wr(s)),Pr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>wr(t.trim())).join(", ")),this.buf.push(" ",e,'="',Ur(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Ar.hasOwnProperty(e)&&!Sr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Ur(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const kr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nr=/([^\#-~ |!])/g;function Ur(t){return t.replace(/&/g,"&amp;").replace(kr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Nr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vr;function Fr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function jr(t){const e=Hr();return e?pr(e.sanitize(Gr.HTML,t)||""):vr(t,"HTML")?pr(mr(t)):function(t,e){let n=null;try{Vr=Vr||function(t){const e=new _r(t);return function(){try{return!!(new window.DOMParser).parseFromString(fr(""),"text/html")}catch(t){return!1}}()?new yr(e):e}(t);let r=e?String(e):"";n=Vr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Vr.getInertBodyElement(r)}while(r!==o);return fr((new Lr).sanitizeChildren(Fr(n)||n))}finally{if(n){const t=Fr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(pe(),lt(t))}function Br(t){const e=Hr();return e?e.sanitize(Gr.URL,t)||"":vr(t,"URL")?mr(t):wr(lt(t))}function Hr(){const t=xe();return t&&t[12]}function qr(t){return t.ngDebugContext}function zr(t){return t.ngOriginalError}function $r(t,...e){t.error(...e)}class Wr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||$r}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?qr(t)?qr(t):this._findContext(zr(t)):null}_findOriginalError(t){let e=zr(t);for(;e&&zr(e);)e=zr(e);return e}}function Yr(t,e){t.__ngContext__=e}const Xr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pt))();function Zr(t){return t instanceof Function?t():t}var Qr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Jr(t,e){return(void 0)(t,e)}function Kr(t){const e=t[3];return ee(e)?e[3]:e}function ti(t){return ni(t[13])}function ei(t){return ni(t[4])}function ni(t){for(;null!==t&&!ee(t);)t=t[4];return t}function ri(t,e,n,r,i){if(null!=r){let o,s=!1;ee(r)?o=r:te(r)&&(s=!0,r=r[0]);const a=ve(r);0===t&&null!==n?null==i?ui(e,n,a):ci(e,n,a,i||null,!0):1===t&&null!==n?ci(e,n,a,i||null,!0):2===t?function(t,e,n){const r=di(t,e);r&&function(t,e,n,r){ge(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ve(n)&&ri(e,t,r,o,i);for(let s=Kt;s<n.length;s++){const i=n[s];yi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function ii(t,e,n){return ge(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function oi(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ce(i,-1)),n.splice(r,1)}function si(t,e){if(t.length<=Kt)return;const n=Kt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&oi(o,r),e>0&&(t[n-1][4]=r[4]);const s=Yn(t,Kt+e);yi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function ai(t,e){if(!(256&e[2])){const n=e[11];ge(n)&&n.destroyNode&&yi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return li(t[1],t);for(;e;){let n=null;if(te(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)te(e)&&li(e[1],e),e=e[3];null===e&&(e=t),te(e)&&li(e[1],e),n=e&&e[4]}e=n}}(e)}}function li(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof cn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):ve(e[t]),a=r[i=n[o+2]],l=n[o+3];"boolean"==typeof l?s.removeEventListener(n[o],a,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&ge(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ee(e[3])){n!==e[3]&&oi(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function ci(t,e,n,r,i){ge(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function ui(t,e,n){ge(t)?t.appendChild(e,n):e.appendChild(n)}function hi(t,e,n,r,i){null!==r?ci(t,e,n,r,i):ui(t,e,n)}function di(t,e){return ge(t)?t.parentNode(e):e.parentNode}function fi(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===Ot.None||e===Ot.Emulated)return null}return _e(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?_e(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)hi(o,i,n[a],s,!1);else hi(o,i,n,s,!1)}function pi(t,e){if(null!==e){const n=e.type;if(3&n)return _e(e,t);if(4&n)return mi(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return pi(t,n);{const n=t[e.index];return ee(n)?mi(-1,n):ve(n)}}if(32&n)return Jr(e,t)()||ve(t[e.index]);{const n=gi(t,e);return null!==n?Array.isArray(n)?n[0]:pi(Kr(t[16]),n):pi(t,e.next)}}return null}function gi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function mi(t,e){const n=Kt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return pi(t,r)}return e[7]}function vi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&Yr(ve(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)vi(t,e,n.child,r,i,o,!1),ri(e,t,i,a,o);else if(32&l){const s=Jr(n,r);let l;for(;l=s();)ri(e,t,i,l,o);ri(e,t,i,a,o)}else 16&l?_i(t,e,r,n,i,o):ri(e,t,i,a,o);n=s?n.projectionNext:n.next}}function yi(t,e,n,r,i,o){vi(n,r,t.firstChild,e,i,o,!1)}function _i(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)ri(e,t,i,a[l],o);else vi(t,e,a,s[3],i,o,!0)}function bi(t,e,n){ge(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ei(t,e,n){ge(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function wi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Ti="ng-template";function Ii(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==wi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Si(t){return 4===t.type&&t.value!==Ti}function Oi(t,e,n){return e===(4!==t.type||n?t.value:Ti)}function Ci(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(hn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Oi(t,l,n)||""===l&&1===e.length){if(Ri(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!Ii(t.attrs,c,n)){if(Ri(r))return!1;s=!0}continue}const u=Ai(8&r?"class":l,i,Si(t),n);if(-1===u){if(Ri(r))return!1;s=!0;continue}if(""!==c){let t;t=u>o?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==wi(e,c,0)||2&r&&c!==t){if(Ri(r))return!1;s=!0}}}}else{if(!s&&!Ri(r)&&!Ri(l))return!1;if(s&&Ri(l))continue;s=!1,r=l|1&r}}return Ri(r)||s}function Ri(t){return 0==(1&t)}function Ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function xi(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ci(t,e[r],n))return!0;return!1}function Pi(t,e){return t?":not("+e.trim()+")":e}function Di(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Ri(s)||(e+=Pi(o,i),i=""),r=s,o=o||!Ri(r);n++}return""!==i&&(e+=Pi(o,i)),e}const Mi={};function Li(t){ki(Pe(),xe(),Je()+t,Ue())}function ki(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&nn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&rn(e,r,0,n)}Ke(n)}function Ni(t,e){return t<<17|e<<2}function Ui(t){return t>>17&32767}function Vi(t){return 2|t}function Fi(t){return(131068&t)>>2}function Gi(t,e){return-131069&t|e<<2}function ji(t){return 1|t}function Bi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];He(i),n.contentQueries(2,e[o],o)}}}function Hi(t,e,n,r,i,o,s,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Oe(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function qi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Le(),s=Ne(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Re.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return ke(o,!0),o}function zi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $i(t,e,n){$e(e);try{const r=t.viewQuery;null!==r&&wo(1,r,n);const i=t.template;null!==i&&Xi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Bi(t,e),t.staticViewQueries&&wo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)vo(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Qe()}}function Wi(t,e,n,r){const i=e[2];if(256==(256&i))return;$e(e);const o=Ue();try{Oe(e),Re.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Xi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&nn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&rn(e,n,0,null),on(e,0)}if(function(t){for(let e=ti(t);null!==e;e=ei(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ce(r,1),n[2]|=1024}}}(e),function(t){for(let e=ti(t);null!==e;e=ei(e))for(let t=Kt;t<e.length;t++){const n=e[t],r=n[1];Ie(n)&&Wi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Bi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&nn(e,n)}else{const n=t.contentHooks;null!==n&&rn(e,n,1),on(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Ke(~r);else{const i=r,o=n[++t],s=n[++t];Ge(o,i),s(2,e[i])}}}finally{Ke(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)go(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&wo(2,l,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&nn(e,n)}else{const n=t.viewHooks;null!==n&&rn(e,n,2),on(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ce(e[3],-1))}finally{Qe()}}function Yi(t,e,n,r){const i=e[10],o=!Ue(),s=Te(e);try{o&&!s&&i.begin&&i.begin(),s&&$i(t,e,r),Wi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Xi(t,e,n,r,i){const o=Je(),s=2&r;try{Ke(-1),s&&e.length>Jt&&ki(t,e,Jt,Ue()),n(r,i)}finally{Ke(o)}}function Zi(t,e,n){Ae()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||En(n,e),Yr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=oe(r);o&&uo(e,n,r);const l=Mn(e,t,a,n);Yr(l,e),null!==s&&ho(0,a-i,l,r,0,s),o&&(Ee(n.index,e)[8]=l)}}(t,e,n,_e(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Re.lFrame.currentDirectiveIndex;try{Ke(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];je(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||oo(r,i)}}finally{Ke(-1),je(s)}}(t,e,n))}function Qi(t,e,n=_e){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ji(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ki(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ki(t,e,n,r,i,o,s,a,l,c){const u=Jt+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Mi);return n}(u,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function to(t,e,n,r){const i=Io(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&So(t).push(r,i.length-1))}function eo(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function no(t,e,n,r,i,o,s,a){const l=_e(e,n);let c,u=e.inputs;var h;!a&&null!=u&&(c=u[r])?(Co(t,n,c,r,i),re(e)&&function(t,e){const n=Ee(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,ge(o)?o.setProperty(l,r,i):dn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function ro(t,e,n,r){let i=!1;if(Ae()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];xi(n,s.selectors,!1)&&(i||(i=[]),Sn(En(n,e),t,s.type),oe(s)?(so(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,lo(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,l=zi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=fn(n.mergedAttrs,c.hostAttrs),co(t,n,e,l,c),ao(l,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=r[l],n=t.inputs,c=null===i||Si(e)?null:fo(n,i);o.push(c),s=eo(n,l,s),a=eo(t.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new at("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=fn(n.mergedAttrs,n.attrs),i}function io(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function oo(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function so(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ao(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;oe(e)&&(n[""]=t)}}function lo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function co(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=se(i.type)),s=new cn(o,oe(i),null);t.blueprint[r]=s,n[r]=s,io(t,e,0,r,zi(t,n,i.hostVars,Mi),i)}function uo(t,e,n){const r=_e(e,t),i=Ji(n),o=t[10],s=yo(t,Hi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function ho(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function fo(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function po(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function go(t,e){const n=Ee(e,t);if(Ie(n)){const t=n[1];80&n[2]?Wi(t,n,t.template,n[8]):n[5]>0&&mo(n)}}function mo(t){for(let n=ti(t);null!==n;n=ei(n))for(let t=Kt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Wi(t,e,t.template,e[8])}else e[5]>0&&mo(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Ee(e[n],t);Ie(r)&&r[5]>0&&mo(r)}}function vo(t,e){const n=Ee(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),$i(r,n,n[8])}function yo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function _o(t){for(;t;){t[2]|=64;const e=Kr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function bo(t,e,n){const r=e[10];r.begin&&r.begin();try{Wi(t,e,t.template,n)}catch(i){throw Oo(e,i),i}finally{r.end&&r.end()}}function Eo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=we(n),i=r[1];Yi(i,r,i.template,n)}}(t[8])}function wo(t,e,n){He(0),e(t,n)}const To=(()=>Promise.resolve(null))();function Io(t){return t[7]||(t[7]=[])}function So(t){return t.cleanup||(t.cleanup=[])}function Oo(t,e){const n=t[9],r=n?n.get(Wr,null):null;r&&r.handleError(e)}function Co(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=e[s],c=t.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Ro(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=nt(i,t):2==o&&(r=nt(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ao=new Bn("INJECTOR",-1);class xo{get(t,e=Jn){if(e===Jn){const e=new Error(`NullInjectorError: No provider for ${et(t)}!`);throw e.name="NullInjectorError",e}return e}}const Po=new Bn("Set Injector scope."),Do={},Mo={},Lo=[];let ko;function No(){return void 0===ko&&(ko=new xo),ko}function Uo(t,e=null,n=null,r){return new Vo(t,n,e||No(),r)}class Vo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&$n(e,n=>this.processProvider(n,t,e)),$n([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ao,jo(void 0,this));const o=this.records.get(Po);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:et(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Jn,n=bt.Default){this.assertNotDestroyed();const r=rr(this);try{if(!(n&bt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Bn)&&ft(t);e=n&&this.injectableDefInScope(n)?jo(Fo(t),Do):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&bt.Self?No():this.parent).get(t,e=n&bt.Optional&&e===Jn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(et(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[tr]&&i.unshift(e[tr]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=et(e);if(Array.isArray(e))i=e.map(et).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):et(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Kn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{rr(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(et(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=ot(t)))return!1;let r=gt(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=gt(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{$n(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];$n(r,t=>this.processProvider(t,n,r||Lo))}}this.injectorDefTypes.add(o);const a=se(o)||(()=>new o);this.records.set(o,jo(a,Do));const l=r.providers;if(null!=l&&!s){const e=t;$n(l,t=>this.processProvider(t,e,l))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ho(t=ot(t))?t:ot(t&&t.provide);const i=function(t,e,n){return Bo(t)?jo(void 0,t.useValue):jo(Go(t),Do)}(t);if(Ho(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=jo(void 0,Do,!0),e.factory=()=>sr(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Do&&(e.value=Mo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Fo(t){const e=ft(t),n=null!==e?e.factory:se(t);if(null!==n)return n;if(t instanceof Bn)throw new Error(`Token ${et(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${et(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[mt]||t[yt]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Go(t,e,n){let r;if(Ho(t)){const e=ot(t);return se(e)||Fo(e)}if(Bo(t))r=()=>ot(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...sr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>or(ot(t.useExisting));else{const e=ot(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return se(e)||Fo(e);r=()=>new e(...sr(t.deps))}var i;return r}function jo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Bo(t){return null!==t&&"object"==typeof t&&er in t}function Ho(t){return"function"==typeof t}const qo=function(t,e,n){return function(t,e=null,n=null,r){const i=Uo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let zo=(()=>{class t{static create(t,e){return Array.isArray(t)?qo(t,e,""):qo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Jn,t.NULL=new xo,t.\u0275prov=ht({token:t,providedIn:"any",factory:()=>or(Ao)}),t.__NG_ELEMENT_ID__=-1,t})();function $o(t,e){en(we(t)[1],Me())}function Wo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(oe(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Yo(t.inputs),e.declaredInputs=Yo(t.declaredInputs),e.outputs=Yo(t.outputs);const n=i.hostBindings;n&&Qo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Xo(t,o),s&&Zo(t,s),tt(t.inputs,i.inputs),tt(t.declaredInputs,i.declaredInputs),tt(t.outputs,i.outputs),oe(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Wo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=fn(i.hostAttrs,n=fn(n,i.hostAttrs))}}(r)}function Yo(t){return t===Dt?{}:t===Lt?[]:t}function Xo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Zo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Qo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Jo=null;function Ko(){if(!Jo){const t=Pt.Symbol;if(t&&t.iterator)Jo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Jo=n)}}}return Jo}function ts(t){return!!es(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ko()in t)}function es(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ns(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function rs(t,e,n,r){const i=xe();return ns(i,Fe(),e)&&(Pe(),function(t,e,n,r,i,o){const s=_e(t,e);!function(t,e,n,r,i,o,s){if(null==o)ge(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?lt(o):s(o,r||"",i);ge(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(tn(),i,t,e,n,r)),rs}function is(t,e,n,r){return ns(t,Fe(),n)?e+lt(n)+r:Mi}function os(t,e,n,r,i,o,s,a){const l=xe(),c=Pe(),u=t+Jt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,l){const c=e.consts,u=qi(e,t,4,s||null,Se(c,a));ro(e,n,u,Se(c,l)),en(e,u);const h=u.tViews=Ki(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,o,s):c.data[u];ke(h,!1);const d=l[11].createComment("");fi(c,l,d,h),Yr(d,l),yo(l,l[u]=po(d,l,d,h)),ie(h)&&Zi(c,l,h),null!=s&&Qi(l,h,a)}function ss(t){return function(t,e){return t[e]}(Re.lFrame.contextLView,Jt+t)}function as(t,e=bt.Default){const n=xe();return null===n?or(t,e):Rn(Me(),n,ot(t),e)}function ls(t,e,n){const r=xe();return ns(r,Fe(),e)&&no(Pe(),tn(),r,t,e,r[11],n,!1),ls}function cs(t,e,n,r,i){const o=i?"class":"style";Co(t,n,e.inputs[o],o,r)}function us(t,e,n,r){const i=xe(),o=Pe(),s=Jt+t,a=i[11],l=i[s]=ii(a,e,Re.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,l=qi(e,t,2,i,Se(a,o));return ro(e,n,l,Se(a,s)),null!==l.attrs&&Ro(l,l.attrs,!1),null!==l.mergedAttrs&&Ro(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,0,e,n,r):o.data[s];ke(c,!0);const u=c.mergedAttrs;null!==u&&un(a,l,u);const h=c.classes;null!==h&&Ei(a,l,h);const d=c.styles;null!==d&&bi(a,l,d),64!=(64&c.flags)&&fi(o,i,l,c),0===Re.lFrame.elementDepthCount&&Yr(l,i),Re.lFrame.elementDepthCount++,ie(c)&&(Zi(o,i,c),function(t,e,n){if(ne(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Qi(i,c)}function hs(){let t=Me();Ne()?Re.lFrame.isParent=!1:(t=t.parent,ke(t,!1));const e=t;Re.lFrame.elementDepthCount--;const n=Pe();n.firstCreatePass&&(en(n,t),ne(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&cs(n,e,xe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&cs(n,e,xe(),e.stylesWithoutHost,!1)}function ds(t,e,n,r){us(t,e,n,r),hs()}function fs(){return xe()}function ps(t){return!!t&&"function"==typeof t.then}const gs=function(t){return!!t&&"function"==typeof t.subscribe};function ms(t,e,n=!1,r){const i=xe(),o=Pe(),s=Me();return function(t,e,n,r,i,o,s=!1,a){const l=ie(r),c=t.firstCreatePass&&So(t),u=Io(e);let h=!0;if(3&r.type){const d=_e(r,e),f=a?a(d):Dt,p=f.target||d,g=u.length,m=a?t=>a(ve(t[r.index])).target:r.index;if(ge(n)){let s=null;if(!a&&l&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ys(r,e,0,o,!1);const t=n.listen(f.name||p,i,o);u.push(o,t),c&&c.push(i,m,g,g+1)}}else o=ys(r,e,0,o,!0),p.addEventListener(i,o,s),u.push(o),c&&c.push(i,m,g,s)}else o=ys(r,e,0,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=u.length;u.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),ms}function vs(t,e,n,r){try{return!1!==n(r)}catch(i){return Oo(t,i),!1}}function ys(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Ee(t.index,e):e;0==(32&e[2])&&_o(s);let a=vs(e,0,r,o),l=n.__ngNextListenerFn__;for(;l;)a=vs(e,0,l,o)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function _s(t=1){return function(t){return(Re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Re.lFrame.contextLView))[8]}(t)}function bs(t,e,n){return Es(t,"",e,"",n),bs}function Es(t,e,n,r,i){const o=xe(),s=is(o,e,n,r);return s!==Mi&&no(Pe(),tn(),o,t,s,o[11],i,!1),Es}function ws(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ui(o):Fi(o),l=!1;for(;0!==a&&(!1===l||s);){const n=t[a+1];Ts(t[a],e)&&(l=!0,t[a+1]=r?ji(n):Vi(n)),a=r?Ui(n):Fi(n)}l&&(t[n+1]=r?Vi(o):ji(o))}function Ts(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Qn(t,e)>=0}function Is(t,e){return function(t,e,n,r){const i=xe(),o=Pe(),s=function(t){const e=Re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Je()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Os(n=Ss(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ss(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==Fi(r))return t[Ui(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Ss(null,t,e,n[1],r),n=Os(n,e.attrs,r),function(t,e,n,r){t[Ui(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Os(r,t[o].hostAttrs,true);return Os(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=Ui(s),l=Fi(s);t[r]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Qn(t,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const e=Ui(t[a+1]);t[r+1]=Ni(e,a),0!==e&&(t[e+1]=Gi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ni(a,0),0!==a&&(t[a+1]=Gi(t[a+1],r)),a=r;else t[r+1]=Ni(l,0),0===a?a=r:t[l+1]=Gi(t[l+1],r),l=r;u&&(t[r+1]=Vi(t[r+1])),ws(t,c,r,!0),ws(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&Qn(o,e)>=0&&(n[r+1]=ji(n[r+1]))}(e,c,t,r),s=Ni(a,l),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==Mi&&ns(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const l=t.data,c=l[a+1];Rs(1==(1&c)?Cs(l,e,n,i,Fi(c),s):void 0)||(Rs(o)||function(t){return 2==(2&t)}(c)&&(o=Cs(l,null,n,i,a,s)),function(t,e,n,r,i){const o=ge(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,ye(Je(),n),i,o))}(o,o.data[Je()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=et(mr(t))),t}(e),true,s)}(t,e),Is}function Ss(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Os(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Os(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Xn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Cs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),l=o?e[1]:e,c=null===l;let u=n[i+1];u===Mi&&(u=c?Mt:void 0);let h=c?Zn(u,r):l===r?u:void 0;if(o&&!Rs(h)&&(h=Zn(e,r)),Rs(h)&&(a=h,s))return a;const d=t[i+1];i=s?Ui(d):Fi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Zn(t,r))}return a}function Rs(t){return void 0!==t}function As(t,e=""){const n=xe(),r=Pe(),i=t+Jt,o=r.firstCreatePass?qi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return ge(t)?t.createText(e):t.createTextNode(e)}(n[11],e);fi(r,n,s,o),ke(o,!1)}function xs(t){return Ps("",t,""),xs}function Ps(t,e,n){const r=xe(),i=is(r,t,e,n);return i!==Mi&&function(t,e,n){const r=ye(e,t);!function(t,e,n){ge(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,Je(),i),Ps}const Ds=void 0;var Ms=["en",[["a","p"],["AM","PM"],Ds],[["AM","PM"],Ds,Ds],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ds,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ds,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ds,"{1} 'at' {0}",Ds],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ls={};function ks(t){return t in Ls||(Ls[t]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[t]),Ls[t]}var Ns=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Us="en-US";let Vs=Us;function Fs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Vs=t.toLowerCase().replace(/_/g,"-"))}function Gs(t,e,n,r,i){if(t=ot(t),Array.isArray(t))for(let o=0;o<t.length;o++)Gs(t[o],e,n,r,i);else{const o=Pe(),s=xe();let a=Ho(t)?t:ot(t.provide),l=Go(t);const c=Me(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Ho(t)||!t.multi){const r=new cn(l,i,as),f=Hs(a,e,i?u:u+d,h);-1===f?(Sn(En(c,s),o,a),js(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=Hs(a,e,u+d,h),p=Hs(a,e,u,u+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Sn(En(c,s),o,a);const u=function(t,e,n,r,i){const o=new cn(t,n,as);return o.multi=[],o.index=e,o.componentProviders=0,Bs(o,i,r&&!n),o}(i?zs:qs,n.length,i,r,l);!i&&m&&(n[p].providerFactory=u),js(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(u),s.push(u)}else js(o,t,f>-1?f:p,Bs(n[i?p:f],l,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function js(t,e,n,r){const i=Ho(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Bs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Hs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function qs(t,e,n,r){return $s(this.multi,[])}function zs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Mn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),$s(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],$s(i,o);return o}function $s(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ws(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Pe();if(r.firstCreatePass){const i=oe(t);Gs(n,r.data,r.blueprint,i,!0),Gs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ys{}class Xs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${et(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Zs=(()=>{class t{}return t.NULL=new Xs,t})();function Qs(...t){}function Js(t,e){return new ta(_e(t,e))}const Ks=function(){return Js(Me(),xe())};let ta=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ks,t})();function ea(t){return t instanceof ta?t.nativeElement:t}class na{}let ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ia(),t})();const ia=function(){const t=xe(),e=Ee(Me().index,t);return function(t){return t[11]}(te(e)?e:t)};let oa=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>null}),t})();class sa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const aa=new sa("11.2.12");class la{constructor(){}supports(t){return ts(t)}create(t){return new ua(t)}}const ca=(t,e)=>e;class ua{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ca}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<pa(n,r,i)?e:n,s=pa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ts(t))throw new Error(`Error trying to diff '${et(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ko()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ha(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ha{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class da{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class fa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new da,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ga{constructor(){}supports(t){return t instanceof Map||es(t)}create(){return new ma}}class ma{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||es(t)))throw new Error(`Error trying to diff '${et(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new va(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class va{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ya(){return new _a([new la])}let _a=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ya()),deps:[[t,new ur,new cr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:ya}),t})();function ba(){return new Ea([new ga])}let Ea=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ba()),deps:[[t,new ur,new cr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:ba}),t})();function wa(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(ve(o)),ee(o))for(let t=Kt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&wa(e[1],e,n,r)}const s=n.type;if(8&s)wa(t,e,n.child,r);else if(32&s){const t=Jr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=gi(e,n);if(Array.isArray(t))r.push(...t);else{const n=Kr(e[16]);wa(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ta{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return wa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ee(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(si(t,n),Yn(e,n))}this._attachedToViewContainer=!1}ai(this._lView[1],this._lView)}onDestroy(t){to(this._lView[1],this._lView,null,t)}markForCheck(){_o(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ve(!0);try{bo(t,e,n)}finally{Ve(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,yi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ia extends Ta{constructor(t){super(t),this._view=t}detectChanges(){Eo(this._view)}checkNoChanges(){!function(t){Ve(!0);try{Eo(t)}finally{Ve(!1)}}(this._view)}get context(){return null}}const Sa=function(t=!1){return function(t,e,n){if(!n&&re(t)){const n=Ee(t.index,e);return new Ta(n,n)}return 47&t.type?new Ta(e[16],e):null}(Me(),xe(),t)};let Oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sa,t.__ChangeDetectorRef__=!0,t})();const Ca=[new ga],Ra=new _a([new la]),Aa=new Ea(Ca),xa=function(){return La(Me(),xe())};let Pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=xa,t})();const Da=Pa,Ma=class extends Da{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Hi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),$i(e,n,t),new Ta(n)}};function La(t,e){return 4&t.type?new Ma(e,t,Js(t,e)):null}class ka{}class Na{}const Ua=function(){return Ha(Me(),xe())};let Va=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ua,t})();const Fa=Va,Ga=class extends Fa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Js(this._hostTNode,this._hostLView)}get injector(){return new Nn(this._hostTNode,this._hostLView)}get parentInjector(){const t=In(this._hostTNode,this._hostLView);if(gn(t)){const e=vn(t,this._hostLView),n=mn(t);return new Nn(e[1].data[n+8],e)}return new Nn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ja(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ka,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ee(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ga(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Kt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Kt?(e[4]=n[i],Wn(n,Kt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=mi(i,o),a=n[11],l=di(a,o[7]);return null!==l&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,yi(t,r,n,1,i,o)}(r,o[6],a,n,l,s),t.attachToViewContainerRef(),Wn(Ba(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ja(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=si(this._lContainer,e);n&&(Yn(Ba(this._lContainer),e),ai(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=si(this._lContainer,e);return n&&null!=Yn(Ba(this._lContainer),e)?new Ta(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ja(t){return t[8]}function Ba(t){return t[8]||(t[8]=[])}function Ha(t,e){let n;const r=e[t.index];if(ee(r))n=r;else{let i;if(8&t.type)i=ve(r);else{const n=e[11];i=n.createComment("");const r=_e(t,e);ci(n,di(n,r),i,function(t,e){return ge(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=po(r,e,i,t),yo(e,n)}return new Ga(n,t,e)}const qa={};class za extends Zs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Zt(t);return new Ya(e,this.ngModule)}}function $a(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Wa=new Bn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Xr});class Ya extends Ys{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Di).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return $a(this.componentDef.inputs)}get outputs(){return $a(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,qa,i);return o!==qa||r===qa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(na,me),s=i.get(oa,null),a=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(ge(t))return t.selectRootElement(e,n===Ot.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):ii(o.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Xr,clean:To,playerHandler:null,flags:0},d=Ki(0,null,null,1,0,null,null,null,null,null),f=Hi(null,d,h,u,null,null,o,a,s,i);let p,g;$e(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=qi(s,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(Ro(a,l,!0),null!==t&&(un(i,t,l),null!==a.classes&&Ei(i,t,a.classes),null!==a.styles&&bi(i,t,a.styles)));const c=r.createRenderer(t,e),u=Hi(n,Ji(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Sn(En(a,n),s,e.type),so(s,a),lo(a,n.length,1)),yo(n,u),n[20]=u}(c,this.componentDef,f,o,a);if(c)if(n)un(a,c,["ng-version",aa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ri(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&un(a,c,t),e&&e.length>0&&Ei(a,c,e.join(" "))}if(g=be(d,Jt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Me();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),co(t,r,e,zi(t,e,1,null),n));const i=Mn(e,t,r.directiveStart,r);Yr(i,e);const o=_e(r,e);return o&&Yr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Me();e.contentQueries(1,s,t.directiveStart)}const a=Me();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ke(a.index),io(n[1],a,0,a.directiveStart,a.directiveEnd,e),oo(e,s)),s}(t,this.componentDef,f,h,[$o]),$i(d,f,null)}finally{Qe()}return new Xa(this.componentType,p,Js(g,f),f,g)}}class Xa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ia(r),this.componentType=t}get injector(){return new Nn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Za=new Map;class Qa extends ka{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new za(this);const n=Qt(t),r=t[Ft]||null;r&&Fs(r),this._bootstrapComponents=Zr(n.bootstrap),this._r3Injector=Uo(t,e,[{provide:ka,useValue:this},{provide:Zs,useValue:this.componentFactoryResolver}],et(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=zo.THROW_IF_NOT_FOUND,n=bt.Default){return t===zo||t===ka||t===Ao?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ja extends Na{constructor(t){super(),this.moduleType=t,null!==Qt(t)&&function(t){const e=new Set;!function t(n){const r=Qt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${et(e)} vs ${et(e.name)}`)}(i,Za.get(i),n),Za.set(i,n));const o=Zr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Qa(this.moduleType,t)}}function Ka(t){return e=>{setTimeout(t,void 0,e)}}const tl=class extends T{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,i,o;let s=t,a=e||(()=>null),l=n;if(t&&"object"==typeof t){const e=t;s=null===(r=e.next)||void 0===r?void 0:r.bind(e),a=null===(i=e.error)||void 0===i?void 0:i.bind(e),l=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(a=Ka(a),s&&(s=Ka(s)),l&&(l=Ka(l)));const c=super.subscribe({next:s,error:a,complete:l});return t instanceof h&&t.add(c),c}};function el(){return this._results[Ko()]()}class nl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ko(),n=nl.prototype;n[e]||(n[e]=el)}get changes(){return this._changes||(this._changes=new tl)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=zn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class rl{constructor(t){this.queryList=t,this.matches=null}clone(){return new rl(this.queryList)}setDirty(){this.queryList.setDirty()}}class il{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new il(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==gl(t,e).matches&&this.queries[e].setDirty()}}class ol{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class sl{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new sl(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class al{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new al(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,ll(e,i)),this.matchTNodeWithReadOption(t,e,Dn(e,t,i,!1,!1))}else n===Pa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Dn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ta||r===Va||r===Pa&&4&e.type)this.addMatch(e.index,-2);else{const n=Dn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function ll(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function cl(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Js(t,e):4&t.type?La(t,e):null}(e,t):-2===n?function(t,e,n){return n===ta?Js(e,t):n===Pa?La(e,t):n===Va?Ha(e,t):void 0}(t,e,r):Mn(t,t[1],n,e)}function ul(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:cl(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function hl(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=ul(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=Kt;t<s.length;t++){const e=s[t];e[17]===e[3]&&hl(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];hl(n[1],n,i,r)}}}}}return r}function dl(t){const e=xe(),n=Pe(),r=Be();He(r+1);const i=gl(n,r);if(t.dirty&&Te(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?hl(n,e,r,[]):ul(n,e,i,r);t.reset(o,ea),t.notifyOnChanges()}return!0}return!1}function fl(t,e,n){const r=Pe();r.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new sl),t.queries.track(new al(e,-1))}(r,new ol(t,e,n)),2==(2&e)&&(r.staticViewQueries=!0)),function(t,e,n){const r=new nl(4==(4&n));to(t,e,r,r.destroy),null===e[19]&&(e[19]=new il),e[19].queries.push(new rl(r))}(r,xe(),e)}function pl(){return t=xe(),e=Be(),t[19].queries[e].queryList;var t,e}function gl(t,e){return t.queries.getByIndex(e)}function ml(t,e){return La(t,e)}const vl=new Bn("Application Initializer");let yl=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Qs,this.reject=Qs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ps(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(or(vl,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const _l=new Bn("AppId"),bl={provide:_l,useFactory:function(){return`${El()}${El()}${El()}`},deps:[]};function El(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wl=new Bn("Platform Initializer"),Tl=new Bn("Platform ID"),Il=new Bn("appBootstrapListener");let Sl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Ol=new Bn("LocaleId"),Cl=new Bn("DefaultCurrencyCode");class Rl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Al=function(t){return new Ja(t)},xl=Al,Pl=function(t){return Promise.resolve(Al(t))},Dl=function(t){const e=Al(t),n=Zr(Qt(t).declarations).reduce((t,e)=>{const n=Zt(e);return n&&t.push(new Ya(n)),t},[]);return new Rl(e,n)},Ml=Dl,Ll=function(t){return Promise.resolve(Dl(t))};let kl=(()=>{class t{constructor(){this.compileModuleSync=xl,this.compileModuleAsync=Pl,this.compileModuleAndAllComponentsSync=Ml,this.compileModuleAndAllComponentsAsync=Ll}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Nl=(()=>Promise.resolve(0))();function Ul(t){"undefined"==typeof Zone?Nl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Vl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tl(!1),this.onMicrotaskEmpty=new tl(!1),this.onStable=new tl(!1),this.onError=new tl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=Pt.requestAnimationFrame,e=Pt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,jl(t),Gl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),jl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Bl(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Hl(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return Bl(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Hl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,jl(t),Gl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Fl,Qs,Qs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Fl={};function Gl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Bl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Hl(t){t._nesting--,Gl(t)}class ql{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tl,this.onMicrotaskEmpty=new tl,this.onStable=new tl,this.onError=new tl}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let zl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vl.assertNotInAngularZone(),Ul(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ul(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(or(Vl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),$l=(()=>{class t{constructor(){this._applications=new Map,Xl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Xl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Wl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Yl,Xl=new Wl,Zl=!0,Ql=!1;const Jl=new Bn("AllowMultipleToken");class Kl{constructor(t,e){this.name=t,this.token=e}}function tc(t,e,n=[]){const r=`Platform: ${e}`,i=new Bn(r);return(e=[])=>{let o=ec();if(!o||o.injector.get(Jl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Po,useValue:"platform"});!function(t){if(Yl&&!Yl.destroyed&&!Yl.injector.get(Jl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Yl=t.get(nc);const e=t.get(wl,null);e&&e.forEach(t=>t())}(zo.create({providers:t,name:r}))}return function(t){const e=ec();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ec(){return Yl&&!Yl.destroyed?Yl:null}let nc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ql:("zone.js"===t?void 0:t)||new Vl({enableLongStackTrace:(Ql=!0,Zl),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Vl,useValue:n}];return n.run(()=>{const e=zo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Wr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{oc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return ps(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(yl);return t.runInitializers(),t.donePromise.then(()=>(Fs(i.injector.get(Ol,Us)||Us),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=rc({},e);return function(t,e,n){const r=new Ja(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ic);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${et(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(or(zo))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function rc(t,e){return Array.isArray(e)?e.reduce(rc,t):Object.assign(Object.assign({},t),e)}let ic=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Vl.assertNotInAngularZone(),Ul(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Vl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return S(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof y?t[0]:H(e)(q(t,n))}(o,s.pipe(t=>{return z()((e=J,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,Z);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ys?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ka),i=n.create(zo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(zl,null),a=s&&i.injector.get($l);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),oc(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;oc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Il,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(or(Vl),or(zo),or(Wr),or(Zs),or(yl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function oc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class sc{}class ac{}const lc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let cc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||lc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>uc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>uc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(or(kl),or(ac,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function uc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const hc=tc(null,"core",[{provide:Tl,useValue:"unknown"},{provide:nc,deps:[zo]},{provide:$l,deps:[]},{provide:Sl,deps:[]}]),dc=[{provide:ic,useClass:ic,deps:[Vl,zo,Wr,Zs,yl]},{provide:Wa,deps:[Vl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:yl,useClass:yl,deps:[[new cr,vl]]},{provide:kl,useClass:kl,deps:[]},bl,{provide:_a,useFactory:function(){return Ra},deps:[]},{provide:Ea,useFactory:function(){return Aa},deps:[]},{provide:Ol,useFactory:function(t){return Fs(t=t||"undefined"!=typeof $localize&&$localize.locale||Us),t},deps:[[new lr(Ol),new cr,new ur]]},{provide:Cl,useValue:"USD"}];let fc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(or(ic))},t.\u0275mod=Wt({type:t}),t.\u0275inj=dt({providers:dc}),t})(),pc=null;function gc(){return pc}const mc=new Bn("DocumentToken");let vc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:yc,token:t,providedIn:"platform"}),t})();function yc(){return or(bc)}const _c=new Bn("Location Initialized");let bc=(()=>{class t extends vc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=gc().getLocation(),this._history=gc().getHistory()}getBaseHrefFromDOM(){return gc().getBaseHref(this._doc)}onPopState(t){gc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){gc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Ec()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Ec()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(or(mc))},t.\u0275prov=ht({factory:wc,token:t,providedIn:"platform"}),t})();function Ec(){return!!window.history.pushState}function wc(){return new bc(or(mc))}function Tc(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Ic(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Sc(t){return t&&"?"!==t[0]?"?"+t:t}let Oc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:Cc,token:t,providedIn:"root"}),t})();function Cc(t){const e=or(mc).location;return new Ac(or(vc),e&&e.origin||"")}const Rc=new Bn("appBaseHref");let Ac=(()=>{class t extends Oc{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Tc(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Sc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Sc(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Sc(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(or(vc),or(Rc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),xc=(()=>{class t extends Oc{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Tc(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Sc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Sc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(or(vc),or(Rc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Pc=(()=>{class t{constructor(t,e){this._subject=new tl,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Ic(Mc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Sc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Mc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(or(Oc),or(vc))},t.normalizeQueryParams=Sc,t.joinWithSlash=Tc,t.stripTrailingSlash=Ic,t.\u0275prov=ht({factory:Dc,token:t,providedIn:"root"}),t})();function Dc(){return new Pc(or(Oc),or(vc))}function Mc(t){return t.replace(/\/index.html$/,"")}var Lc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class kc{}let Nc=(()=>{class t extends kc{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ks(e);if(n)return n;const r=e.split("-")[0];if(n=ks(r),n)return n;if("en"===r)return Ms;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Ns.PluralCase]}(e||this.locale)(t)){case Lc.Zero:return"zero";case Lc.One:return"one";case Lc.Two:return"two";case Lc.Few:return"few";case Lc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(or(Ol))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Uc(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class Vc{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fc=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Vc(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Gc(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Gc(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(as(Va),as(Pa),as(_a))},t.\u0275dir=Xt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Gc{constructor(t,e){this.record=t,this.view=e}}let jc=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Bc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Hc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Hc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(as(Va),as(Pa))},t.\u0275dir=Xt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Bc{constructor(){this.$implicit=null,this.ngIf=null}}function Hc(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${et(e)}'.`)}let qc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=dt({providers:[{provide:kc,useClass:Nc}]}),t})(),zc=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new $c(or(mc),window)}),t})();class $c{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Wc(this.window.history)||Wc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Wc(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Yc extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Yc,pc||(pc=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Zc||(Zc=document.querySelector("base"),Zc)?Zc.getAttribute("href"):null;return null==e?null:(n=e,Xc||(Xc=document.createElement("a")),Xc.setAttribute("href",n),"/"===Xc.pathname.charAt(0)?Xc.pathname:"/"+Xc.pathname);var n}resetBaseElement(){Zc=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Uc(document.cookie,t)}}let Xc,Zc=null;const Qc=new Bn("TRANSITION_ID"),Jc=[{provide:vl,useFactory:function(t,e,n){return()=>{n.get(yl).donePromise.then(()=>{const n=gc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Qc,mc,zo],multi:!0}];class Kc{static init(){var t;t=new Kc,Xl=t}addToWindow(t){Pt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Pt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Pt.getAllAngularRootElements=()=>t.getAllRootElements(),Pt.frameworkStabilizers||(Pt.frameworkStabilizers=[]),Pt.frameworkStabilizers.push(t=>{const e=Pt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?gc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const tu=new Bn("EventManagerPlugins");let eu=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(or(tu),or(Vl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class nu{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=gc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let ru=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),iu=(()=>{class t extends ru{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>gc().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(or(mc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const ou={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},su=/%COMP%/g;function au(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?au(t,i,n):(i=i.replace(su,t),n.push(i))}return n}function lu(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let cu=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new uu(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Ot.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new hu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case Ot.ShadowDom:return new du(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=au(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(or(eu),or(iu),or(_l))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class uu{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ou[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ou[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ou[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Qr.DashCase|Qr.Important)?t.style.setProperty(e,n,r&Qr.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Qr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,lu(n)):this.eventManager.addEventListener(t,e,lu(n))}}class hu extends uu{constructor(t,e,n,r){super(t),this.component=n;const i=au(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(su,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(su,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class du extends uu{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=au(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let fu=(()=>{class t extends nu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(or(mc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const pu=["alt","control","meta","shift"],gu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vu={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yu=(()=>{class t extends nu{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gc().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(pu.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&mu.hasOwnProperty(e)&&(e=mu[e]))}return gu[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),pu.forEach(r=>{r!=n&&(0,vu[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(or(mc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const _u=tc(hc,"browser",[{provide:Tl,useValue:"browser"},{provide:wl,useValue:function(){Yc.makeCurrent(),Kc.init()},multi:!0},{provide:mc,useFactory:function(){return function(t){fe=t}(document),document},deps:[]}]),bu=[[],{provide:Po,useValue:"root"},{provide:Wr,useFactory:function(){return new Wr},deps:[]},{provide:tu,useClass:fu,multi:!0,deps:[mc,Vl,Tl]},{provide:tu,useClass:yu,multi:!0,deps:[mc]},[],{provide:cu,useClass:cu,deps:[eu,iu,_l]},{provide:na,useExisting:cu},{provide:ru,useExisting:iu},{provide:iu,useClass:iu,deps:[mc]},{provide:zl,useClass:zl,deps:[Vl]},{provide:eu,useClass:eu,deps:[tu,Vl]},[]];let Eu=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:_l,useValue:e.appId},{provide:Qc,useExisting:_l},Jc]}}}return t.\u0275fac=function(e){return new(e||t)(or(t,12))},t.\u0275mod=Wt({type:t}),t.\u0275inj=dt({providers:bu,imports:[qc,fc]}),t})();function wu(...t){let e=t[t.length-1];return S(e)?(t.pop(),V(t,e)):q(t)}"undefined"!=typeof window&&window;class Tu extends T{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new b;return this._value}next(t){super.next(this._value=t)}}const Iu={};class Su{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ou(t,this.resultSelector))}}class Ou extends L{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Iu),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(M(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===Iu?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Cu=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Ru(...t){return H(1)(wu(...t))}const Au=new y(t=>t.complete());function xu(t){return t?function(t){return new y(e=>t.schedule(()=>e.complete()))}(t):Au}function Pu(t){return new y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?F(n):xu()).subscribe(e)})}function Du(t,e){return"function"==typeof e?n=>n.pipe(Du((n,r)=>F(t(n,r)).pipe(k((t,i)=>e(n,t,r,i))))):e=>e.lift(new Mu(t))}class Mu{constructor(t){this.project=t}call(t,e){return e.subscribe(new Lu(t,this.project))}}class Lu extends L{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new O(this,e,n),o=this.destination;o.add(i),this.innerSubscription=M(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}const ku=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Nu(t){return e=>0===t?xu():e.lift(new Uu(t))}class Uu{constructor(t){if(this.total=t,this.total<0)throw new ku}call(t,e){return e.subscribe(new Vu(t,this.total))}}class Vu extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Fu(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Gu(t,e,n))}}class Gu{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ju(t,this.accumulator,this.seed,this.hasSeed))}}class ju extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Bu(t,e){return function(n){return n.lift(new Hu(t,e))}}class Hu{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new qu(t,this.predicate,this.thisArg))}}class qu extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function zu(t){return function(e){const n=new $u(t),r=e.lift(n);return n.caught=r}}class $u{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Wu(t,this.selector,this.caught))}}class Wu extends L{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new O(this,void 0,void 0);this.add(r);const i=M(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Yu(t,e){return G(t,e,1)}function Xu(t){return function(e){return 0===t?xu():e.lift(new Zu(t))}}class Zu{constructor(t){if(this.total=t,this.total<0)throw new ku}call(t,e){return e.subscribe(new Qu(t,this.total))}}class Qu extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Ju(t=eh){return e=>e.lift(new Ku(t))}class Ku{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new th(t,this.errorFactory))}}class th extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function eh(){return new Cu}function nh(t=null){return e=>e.lift(new rh(t))}class rh{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ih(t,this.defaultValue))}}class ih extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function oh(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Bu((e,n)=>t(e,n,r)):v,Nu(1),n?nh(e):Ju(()=>new Cu))}function sh(){}function ah(t,e,n){return function(r){return r.lift(new lh(t,e,n))}}class lh{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new ch(t,this.nextOrObserver,this.error,this.complete))}}class ch extends p{constructor(t,e,n,i){super(t),this._tapNext=sh,this._tapError=sh,this._tapComplete=sh,this._tapError=n||sh,this._tapComplete=i||sh,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||sh,this._tapError=e.error||sh,this._tapComplete=e.complete||sh)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class uh{constructor(t){this.callback=t}call(t,e){return e.subscribe(new hh(t,this.callback))}}class hh extends p{constructor(t,e){super(t),this.add(new h(e))}}class dh{constructor(t,e){this.id=t,this.url=e}}class fh extends dh{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ph extends dh{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gh extends dh{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mh extends dh{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vh extends dh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yh extends dh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _h extends dh{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bh extends dh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eh extends dh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wh{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Th{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ih{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sh{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ch{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rh{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ah="primary";class xh{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ph(t){return new xh(t)}function Dh(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Mh(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Lh(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!kh(t[i],e[i]))return!1;return!0}function kh(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Nh(t){return Array.prototype.concat.apply([],t)}function Uh(t){return t.length>0?t[t.length-1]:null}function Vh(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Fh(t){return gs(t)?t:ps(t)?F(Promise.resolve(t)):wu(t)}function Gh(t,e,n){return n?function(t,e){return Lh(t,e)}(t.queryParams,e.queryParams)&&jh(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kh(t[n],e[n]))}(t.queryParams,e.queryParams)&&Bh(t.root,e.root)}function jh(t,e){if(!Wh(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!jh(t.children[n],e.children[n]))return!1}return!0}function Bh(t,e){return Hh(t,e,e.segments)}function Hh(t,e,n){if(t.segments.length>n.length)return!!Wh(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Wh(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Bh(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Wh(t.segments,r)&&!!t.children.primary&&Hh(t.children.primary,e,i)}}class qh{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ph(this.queryParams)),this._queryParamMap}toString(){return Zh.serialize(this)}}class zh{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Vh(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qh(this)}}class $h{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ph(this.parameters)),this._parameterMap}toString(){return id(this)}}function Wh(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Yh{}class Xh{parse(t){const e=new cd(t);return new qh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Jh(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${td(e)}=${td(t)}`).join("&"):`${td(e)}=${td(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Zh=new Xh;function Qh(t){return t.segments.map(t=>id(t)).join("/")}function Jh(t,e){if(!t.hasChildren())return Qh(t);if(e){const e=t.children.primary?Jh(t.children.primary,!1):"",n=[];return Vh(t.children,(t,e)=>{e!==Ah&&n.push(`${e}:${Jh(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Vh(t.children,(t,r)=>{r===Ah&&(n=n.concat(e(t,r)))}),Vh(t.children,(t,r)=>{r!==Ah&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Ah?[Jh(t.children.primary,!1)]:[`${n}:${Jh(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Qh(t)}/${e[0]}`:`${Qh(t)}/(${e.join("//")})`}}function Kh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function td(t){return Kh(t).replace(/%3B/gi,";")}function ed(t){return Kh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nd(t){return decodeURIComponent(t)}function rd(t){return nd(t.replace(/\+/g,"%20"))}function id(t){return`${ed(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ed(t)}=${ed(e[t])}`).join("")}`;var e}const od=/^[^\/()?;=#]+/;function sd(t){const e=t.match(od);return e?e[0]:""}const ad=/^[^=?&#]+/,ld=/^[^?&#]+/;class cd{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zh([],{}):new zh([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new zh(t,e)),n}parseSegment(){const t=sd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new $h(nd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=sd(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=sd(this.remaining);t&&(n=t,this.capture(n))}t[nd(e)]=nd(n)}parseQueryParam(t){const e=function(t){const e=t.match(ad);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ld);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=rd(e),i=rd(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=sd(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ah);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new zh([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ud{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=hd(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=hd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=dd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return dd(t,this._root).map(t=>t.value)}}function hd(t,e){if(t===e.value)return e;for(const n of e.children){const e=hd(t,n);if(e)return e}return null}function dd(t,e){if(t===e.value)return[e];for(const n of e.children){const r=dd(t,n);if(r.length)return r.unshift(e),r}return[]}class fd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function pd(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class gd extends ud{constructor(t,e){super(t),this.snapshot=e,Ed(this,t)}toString(){return this.snapshot.toString()}}function md(t,e){const n=function(t,e){const n=new _d([],{},{},"",{},Ah,e,null,t.root,-1,{});return new bd("",new fd(n,[]))}(t,e),r=new Tu([new $h("",{})]),i=new Tu({}),o=new Tu({}),s=new Tu({}),a=new Tu(""),l=new vd(r,i,s,a,o,Ah,e,n.root);return l.snapshot=n.root,new gd(new fd(l,[]),n)}class vd{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(k(t=>Ph(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(k(t=>Ph(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yd(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class _d{constructor(t,e,n,r,i,o,s,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ph(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ph(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bd extends ud{constructor(t,e){super(e),this.url=t,Ed(this,e)}toString(){return wd(this._root)}}function Ed(t,e){e.value._routerState=t,e.children.forEach(e=>Ed(t,e))}function wd(t){const e=t.children.length>0?` { ${t.children.map(wd).join(", ")} } `:"";return`${t.value}${e}`}function Td(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Lh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Lh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Lh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Lh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Id(t,e){var n,r;return Lh(t.params,e.params)&&Wh(n=t.url,r=e.url)&&n.every((t,e)=>Lh(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Id(t.parent,e.parent))}function Sd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Sd(t,e,r);return Sd(t,e)})}(t,e,n);return new fd(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Od(e,t),t}}const n=new vd(new Tu((r=e.value).url),new Tu(r.params),new Tu(r.queryParams),new Tu(r.fragment),new Tu(r.data),r.outlet,r.component,r),i=e.children.map(e=>Sd(t,e));return new fd(n,i)}var r}function Od(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Od(t.children[n],e.children[n])}function Cd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Rd(t){return"object"==typeof t&&null!=t&&t.outlets}function Ad(t,e,n,r,i){let o={};return r&&Vh(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new qh(n.root===t?e:xd(n.root,t,e),o,i)}function xd(t,e,n){const r={};return Vh(t.children,(t,i)=>{r[i]=t===e?n:xd(t,e,n)}),new zh(t.segments,r)}class Pd{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Cd(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Rd);if(r&&r!==Uh(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dd{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Md(t,e,n){if(t||(t=new zh([],{})),0===t.segments.length&&t.hasChildren())return Ld(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Rd(s))break;const a=`${s}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Vd(a,l,e))return o;r+=2}else{if(!Vd(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new zh(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new zh(t.segments.slice(r.pathIndex),t.children),Ld(e,0,i)}return r.match&&0===i.length?new zh(t.segments,{}):r.match&&!t.hasChildren()?kd(t,e,n):r.match?Ld(t,0,i):kd(t,e,n)}function Ld(t,e,n){if(0===n.length)return new zh(t.segments,{});{const r=function(t){return Rd(t[0])?t[0].outlets:{[Ah]:t}}(n),i={};return Vh(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Md(t.children[r],e,n))}),Vh(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new zh(t.segments,i)}}function kd(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Rd(o)){const t=Nd(o.outlets);return new zh(r,t)}if(0===i&&Cd(n[0])){r.push(new $h(t.segments[e].path,Ud(n[0]))),i++;continue}const s=Rd(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Cd(a)?(r.push(new $h(s,Ud(a))),i+=2):(r.push(new $h(s,{})),i++)}return new zh(r,{})}function Nd(t){const e={};return Vh(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=kd(new zh([],{}),0,t))}),e}function Ud(t){const e={};return Vh(t,(t,n)=>e[n]=`${t}`),e}function Vd(t,e,n){return t==n.path&&Lh(e,n.parameters)}class Fd{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Td(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=pd(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Vh(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=pd(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=pd(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ch(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Sh(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Td(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Gd(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Gd(t){Td(t.value),t.children.forEach(Gd)}class jd{constructor(t,e){this.routes=t,this.module=e}}function Bd(t){return"function"==typeof t}function Hd(t){return t instanceof qh}const qd=Symbol("INITIAL_VALUE");function zd(){return Du(t=>function(...t){let e=null,n=null;return S(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),q(t,n).lift(new Su(e))}(t.map(t=>t.pipe(Nu(1),function(...t){const e=t[t.length-1];return S(e)?(t.pop(),n=>Ru(t,n,e)):e=>Ru(t,e)}(qd)))).pipe(Fu((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==qd)return t;if(r===qd&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Hd(r))return r}return t},t)},qd),Bu(t=>t!==qd),k(t=>Hd(t)?t:!0===t),Nu(1)))}let $d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&ds(0,"router-outlet")},directives:function(){return[jf]},encapsulation:2}),t})();function Wd(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Yd(r,Xd(e,r))}}function Yd(t,e){t.children&&Wd(t.children,e)}function Xd(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Zd(t){const e=t.children&&t.children.map(Zd),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ah&&(n.component=$d),n}function Qd(t){return t.outlet||Ah}function Jd(t,e){const n=t.filter(t=>Qd(t)===e);return n.push(...t.filter(t=>Qd(t)!==e)),n}const Kd={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function tf(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Kd):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Mh)(n,t,e);if(!i)return Object.assign({},Kd);const o={};Vh(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ef(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>nf(t,e,n)&&Qd(n)!==Ah)}(t,n,r)){const i=new zh(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Qd(o)!==Ah){const n=new zh([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Qd(o)]=n}return i}(t,e,r,new zh(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>nf(t,e,n))}(t,n,r)){const o=new zh(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(nf(t,n,a)&&!i[Qd(a)]){const n=new zh([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Qd(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new zh(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function nf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function rf(t,e,n,r){return!!(Qd(t)===r||r!==Ah&&nf(e,n,t))&&("**"===t.path||tf(e,t,n).matched)}function of(t,e,n){return 0===e.length&&!t.children[n]}class sf{constructor(t){this.segmentGroup=t||null}}class af{constructor(t){this.urlTree=t}}function lf(t){return new y(e=>e.error(new sf(t)))}function cf(t){return new y(e=>e.error(new af(t)))}function uf(t){return new y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class hf{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(ka)}apply(){const t=ef(this.urlTree.root,[],[],this.config).segmentGroup,e=new zh(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ah).pipe(k(t=>this.createUrlTree(df(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zu(t=>{if(t instanceof af)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof sf)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ah).pipe(k(e=>this.createUrlTree(df(e),t.queryParams,t.fragment))).pipe(zu(t=>{if(t instanceof sf)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new zh([],{[Ah]:t}):t;return new qh(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(k(t=>new zh([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return F(r).pipe(Yu(r=>{const i=n.children[r],o=Jd(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(k(t=>({segment:t,outlet:r})))}),Fu((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Bu((e,n)=>t(e,n,r)):v,Xu(1),n?nh(e):Ju(()=>new Cu))}())}expandSegment(t,e,n,r,i,o){return F(n).pipe(Yu(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(zu(t=>{if(t instanceof sf)return wu(null);throw t}))),oh(t=>!!t),zu((t,n)=>{if(t instanceof Cu||"EmptyError"===t.name){if(of(e,r,i))return wu(new zh([],{}));throw new sf(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return rf(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):lf(e):lf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?cf(i):this.lineralizeSegments(n,i).pipe(G(n=>{const i=new zh(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:c}=tf(e,r,i);if(!s)return lf(e);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?cf(u):this.lineralizeSegments(r,u).pipe(G(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?wu(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(k(t=>(n._loadedConfig=t,new zh(r,{})))):wu(new zh(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=tf(e,n,r);if(!o)return lf(e);const l=r.slice(a);return this.getChildConfig(t,n,r).pipe(G(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=ef(e,s,l,o),u=new zh(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(r,o,u).pipe(k(t=>new zh(s,t)));if(0===o.length&&0===c.length)return wu(new zh(s,{}));const h=Qd(n)===i;return this.expandSegment(r,u,o,c,h?Ah:i,!0).pipe(k(t=>new zh(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?wu(new jd(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?wu(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(G(n=>n?this.configLoader.load(t.injector,e).pipe(k(t=>(e._loadedConfig=t,t))):function(t){return new y(e=>e.error(Dh(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):wu(new jd([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?wu(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Bd(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Bd(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Fh(o)})).pipe(zd(),ah(t=>{if(!Hd(t))return;const e=Dh(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),k(t=>!0===t)):wu(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return wu(n);if(r.numberOfChildren>1||!r.children.primary)return uf(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new qh(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Vh(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Vh(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new zh(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function df(t){const e={};for(const n of Object.keys(t.children)){const r=df(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new zh(t.segments.concat(e.segments),e.children)}return t}(new zh(t.segments,e))}class ff{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class pf{constructor(t,e){this.component=t,this.route=e}}function gf(t,e,n){const r=t._root;return vf(r,e?e._root:null,n,[r.value])}function mf(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function vf(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=pd(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Wh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Wh(t.url,e.url)||!Lh(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Id(t,e)||!Lh(t.queryParams,e.queryParams);case"paramsChange":default:return!Id(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new ff(r)):(o.data=s.data,o._resolvedData=s._resolvedData),vf(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new pf(a.outlet.component,s))}else s&&yf(e,a,i),i.canActivateChecks.push(new ff(r)),vf(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Vh(o,(t,e)=>yf(t,n.getContext(e),i)),i}function yf(t,e,n){const r=pd(t),i=t.value;Vh(r,(t,r)=>{yf(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new pf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class _f{}function bf(t){return new y(e=>e.error(t))}class Ef{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=ef(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ah);if(null===e)return null;const n=new _d([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ah,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new fd(n,e),i=new bd(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=yd(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Jd(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Tf(n);return r.sort((t,e)=>t.value.outlet===Ah?-1:e.value.outlet===Ah?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return of(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!rf(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Uh(n).parameters:{};i=new _d(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Of(t),Qd(t),t.component,t,If(e),Sf(e)+n.length,Cf(t))}else{const r=tf(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new _d(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Of(t),Qd(t),t.component,t,If(e),Sf(e)+o.length,Cf(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=ef(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new fd(i,t)]}if(0===a.length&&0===c.length)return[new fd(i,[])];const u=Qd(t)===r,h=this.processSegment(a,l,c,u?Ah:r);return null===h?null:[new fd(i,h)]}}function wf(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Tf(t){const e=[],n=new Set;for(const r of t){if(!wf(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Tf(r.children);e.push(new fd(r.value,t))}return e.filter(t=>!n.has(t))}function If(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Sf(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Of(t){return t.data||{}}function Cf(t){return t.resolve||{}}function Rf(t){return Du(e=>{const n=t(e);return n?F(n).pipe(k(()=>e)):wu(e)})}class Af extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const xf=new Bn("ROUTES");class Pf{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(k(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new jd(Nh(r.injector.get(xf,void 0,bt.Self|bt.Optional)).map(Zd),r)}),zu(t=>{throw e._loader$=void 0,t}));return e._loader$=new X(n,()=>new T).pipe(z()),e._loader$}loadModuleFactory(t){return"string"==typeof t?F(this.loader.load(t)):Fh(t()).pipe(G(t=>t instanceof Na?wu(t):F(this.compiler.compileModuleAsync(t))))}}class Df{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Mf,this.attachRef=null}}class Mf{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Df,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Lf{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function kf(t){throw t}function Nf(t,e,n){return e.parse("/")}function Uf(t,e){return wu(null)}let Vf=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new T,this.errorHandler=kf,this.malformedUriErrorHandler=Nf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Uf,afterPreactivation:Uf},this.urlHandlingStrategy=new Lf,this.routeReuseStrategy=new Af,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(ka),this.console=i.get(Sl);const l=i.get(Vl);this.isNgZoneEnabled=l instanceof Vl&&Vl.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new qh(new zh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Pf(o,s,t=>this.triggerEvent(new wh(t)),t=>this.triggerEvent(new Th(t))),this.routerState=md(this.currentUrlTree,this.rootComponentType),this.transitions=new Tu({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Bu(t=>0!==t.id),k(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Du(t=>{let n=!1,r=!1;return wu(t).pipe(ah(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Du(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return wu(t).pipe(Du(t=>{const n=this.transitions.getValue();return e.next(new fh(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Au:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Du(t=>function(t,e,n,r,i){return new hf(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(k(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),ah(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return G(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Ef(t,e,n,r,i,o).recognize();return null===s?bf(new _f):wu(s)}catch(s){return bf(s)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(k(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),ah(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new vh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new fh(n,this.serializeUrl(r),i,o);e.next(a);const l=md(r,this.rootComponentType).snapshot;return wu(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Au}),Rf(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),ah(t=>{const e=new yh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),k(t=>Object.assign(Object.assign({},t),{guards:gf(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return G(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?wu(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return F(t).pipe(G(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?wu(o.map(o=>{const s=mf(o,e,i);let a;if(function(t){return t&&Bd(t.canDeactivate)}(s))a=Fh(s.canDeactivate(t,e,n,r));else{if(!Bd(s))throw new Error("Invalid CanDeactivate guard");a=Fh(s(t,e,n,r))}return a.pipe(oh())})).pipe(zd()):wu(!0)}(t.component,t.route,n,e,r)),oh(t=>!0!==t,!0))}(s,r,i,t).pipe(G(n=>n&&"boolean"==typeof n?function(t,e,n,r){return F(e).pipe(Yu(e=>Ru(function(t,e){return null!==t&&e&&e(new Ih(t)),wu(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Oh(t)),wu(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Pu(()=>wu(e.guards.map(i=>{const o=mf(i,e.node,n);let s;if(function(t){return t&&Bd(t.canActivateChild)}(o))s=Fh(o.canActivateChild(r,t));else{if(!Bd(o))throw new Error("Invalid CanActivateChild guard");s=Fh(o(r,t))}return s.pipe(oh())})).pipe(zd())));return wu(i).pipe(zd())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?wu(r.map(r=>Pu(()=>{const i=mf(r,e,n);let o;if(function(t){return t&&Bd(t.canActivate)}(i))o=Fh(i.canActivate(e,t));else{if(!Bd(i))throw new Error("Invalid CanActivate guard");o=Fh(i(e,t))}return o.pipe(oh())}))).pipe(zd()):wu(!0)}(t,e.route,n))),oh(t=>!0!==t,!0))}(r,o,t,e):wu(n)),k(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),ah(t=>{if(Hd(t.guardsResult)){const e=Dh(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new _h(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Bu(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new gh(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Rf(t=>{if(t.guards.canActivateChecks.length)return wu(t).pipe(ah(t=>{const e=new bh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Du(t=>{let n=!1;return wu(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,G(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return wu(t);let o=0;return F(n).pipe(Yu(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return wu({});const o={};return F(i).pipe(G(i=>function(t,e,n,r){const i=mf(t,e,r);return Fh(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(ah(t=>{o[i]=t}))),Xu(1),G(()=>Object.keys(o).length===i.length?wu(o):Au))}(t._resolve,t,e,r).pipe(k(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),yd(t,n).resolve),null)))}(t.route,e,r,i)),ah(()=>o++),Xu(1),G(e=>o===n.length?wu(t):Au))})),ah({next:()=>n=!0,complete:()=>{if(!n){const n=new gh(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),ah(t=>{const e=new Eh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Rf(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),k(t=>{const e=function(t,e,n){const r=Sd(t,e._root,n?n._root:void 0);return new gd(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),ah(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),k(t=>(new Fd(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),ah({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new gh(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new uh(i))),zu(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Hd(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new gh(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new mh(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return Au}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Wd(t),this.config=t.map(Zd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,l=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Ad(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Pd(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Vh(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Pd(n,e,r)}(n);if(o.toRoot())return Ad(e.root,new zh([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Dd(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Dd(t,t===e.root,0)}const r=Cd(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Dd(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Ld(s.segmentGroup,s.index,o.commands):Md(s.segmentGroup,s.index,o.commands);return Ad(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,l)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Hd(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Hd(t))return Gh(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Gh(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ph(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let l,c,u;i?(l=i.resolve,c=i.reject,u=i.promise):u=new Promise((t,e)=>{l=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(or(qn),or(Yh),or(Mf),or(Pc),or(zo),or(sc),or(kl),or(void 0))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Ff=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new T,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Gf(this.skipLocationChange),replaceUrl:Gf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Gf(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(as(Vf),as(vd),Fn("tabindex"),as(ra),as(ta))},t.\u0275dir=Xt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&ms("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[le]}),t})();function Gf(t){return""===t||!!t}let jf=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new tl,this.deactivateEvents=new tl,this.name=r||Ah,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Bf(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(as(Mf),as(Va),as(Zs),Fn("name"),as(Oa))},t.\u0275dir=Xt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Bf{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===vd?this.route:t===Mf?this.childContexts:this.parent.get(t,e)}}class Hf{}class qf{preload(t,e){return wu(null)}}let zf=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Pf(e,n,e=>t.triggerEvent(new wh(e)),e=>t.triggerEvent(new Th(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Bu(t=>t instanceof ph),Yu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ka);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return F(n).pipe(H(),k(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?wu(e._loadedConfig):this.loader.load(t.injector,e)).pipe(G(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(or(Vf),or(sc),or(kl),or(zo),or(Hf))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),$f=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ph&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Rh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Rh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(or(Vf),or(zc),or(void 0))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Wf=new Bn("ROUTER_CONFIGURATION"),Yf=new Bn("ROUTER_FORROOT_GUARD"),Xf=[Pc,{provide:Yh,useClass:Xh},{provide:Vf,useFactory:function(t,e,n,r,i,o,s,a={},l,c){const u=new Vf(null,t,e,n,r,i,o,Nh(s));if(l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,u),a.enableTracing){const t=gc();u.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u},deps:[Yh,Mf,Pc,zo,sc,kl,xf,Wf,[class{},new cr],[class{},new cr]]},Mf,{provide:vd,useFactory:function(t){return t.routerState.root},deps:[Vf]},{provide:sc,useClass:cc},zf,qf,class{preload(t,e){return e().pipe(zu(()=>wu(null)))}},{provide:Wf,useValue:{enableTracing:!1}}];function Zf(){return new Kl("Router",Vf)}let Qf=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Xf,ep(e),{provide:Yf,useFactory:tp,deps:[[Vf,new cr,new ur]]},{provide:Wf,useValue:n||{}},{provide:Oc,useFactory:Kf,deps:[vc,[new lr(Rc),new cr],Wf]},{provide:$f,useFactory:Jf,deps:[Vf,zc,Wf]},{provide:Hf,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:qf},{provide:Kl,multi:!0,useFactory:Zf},[np,{provide:vl,multi:!0,useFactory:rp,deps:[np]},{provide:op,useFactory:ip,deps:[np]},{provide:Il,multi:!0,useExisting:op}]]}}static forChild(e){return{ngModule:t,providers:[ep(e)]}}}return t.\u0275fac=function(e){return new(e||t)(or(Yf,8),or(Vf,8))},t.\u0275mod=Wt({type:t}),t.\u0275inj=dt({}),t})();function Jf(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new $f(t,e,n)}function Kf(t,e,n={}){return n.useHash?new xc(t,e):new Ac(t,e)}function tp(t){return"guarded"}function ep(t){return[{provide:Hn,multi:!0,useValue:t},{provide:xf,multi:!0,useValue:t}]}let np=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new T}appInitializer(){return this.injector.get(_c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Vf),r=this.injector.get(Wf);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?wu(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Wf),n=this.injector.get(zf),r=this.injector.get($f),i=this.injector.get(Vf),o=this.injector.get(ic);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(or(zo))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function rp(t){return t.appInitializer.bind(t)}function ip(t){return t.bootstrapListener.bind(t)}const op=new Bn("Router Initializer");let sp=(()=>{class t{constructor(){this.title="login-app"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&ds(0,"router-outlet")},directives:[jf],styles:[""]}),t})();class ap{}class lp{}class cp{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof cp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new cp;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof cp?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class up{encodeKey(t){return hp(t)}encodeValue(t){return hp(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function hp(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class dp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new up,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new dp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function fp(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function pp(t){return"undefined"!=typeof Blob&&t instanceof Blob}function gp(t){return"undefined"!=typeof FormData&&t instanceof FormData}class mp{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new cp),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new dp,this.urlWithParams=e}serializeBody(){return null===this.body?null:fp(this.body)||pp(this.body)||gp(this.body)||"string"==typeof this.body?this.body:this.body instanceof dp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gp(this.body)?null:pp(this.body)?this.body.type||null:fp(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof dp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new mp(e,n,i,{params:l,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var vp=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class yp{constructor(t,e=200,n="OK"){this.headers=t.headers||new cp,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class _p extends yp{constructor(t={}){super(t),this.type=vp.ResponseHeader}clone(t={}){return new _p({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class bp extends yp{constructor(t={}){super(t),this.type=vp.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new bp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ep extends yp{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function wp(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Tp=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof mp)r=t;else{let i,o;i=n.headers instanceof cp?n.headers:new cp(n.headers),n.params&&(o=n.params instanceof dp?n.params:new dp({fromObject:n.params})),r=new mp(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=wu(r).pipe(Yu(t=>this.handler.handle(t)));if(t instanceof mp||"events"===n.observe)return i;const o=i.pipe(Bu(t=>t instanceof bp));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(k(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(k(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(k(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(k(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new dp).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,wp(n,e))}post(t,e,n={}){return this.request("POST",t,wp(n,e))}put(t,e,n={}){return this.request("PUT",t,wp(n,e))}}return t.\u0275fac=function(e){return new(e||t)(or(ap))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Ip{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Sp=new Bn("HTTP_INTERCEPTORS");let Op=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Cp=/^\)\]\}',?\n/;class Rp{}let Ap=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),xp=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new cp(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new _p({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(Cp,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=t,c&&(c=!1,l={error:u,text:l})}}c?(e.next(new bp({body:l,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new Ep({error:l,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new Ep({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let l=!1;const c=r=>{l||(e.next(o()),l=!0);let i={type:vp.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},u=t=>{let n={type:vp.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),e.next({type:vp.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(or(Rp))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Pp=new Bn("XSRF_COOKIE_NAME"),Dp=new Bn("XSRF_HEADER_NAME");class Mp{}let Lp=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Uc(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(or(mc),or(Tl),or(Pp))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),kp=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(or(Mp),or(Dp))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Np=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Sp,[]);this.chain=t.reduceRight((t,e)=>new Ip(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(or(lp),or(zo))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Up=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:kp,useClass:Op}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Pp,useValue:e.cookieName}:[],e.headerName?{provide:Dp,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=dt({providers:[kp,{provide:Sp,useExisting:kp,multi:!0},{provide:Mp,useClass:Lp},{provide:Pp,useValue:"XSRF-TOKEN"},{provide:Dp,useValue:"X-XSRF-TOKEN"}]}),t})(),Vp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=dt({providers:[Tp,{provide:ap,useClass:Np},xp,{provide:lp,useExisting:xp},Ap,{provide:Rp,useExisting:Ap}],imports:[[Up.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const Fp={headers:new cp({"Content-Type":"application/json"})};let Gp=(()=>{class t{constructor(t){this.http=t,this.api="users",this.postsSource=new Tu([]),this.currentPosts=this.postsSource.asObservable(),this.postCountSource=new Tu(0),this.postCount=this.postCountSource.asObservable(),this.mentionsSource=new Tu([]),this.mentions=this.mentionsSource.asObservable()}addPost(t){return this.http.put(`${this.api}/profile/${t.username}/post`,t,Fp).pipe(zu(t=>wu(t)))}updateLikes(t){return this.http.put(`${this.api}/profile/${t.profileUsername}/post/opinion`,t,Fp).pipe(zu(t=>wu(t)))}deletePost(t){return this.http.put(`${this.api}/profile/${t.username}/post/remove`,t,Fp).pipe(zu(t=>wu(t)))}loadMorePosts(t,e){return this.http.get(`${this.api}/profile/${t}/loadmoreposts?start=${e}`).pipe(zu(t=>wu(t)))}changePost(t){this.postsSource.next(t)}changePostCount(t){this.postCountSource.next(t)}changeMentions(t){this.mentionsSource.next(t)}}return t.\u0275fac=function(e){return new(e||t)(or(Tp))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jp=(()=>{class t{constructor(t){this.http=t,this.api="users",this.httpOptions={headers:new cp({"Content-Type":"application/json"})},this.activeListSource=new Tu("postList"),this.activeList=this.activeListSource.asObservable(),this.activeTabSource=new Tu("postTab"),this.activeTab=this.activeTabSource.asObservable(),this.recentActivitySource=new Tu([]),this.recentActivity=this.recentActivitySource.asObservable(),this.dumpMessageSource=new Tu(""),this.dumpMessage=this.dumpMessageSource.asObservable(),this.isEditingSource=new Tu(!1),this.isEditing=this.isEditingSource.asObservable(),this.initialFollowingLoadSource=new Tu(!0),this.initialFollowingLoad=this.initialFollowingLoadSource.asObservable(),this.initialFollowerLoadSource=new Tu(!0),this.initialFollowerLoad=this.initialFollowerLoadSource.asObservable(),this.followerListSource=new Tu([]),this.followerList=this.followerListSource.asObservable(),this.followerCountSource=new Tu(0),this.followerCount=this.followerCountSource.asObservable(),this.followingListSource=new Tu([]),this.followingList=this.followingListSource.asObservable(),this.followingCountSource=new Tu(0),this.followingCount=this.followingCountSource.asObservable(),this.isFollowingSource=new Tu(!1),this.isFollowing=this.isFollowingSource.asObservable(),this.followErrorMsgSource=new Tu(""),this.followErrorMsg=this.followErrorMsgSource.asObservable()}resetVisible(t){$(`#${t}`).addClass("visible"),$("#postList").removeClass("visible"),this.changeActiveList("postList")}resetActiveTab(t){$(`#${t}`).removeClass("active-tab"),$("#postTab").addClass("active-tab"),this.changeActiveTab("postTab")}resetEditState(){this.changeIsEditing(!1),$("#initEdit").css("display","inline"),$(".profile-image-control").css("display","inline"),$(".image-container").css("padding-bottom","100px"),$(".pond-image-control").css("display","none"),$(".resolveEdit").css("display","none")}convertBufferToString(t){let e="";return t.forEach(t=>e+=String.fromCharCode(t)),e}updateListImage(t){t.forEach(t=>{t.profileImage=t.profileImage?this.convertBufferToString(t.profileImage.data):"../../../../assets/default_image.jpg"})}assignProfileImage(t,e){for(let n=0;n<e.length;n++)e[n].setAttribute("src",t)}loadMore(t,e,n){return this.http.get(`${this.api}/profile/${t}/loadmore?list=${e}&start=${n}`).pipe(zu(t=>wu(t)))}updateProfileImage(t){return this.http.post(`${this.api}/profile/${t.username}/image`,t,this.httpOptions).pipe(zu(t=>wu(t)))}getRecentActivity(t){return this.http.get(`${this.api}/profile/${t}/recentactivity`).pipe(zu(t=>wu(t)))}changeActiveList(t){this.activeListSource.next(t)}changeActiveTab(t){this.activeTabSource.next(t)}changeDumpMessage(t){this.dumpMessageSource.next(t)}changeFollowerList(t){this.followerListSource.next(t)}changeFollowerCount(t){this.followerCountSource.next(t)}changeFollowingList(t){this.followingListSource.next(t)}changeFollowingCount(t){this.followingCountSource.next(t)}changeIsFollowing(t){this.isFollowingSource.next(t)}changeIsEditing(t){this.isEditingSource.next(t)}changeInitialFollowingLoad(t){this.initialFollowingLoadSource.next(t)}changeInitialFollowerLoad(t){this.initialFollowerLoadSource.next(t)}changeFollowErrorMsg(t){this.followErrorMsgSource.next(t)}changeRecentActivity(t){this.recentActivitySource.next(t)}}return t.\u0275fac=function(e){return new(e||t)(or(Tp))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Bp=new Bn("JWT_OPTIONS");let Hp=(()=>{class t{constructor(t=null){this.tokenGetter=t&&t.tokenGetter||function(){}}urlBase64Decode(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(e)}b64decode(t){let e="";if((t=String(t).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let n,r,i=0,o=0;r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?e+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return e}b64DecodeUnicode(t){return decodeURIComponent(Array.prototype.map.call(this.b64decode(t),t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(t=this.tokenGetter()){if(!t||""===t)return null;const e=t.split(".");if(3!==e.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const n=this.urlBase64Decode(e[1]);if(!n)throw new Error("Cannot decode the token.");return JSON.parse(n)}getTokenExpirationDate(t=this.tokenGetter()){let e;if(e=this.decodeToken(t),!e||!e.hasOwnProperty("exp"))return null;const n=new Date(0);return n.setUTCSeconds(e.exp),n}isTokenExpired(t=this.tokenGetter(),e){if(!t||""===t)return!0;const n=this.getTokenExpirationDate(t);return e=e||0,null!==n&&!(n.valueOf()>(new Date).valueOf()+1e3*e)}getAuthScheme(t,e){return"function"==typeof t?t(e):t}}return t.\u0275fac=function(e){return new(e||t)(or(Bp))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),qp=(()=>{class t{constructor(t,e,n){this.jwtHelper=e,this.document=n,this.standardPorts=["80","443"],this.tokenGetter=t.tokenGetter,this.headerName=t.headerName||"Authorization",this.authScheme=t.authScheme||""===t.authScheme?t.authScheme:"Bearer ",this.allowedDomains=t.allowedDomains||[],this.disallowedRoutes=t.disallowedRoutes||[],this.throwNoTokenError=t.throwNoTokenError||!1,this.skipWhenExpired=t.skipWhenExpired}isAllowedDomain(t){const e=new URL(t.url,this.document.location.origin);if(e.host===this.document.location.host)return!0;const n=`${e.hostname}${e.port&&!this.standardPorts.includes(e.port)?":"+e.port:""}`;return this.allowedDomains.findIndex(t=>"string"==typeof t?t===n:t instanceof RegExp&&t.test(n))>-1}isDisallowedRoute(t){const e=new URL(t.url,this.document.location.origin);return this.disallowedRoutes.findIndex(n=>{if("string"==typeof n){const t=new URL(n,this.document.location.origin);return t.hostname===e.hostname&&t.pathname===e.pathname}return n instanceof RegExp&&n.test(t.url)})>-1}handleInterception(t,e,n){const r=this.jwtHelper.getAuthScheme(this.authScheme,e);let i=!1;if(!t&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");return this.skipWhenExpired&&(i=!t||this.jwtHelper.isTokenExpired(t)),t&&i&&this.skipWhenExpired?e=e.clone():t&&(e=e.clone({setHeaders:{[this.headerName]:`${r}${t}`}})),n.handle(e)}intercept(t,e){if(!this.isAllowedDomain(t)||this.isDisallowedRoute(t))return e.handle(t);const n=this.tokenGetter(t);return n instanceof Promise?F(n).pipe(G(n=>this.handleInterception(n,t,e))):this.handleInterception(n,t,e)}}return t.\u0275fac=function(e){return new(e||t)(or(Bp),or(Hp),or(mc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),zp=(()=>{class t{constructor(t){if(t)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(e){return{ngModule:t,providers:[{provide:Sp,useClass:qp,multi:!0},e.jwtOptionsProvider||{provide:Bp,useValue:e.config},Hp]}}}return t.\u0275fac=function(e){return new(e||t)(or(t,12))},t.\u0275mod=Wt({type:t}),t.\u0275inj=dt({}),t})();const $p={headers:new cp({"Content-Type":"application/json"})};let Wp=(()=>{class t{constructor(t,e,n,r,i){this.postService=t,this.profileService=e,this.router=n,this.http=r,this.jwtHelper=i,this.localUser=JSON.parse(localStorage.getItem("user")),this.emptyUser={id:!1,username:!1},this.api="users",this.userSource=new Tu(this.localUser?this.localUser:this.emptyUser),this.currentUser=this.userSource.asObservable(),this.profileDataSource=new Tu({}),this.profileData=this.profileDataSource.asObservable(),this.lastVisitedSource=new Tu(""),this.lastVisited=this.lastVisitedSource.asObservable(),this.isVisitingSource=new Tu(!0),this.isVisiting=this.isVisitingSource.asObservable()}registerUser(t){return this.http.post(`${this.api}/register`,t,$p).pipe(zu(t=>wu(t)))}authenticateUser(t){return this.http.post(`${this.api}/authenticate`,t,$p).pipe(zu(t=>wu(t)))}getProfile(t,e,n){return this.http.get(`${this.api}/profile/${t}?currentUsername=${e}&currentId=${n}`).pipe(zu(t=>wu(t)))}followUser(t){return this.http.put(`${this.api}/profile/${t.profileUsername}/follow`,t,$p).pipe(zu(t=>wu(t)))}unfollow(t){return this.http.put(`${this.api}/profile/${t.profileUsername}/unfollow`,t,$p).pipe(zu(t=>wu(t)))}storeUserData(t,e){localStorage.setItem("id_token",t),localStorage.setItem("user",JSON.stringify(e)),this.authToken=t,this.changeUser(e)}isExpired(){return this.jwtHelper.isTokenExpired()}changeProfileInfo(t,e,n){this.changeProfileData(e),this.postService.changePost(e.posts),this.postService.changePostCount(e.postCount),this.postService.changeMentions(e.mentions),this.profileService.changeFollowingList(e.following),this.profileService.changeFollowingCount(e.followingCount),this.profileService.changeFollowerList(e.followers),this.profileService.changeFollowerCount(e.followerCount);const r=JSON.parse(localStorage.getItem("user"));this.changeIsVisiting(!r||r.username!==t),e.bannerImage=e.bannerImage?this.profileService.convertBufferToString(e.bannerImage.data):"../assets/default_banner.jpg",e.profileImage=e.profileImage?this.profileService.convertBufferToString(e.profileImage.data):"../assets/default_image.jpg",this.profileService.initialFollowingLoad&&e.following&&e.following.length&&this.profileService.updateListImage(e.following),this.profileService.initialFollowerLoad&&e.followers&&e.followers.length&&this.profileService.updateListImage(e.followers),n&&this.router.navigate([`/profile/${t}`])}visitingProfile(t,e){return!(!t.id||this.isExpired()||t.username===e.username)}logout(t,e,n){n&&this.profileService.resetEditState(),this.profileService.resetActiveTab(t),this.profileService.resetVisible(e),this.profileService.changeRecentActivity([]),this.authToken=null,this.changeUser(null),localStorage.clear()}handleRedirectProfile(t,e,n=!0){const r=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):this.emptyUser;e&&this.profileService.resetEditState(),t!==r.username&&(this.profileService.changeInitialFollowingLoad(!0),this.profileService.changeInitialFollowerLoad(!0)),this.getProfile(t,r.username,r.id).subscribe(e=>{this.changeLastVisited(t),e.success?(t===r.username&&e.user.mentions&&this.profileService.updateListImage(e.user.mentions),this.changeProfileInfo(t,e.user,n),this.profileService.changeIsFollowing(e.follower)):this.redirectDump("/profile-not-found","profile")})}redirectDump(t,e){this.profileService.changeDumpMessage(e),this.router.navigate([t])}followerPayload(t,e){return{followerId:t.id,followerName:t.name,followerUsername:t.username,profileId:e._id,profileName:e.name,profileUsername:e.username}}followError(t,e,n,r){this.profileService.changeFollowErrorMsg(t),$("#followErrorMsg").css("display","inline"),setTimeout(()=>{$("#followErrorMsg").css("display","none"),e&&this.handleRedirectProfile(n,r)},3e3)}onFollow(t,e,n){this.followUser(t).subscribe(r=>{r.success?(e.followerCount++,this.profileService.changeIsFollowing(!0),this.changeProfileData(e)):this.followError(r.msg,!0,t.followerUsername,n)})}onUnfollow(t,e,n){this.unfollow(t).subscribe(r=>{r.success?(e.followerCount--,this.profileService.changeIsFollowing(!1),this.changeProfileData(e)):this.followError(r.msg,!0,t.followerUsername,n)})}changeUser(t){this.userSource.next(t?{id:t.id,username:t.username,name:t.name,email:t.email}:this.emptyUser)}changeProfileData(t){this.profileDataSource.next(t)}changeLastVisited(t){this.lastVisitedSource.next(t)}changeIsVisiting(t){this.isVisitingSource.next(t)}}return t.\u0275fac=function(e){return new(e||t)(or(Gp),or(jp),or(Vf),or(Tp),or(Hp))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Yp(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}l((r=r.apply(t,e||[])).next())})}let Xp=(()=>{class t{constructor(t){this.http=t,this.api="users"}checkUniqueUsername(t){return this.http.get(`${this.api}/unique?username=${t}`).pipe(zu(t=>wu(t)))}validateEmail(t){return/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/.test(t)}validateUsername(t){return/^\w+$/.test(t)}checkUnique(t){return Yp(this,void 0,void 0,function*(){return yield new Promise(e=>{this.checkUniqueUsername(t).subscribe(t=>{t?$("#usernameError").css("visibility","hidden"):$("#usernameError").css("visibility","visible"),e(t)})})})}validateRegister(t){return Yp(this,void 0,void 0,function*(){try{let e=!0;return t.email&&this.validateEmail(t.email)?$("#emailError").css("visibility","hidden"):($("#emailError").css("visibility","visible"),e=!1),t.username&&this.validateUsername(t.username)?e=yield this.checkUnique(t.username):($("#usernameError").css("visibility","visible"),e=!1),t.name?$("#nameError").css("visibility","hidden"):($("#nameError").css("visibility","visible"),e=!1),t.password?$("#passwordError").css("visibility","hidden"):($("#passwordError").css("visibility","visible"),e=!1),e}catch(e){$("#failureMsg").css("display","block")}})}}return t.\u0275fac=function(e){return new(e||t)(or(Tp))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zp(t,e){return new y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const l=F(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Qp=new Bn("NgValueAccessor"),Jp={provide:Qp,useExisting:it(()=>tg),multi:!0},Kp=new Bn("CompositionEventMode");let tg=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=gc()?gc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(as(ra),as(ta),as(Kp,8))},t.\u0275dir=Xt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&ms("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[Ws([Jp])]}),t})();const eg=new Bn("NgValidators"),ng=new Bn("NgAsyncValidators");function rg(t){return null}function ig(t){return null!=t}function og(t){const e=ps(t)?F(t):t;return gs(e),e}function sg(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ag(t,e){return e.map(e=>e(t))}function lg(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function cg(t){return null!=t?function(t){if(!t)return null;const e=t.filter(ig);return 0==e.length?null:function(t){return sg(ag(t,e))}}(lg(t)):null}function ug(t){return null!=t?function(t){if(!t)return null;const e=t.filter(ig);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(l(e))return Zp(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Zp(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Zp(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(k(t=>e(...t)))}return Zp(t,null)}(ag(t,e).map(og)).pipe(k(sg))}}(lg(t)):null}function hg(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let dg=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=cg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ug(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Xt({type:t}),t})(),fg=(()=>{class t extends dg{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return pg(e||t)},t.\u0275dir=Xt({type:t,features:[Wo]}),t})();const pg=Un(fg);class gg extends dg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mg{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let vg=(()=>{class t extends mg{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(as(gg,2))},t.\u0275dir=Xt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Is("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[Wo]}),t})(),yg=(()=>{class t extends mg{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(as(fg,10))},t.\u0275dir=Xt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&Is("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[Wo]}),t})();function _g(t,e){Eg(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&wg(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&wg(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function bg(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Eg(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(hg(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(hg(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();bg(e._rawValidators,n),bg(e._rawAsyncValidators,n)}}function wg(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Tg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ig="VALID",Sg="INVALID",Og="PENDING",Cg="DISABLED";function Rg(t){return(Dg(t)?t.validators:t)||null}function Ag(t){return Array.isArray(t)?cg(t):t||null}function xg(t,e){return(Dg(e)?e.asyncValidators:t)||null}function Pg(t){return Array.isArray(t)?ug(t):t||null}function Dg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Mg{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ag(this._rawValidators),this._composedAsyncValidatorFn=Pg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ig}get invalid(){return this.status===Sg}get pending(){return this.status==Og}get disabled(){return this.status===Cg}get enabled(){return this.status!==Cg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ag(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Pg(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Og,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Cg,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ig,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Ig&&this.status!==Og||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cg:Ig}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Og,this._hasOwnPendingAsyncValidator=!0;const e=og(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof kg?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ng&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new tl,this.statusChanges=new tl}_calculateStatus(){return this._allControlsDisabled()?Cg:this.errors?Sg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Og)?Og:this._anyControlsHaveStatus(Sg)?Sg:Ig}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Dg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Lg extends Mg{constructor(t=null,e,n){super(Rg(e),xg(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Tg(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Tg(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class kg extends Mg{constructor(t,e,n){super(Rg(e),xg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Lg?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ng extends Mg{constructor(t,e,n){super(Rg(e),xg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Lg?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ug={provide:fg,useExisting:it(()=>Fg)},Vg=(()=>Promise.resolve(null))();let Fg=(()=>{class t extends fg{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new tl,this.form=new kg({},cg(t),ug(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Vg.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),_g(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Vg.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Tg(this._directives,t)})}addFormGroup(t){Vg.then(()=>{const e=this._findContainer(t.path),n=new kg({});(function(t,e){Eg(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Vg.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Vg.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(as(eg,10),as(ng,10))},t.\u0275dir=Xt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&ms("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ws([Ug]),Wo]}),t})();const Gg={provide:gg,useExisting:it(()=>Bg)},jg=(()=>Promise.resolve(null))();let Bg=(()=>{class t extends gg{constructor(t,e,n,r){super(),this.control=new Lg,this._registered=!1,this.update=new tl,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===tg?n=t:Object.getPrototypeOf(t.constructor)===class{}?r=t:i=t}),i||r||n||null}(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_g(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){jg.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;jg.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(as(fg,9),as(eg,10),as(ng,10),as(Qp,10))},t.\u0275dir=Xt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ws([Gg]),Wo,le]}),t})(),Hg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Xt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),qg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=dt({}),t})();const zg={provide:eg,useExisting:it(()=>$g),multi:!0};let $g=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(t){return null==(e=t.value)||0===e.length?{required:!0}:null;var e}(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Xt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&rs("required",e.required?"":null)},inputs:{required:"required"},features:[Ws([zg])]}),t})();const Wg={provide:eg,useExisting:it(()=>Yg),multi:!0};let Yg=(()=>{class t{constructor(){this._validator=rg}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){var t;this._validator=(t="number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10),e=>{return null!=(n=e.value)&&"number"==typeof n.length&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null;var n})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Xt({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&rs("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ws([Wg]),le]}),t})(),Xg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=dt({imports:[[qg]]}),t})(),Zg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=dt({imports:[Xg]}),t})(),Qg=(()=>{class t{constructor(t,e,n){this.authService=t,this.validateService=e,this.router=n}ngOnInit(){}ngOnDestroy(){}onRegisterSubmit(t){this.validateService.validateRegister(t.value).then(e=>{e&&this.authService.registerUser(t.value).subscribe(t=>{t.success?($("#successMsg").css("display","block"),setTimeout(()=>{this.router.navigate(["/home"])},2500)):$("#failureMsg").css("display","block")})})}}return t.\u0275fac=function(e){return new(e||t)(as(Wp),as(Xp),as(Vf))},t.\u0275cmp=Ht({type:t,selectors:[["app-create-account"]],decls:42,vars:0,consts:[[1,"container","container-style"],[1,"form-style",3,"ngSubmit"],["createAccountForm","ngForm"],[1,"form-group","col-sm-12"],["for","registerEmail"],["id","emailError",1,"error-msg","create-err-msg"],["type","email","id","registerEmail","name","email","ngModel","",1,"form-control","text-area-style"],["for","registerUsername"],["id","usernameError",1,"error-msg","create-err-msg"],["type","text","id","registerUsername","name","username","ngModel","",1,"form-control","text-area-style"],["for","registerName"],["id","nameError",1,"error-msg","create-err-msg"],["type","text","id","registerName","name","name","ngModel","",1,"form-control","text-area-style"],["for","registerPassword"],["id","passwordError",1,"error-msg","create-err-msg"],["type","password","id","registerPassword","name","password","ngModel","",1,"form-control","text-area-style"],["id","successMsg",1,"submit-msg"],["id","failureMsg",1,"submit-msg"],[1,"btn-container-holder"],[1,"col-sm-12","col-md-8","form-btn-container"],["type","submit",1,"btn","btn-outline-light","btn-style","form-btn-style"],["type","button","routerLink","/home",1,"btn","btn-outline-light","btn-style","form-btn-style"]],template:function(t,e){if(1&t){const t=fs();us(0,"div",0),us(1,"form",1,2),ms("ngSubmit",function(){De(t);const n=ss(2);return e.onRegisterSubmit(n)}),us(3,"h4"),As(4,"Create an Account"),hs(),us(5,"div",3),us(6,"label",4),As(7,"Email:\xa0 "),us(8,"span",5),As(9,"Please enter a vaild email address"),hs(),hs(),ds(10,"input",6),hs(),us(11,"div",3),us(12,"label",7),As(13,"Username:\xa0 "),us(14,"span",8),As(15,"Please enter a unique username"),hs(),hs(),ds(16,"input",9),hs(),us(17,"div",3),us(18,"label",10),As(19,"Name:\xa0 "),us(20,"span",11),As(21,"Please enter a name"),hs(),hs(),ds(22,"input",12),hs(),us(23,"div",3),us(24,"label",13),As(25,"Password:\xa0 "),us(26,"span",14),As(27,"Please enter a password"),hs(),hs(),ds(28,"input",15),hs(),us(29,"div"),us(30,"p",16),As(31,"New user registered!"),hs(),us(32,"p",17),As(33,"Failed to register user."),ds(34,"br"),As(35,"Please try again later."),hs(),hs(),us(36,"div",18),us(37,"div",19),us(38,"button",20),As(39,"Submit"),hs(),us(40,"button",21),As(41,"Cancel"),hs(),hs(),hs(),hs(),hs()}},directives:[Hg,yg,Fg,tg,vg,Bg,Ff],styles:[".container-style[_ngcontent-%COMP%]{background-color:var(--color-background-dark);padding:0;height:auto}@media screen and (min-height:558px){.container-style[_ngcontent-%COMP%]{height:100vh}}@media screen and (min-width:576px){.container-style[_ngcontent-%COMP%]{height:auto;border-radius:20px}}@media screen and (min-width:768px){.container-style[_ngcontent-%COMP%]{max-width:720px}}@media screen and (min-height:800px) and (min-width:576px){.container-style[_ngcontent-%COMP%]{margin-top:12vh}}@media screen and (min-height:1000px) and (min-width:576px){.container-style[_ngcontent-%COMP%]{margin-top:20vh}}.form-style[_ngcontent-%COMP%]{margin:0;padding:7%}@media screen and (min-width:341px){.form-style[_ngcontent-%COMP%]{padding:7% 10%}}#successMsg[_ngcontent-%COMP%]{color:var(--success);background-color:var(--success-background);display:none}#failureMsg[_ngcontent-%COMP%]{color:var(--failure);background-color:var(--failure-background);display:none}@media screen and (min-width:768px){.submit-msg[_ngcontent-%COMP%]{width:250px;margin:0 auto 5px}}.create-err-msg[_ngcontent-%COMP%]{visibility:hidden;display:block}@media screen and (min-width:433px){.create-err-msg[_ngcontent-%COMP%]{display:inline}}"]}),t})();function Jg(t,e){if(1&t){const t=fs();us(0,"form",7,8),ms("ngSubmit",function(){De(t);const e=ss(1);return _s().onLoginSubmit(e)}),us(2,"h4"),As(3,"Login"),hs(),us(4,"div",9),us(5,"label",10),As(6,"Username:"),hs(),ds(7,"input",11),hs(),us(8,"div",9),us(9,"label",12),As(10,"Password:"),hs(),ds(11,"input",13),hs(),us(12,"div",14),us(13,"p",15),As(14,"Username and password do not match"),hs(),hs(),us(15,"div",16),us(16,"div",17),us(17,"button",18),As(18,"Sign In"),hs(),us(19,"button",19),As(20,"New User"),hs(),hs(),hs(),hs()}}let Kg=(()=>{class t{constructor(t,e){this.authService=t,this.profileService=e,this.subscriptions=new h,this.currentUser=this.authService.currentUser}ngOnInit(){this.subscriptions.add(this.authService.currentUser.subscribe(t=>this.currentUser=t)),this.subscriptions.add(this.profileService.isEditing.subscribe(t=>this.isEditing=t));const t=JSON.parse(localStorage.getItem("user"));t&&this.authService.handleRedirectProfile(t.username,this.isEditing)}ngOnDestroy(){this.subscriptions.unsubscribe()}onLoginSubmit(t){this.authService.authenticateUser(t.value).subscribe(e=>{e.success?(this.profileService.updateListImage(e.profile.recentActivity),this.profileService.changeRecentActivity(e.profile.recentActivity),e.profile.mentions&&this.profileService.updateListImage(e.profile.mentions),this.authService.storeUserData(e.token,e.user),this.authService.changeProfileInfo(e.user.username,e.profile,!0)):($("#homeFailureMsgContainer").css("display","inline"),setTimeout(()=>{$("#homeFailureMsgContainer").css("display","none")},3e3),$("#loginPassword").val(""),t.value.password="")})}expiredToken(){return this.authService.isExpired()}}return t.\u0275fac=function(e){return new(e||t)(as(Wp),as(jp))},t.\u0275cmp=Ht({type:t,selectors:[["app-home"]],decls:8,vars:1,consts:[[1,"home-main"],[1,"hero-home-logo"],["src","assets/logo_light_v2.svg",1,"logo"],[1,"logo-title"],[1,"log-in-section"],[1,"container","home-container"],["class","form-style",3,"ngSubmit",4,"ngIf"],[1,"form-style",3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group","col-sm-12"],["for","loginUsername"],["type","text","id","loginUsername","name","username","ngModel","",1,"form-control","text-area-style"],["for","loginPassword"],["type","password","id","loginPassword","name","password","ngModel","",1,"form-control","text-area-style"],["id","homeFailureMsgContainer"],["id","homeFailureMsg",1,"submit-msg"],[1,"btn-container-holder"],[1,"form-btn-container"],["type","submit",1,"btn","btn-outline-light","btn-style","form-btn-style"],["type","button","routerLink","/create-account",1,"btn","btn-outline-light","btn-style","form-btn-style"]],template:function(t,e){1&t&&(us(0,"div",0),us(1,"div",1),ds(2,"img",2),us(3,"h1",3),As(4,"Socials"),hs(),hs(),us(5,"div",4),us(6,"div",5),os(7,Jg,21,0,"form",6),hs(),hs(),hs()),2&t&&(Li(7),ls("ngIf",e.expiredToken()))},directives:[jc,Hg,yg,Fg,tg,vg,Bg,Ff],styles:["#homeFailureMsgContainer[_ngcontent-%COMP%]{display:none}#homeFailureMsg[_ngcontent-%COMP%]{color:var(--failure);background-color:var(--failure-background)}.hero-home-logo[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin:10px 0}.logo[_ngcontent-%COMP%]{width:3rem;margin-right:5px}.logo-title[_ngcontent-%COMP%]{font-size:3rem;margin:0}@media screen and (min-width:992px){.home-main[_ngcontent-%COMP%]{margin:0;display:flex;background-image:url(dim-gunger-5hCCVzElPGI-unsplash.b0a257ea719a6584b02e.jpg);background-size:100vh;background-repeat:no-repeat;background-position:0}.hero-home-logo[_ngcontent-%COMP%]{flex-direction:column;width:50%;margin:0}.logo[_ngcontent-%COMP%]{margin:0;width:25vw;max-width:350px}.logo-title[_ngcontent-%COMP%]{font-size:8rem}}.form-btn-container[_ngcontent-%COMP%]{width:70%}@media screen and (min-width:992px){.log-in-section[_ngcontent-%COMP%]{padding-top:32vh;width:50%;height:100vh;background-color:var(--color-background-darker)}}"]}),t})(),tm=(()=>{class t{constructor(t){this.http=t,this.api="users",this.searchResultsSource=new Tu([]),this.searchResults=this.searchResultsSource.asObservable(),this.searchTermSource=new Tu(""),this.currentSearchTerm=this.searchTermSource.asObservable(),this.endOfResultsSource=new Tu(!1),this.endOfResults=this.endOfResultsSource.asObservable(),this.stepSource=new Tu(25),this.step=this.stepSource.asObservable()}getUsers(t,e){return this.http.get(`${this.api}/search?term=${t}&start=${e}`).pipe(zu(t=>wu(t)))}resetSearch(){this.changeSearchResults([]),this.changeEndOfResults(!1)}clearSearchBar(t,e){$(`#${t}`).val(""),e.value.searchTerm=""}changeSearchResults(t){this.searchResultsSource.next(t)}changeSearchTerm(t){this.searchTermSource.next(t)}changeEndOfResults(t){this.endOfResultsSource.next(t)}}return t.\u0275fac=function(e){return new(e||t)(or(Tp))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function em(t,e){if(1&t){const t=fs();us(0,"div",30),us(1,"button",31),ms("click",function(){return De(t),_s().onGoHome()}),ds(2,"i",32),As(3," Home "),hs(),us(4,"button",31),ms("click",function(){return De(t),_s().onLogout()}),ds(5,"i",33),As(6," Logout "),hs(),hs()}}function nm(t,e){1&t&&(us(0,"button",34),As(1,"Log In"),hs(),us(2,"button",35),As(3,"Create Account"),hs())}let rm=(()=>{class t{constructor(t,e,n,r){this.authService=t,this.searchService=e,this.profileService=n,this.router=r,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.profileService.activeList.subscribe(t=>this.activeList=t)),this.subscriptions.add(this.profileService.activeTab.subscribe(t=>this.activeTab=t)),this.subscriptions.add(this.profileService.isEditing.subscribe(t=>this.isEditing=t)),this.subscriptions.add(this.authService.currentUser.subscribe(t=>this.currentUser=t)),this.subscriptions.add(this.searchService.step.subscribe(t=>this.step=t))}onSubmitSearch(t){const e=t.value.searchTerm.trim();e.length&&(this.searchService.changeSearchTerm(e),this.searchService.resetSearch(),this.searchService.getUsers(e,0).subscribe(t=>{t.success&&t.msg.length?(this.searchService.changeEndOfResults(t.msg.length<this.step),this.profileService.updateListImage(t.msg),this.searchService.changeSearchResults(t.msg)):(this.searchService.changeEndOfResults(!0),this.searchService.changeSearchResults(t.msg))}),"/search"!==this.router.url&&this.router.navigate(["/search"]),this.searchService.clearSearchBar("navSearchInput",t))}onGoHome(){this.authService.handleRedirectProfile(this.currentUser.username,this.isEditing)}onLogout(){this.authService.logout(this.activeTab,this.activeList,this.isEditing),location.reload()}onNavSignIn(t){this.authService.authenticateUser(t.value).subscribe(e=>{e.success?(this.authService.storeUserData(e.token,e.user),location.reload()):($("#navErrorMsg").css("display","inline"),$("#navPassword").val(""),t.value.password="",setTimeout(()=>{$("#navErrorMsg").css("display","none")},3e3))})}}return t.\u0275fac=function(e){return new(e||t)(as(Wp),as(tm),as(jp),as(Vf))},t.\u0275cmp=Ht({type:t,selectors:[["app-navbar"]],decls:41,vars:2,consts:[[1,"container","nav-section"],[1,"row"],[1,"col","main-view"],[1,"main-content-container"],[1,"container","nav-control"],[1,"nav-search-form",3,"ngSubmit"],["navSearchForm","ngForm"],["type","search","id","navSearchInput","placeholder","Search by Username","aria-label","Search","name","searchTerm","ngModel","",1,"form-control","text-area-style"],["type","submit",1,"btn","btn-outline-light","search-btn","btn-style"],[1,"fas","fa-search"],["class","logged-control",4,"ngIf","ngIfElse"],["notLoggedIn",""],["id","navLogIn","tabindex","-1","aria-labelledby","navLogInLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body"],["type","button","data-dismiss","modal","aria-label","Close",1,"close","close-btn"],["aria-hidden","true"],[1,"nav-login-form",3,"ngSubmit"],["navLogInForm","ngForm"],[1,"form-group"],["for","navUsername"],["type","text","id","navUsername","name","username","ngModel","",1,"form-control","text-area-style"],["for","navPassword"],["type","password","id","navPassword","name","password","ngModel","",1,"form-control","text-area-style"],["id","navErrorMsg",1,"error-msg-container"],[1,"error-msg"],[1,"nav-btn-container","col-sm-12","col-md-10"],["type","submit",1,"btn","btn-outline-light","btn-style","nav-btn-style"],["type","button","data-dismiss","modal",1,"btn","btn-outline-light","btn-style","nav-btn-style"],[1,"logged-control"],["type","button",1,"btn","btn-outline-light","btn-style","nav-btn",3,"click"],[1,"fas","fa-home"],[1,"fas","fa-door-open"],["type","button","data-toggle","modal","data-target","#navLogIn",1,"btn","btn-outline-light","btn-style","nav-btn"],["type","button","routerLink","/create-account",1,"btn","btn-outline-light","btn-style","nav-btn"]],template:function(t,e){if(1&t){const t=fs();us(0,"div",0),us(1,"div",1),us(2,"div",2),us(3,"div",3),us(4,"div",4),us(5,"form",5,6),ms("ngSubmit",function(){De(t);const n=ss(6);return e.onSubmitSearch(n)}),ds(7,"input",7),us(8,"button",8),ds(9,"i",9),hs(),hs(),os(10,em,7,0,"div",10),os(11,nm,4,0,"ng-template",null,11,ml),hs(),hs(),hs(),hs(),hs(),us(13,"div",12),us(14,"div",13),us(15,"div",14),us(16,"div",15),us(17,"button",16),us(18,"span",17),As(19,"\xd7"),hs(),hs(),us(20,"form",18,19),ms("ngSubmit",function(){De(t);const n=ss(21);return e.onNavSignIn(n)}),us(22,"div",20),ds(23,"br"),us(24,"label",21),us(25,"h5"),As(26,"Username:"),hs(),hs(),ds(27,"input",22),hs(),us(28,"div",20),us(29,"label",23),us(30,"h5"),As(31,"Password:"),hs(),hs(),ds(32,"input",24),hs(),us(33,"div",25),us(34,"p",26),As(35,"Username and password do not match"),hs(),hs(),us(36,"div",27),us(37,"button",28),As(38,"Sign In"),hs(),us(39,"button",29),As(40,"Cancel"),hs(),hs(),hs(),hs(),hs(),hs(),hs()}if(2&t){const t=ss(12);Li(10),ls("ngIf",!!e.currentUser.username)("ngIfElse",t)}},directives:[Hg,yg,Fg,tg,vg,Bg,jc,Ff],styles:[".nav-section[_ngcontent-%COMP%]{background-color:var(--color-background-darker)}.nav-control[_ngcontent-%COMP%]{padding:10px 0;display:flex;flex-wrap:wrap;justify-content:center}.nav-search-form[_ngcontent-%COMP%]{display:flex;flex:2 1 100%;padding:0 15px;margin-bottom:10px}@media screen and (min-width:531px){.nav-search-form[_ngcontent-%COMP%]{margin-bottom:0;flex-basis:auto}}.nav-btn[_ngcontent-%COMP%]{margin-right:15px}.nav-btn[_ngcontent-%COMP%]:last-of-type{margin-right:0}#navSearchInput[_ngcontent-%COMP%]{border-radius:5px 0 0 5px}@media screen and (min-width:531px){.nav-btn[_ngcontent-%COMP%]:last-of-type{margin-right:15px}}.nav-login-form[_ngcontent-%COMP%]{padding:0 15px 10px}.error-msg-container[_ngcontent-%COMP%]{text-align:center;display:none}.nav-btn-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin:auto}.nav-btn-style[_ngcontent-%COMP%]{width:100%}@media screen and (min-width:410px){.nav-btn-style[_ngcontent-%COMP%]{width:70%}}.nav-btn-style[_ngcontent-%COMP%]:first-of-type{margin-bottom:16px}@media screen and (min-width:531px){.nav-btn-container[_ngcontent-%COMP%]{flex-wrap:nowrap}.nav-btn-style[_ngcontent-%COMP%]:first-of-type{margin:0 5px 0 0}.nav-btn-style[_ngcontent-%COMP%]:last-of-type{margin-left:5px}}"]}),t})(),im=(()=>{class t{constructor(t,e,n){this.searchService=t,this.profileService=e,this.router=n,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.searchService.step.subscribe(t=>this.step=t))}onSubmitSearch(t){const e=t.value.searchTerm.trim();e.length&&(this.searchService.changeSearchTerm(e),this.searchService.resetSearch(),this.searchService.getUsers(e,0).subscribe(e=>{e.success&&e.msg.length?(this.searchService.changeEndOfResults(e.msg.length<this.step),this.profileService.updateListImage(e.msg),this.searchService.changeSearchResults(e.msg),document.documentElement.scrollTop=0):(this.searchService.changeEndOfResults(!0),this.searchService.changeSearchResults(e.msg)),"/search"!==this.router.url&&this.router.navigate(["/search"]),this.searchService.clearSearchBar("sideSearchInput",t)}))}}return t.\u0275fac=function(e){return new(e||t)(as(tm),as(jp),as(Vf))},t.\u0275cmp=Ht({type:t,selectors:[["app-side-content-navigation"]],decls:7,vars:0,consts:[[1,"row"],[1,"col","side-form-content-container"],[1,"side-form",3,"ngSubmit"],["sideSearchForm","ngForm"],["type","search","id","sideSearchInput","placeholder","Search by Username","aria-label","Search","name","searchTerm","ngModel","",1,"form-control","text-area-style"],["type","submit",1,"btn","btn-outline-light","search-btn","btn-style"],[1,"fas","fa-search"]],template:function(t,e){if(1&t){const t=fs();us(0,"div",0),us(1,"div",1),us(2,"form",2,3),ms("ngSubmit",function(){De(t);const n=ss(3);return e.onSubmitSearch(n)}),ds(4,"input",4),us(5,"button",5),ds(6,"i",6),hs(),hs(),hs(),hs()}},directives:[Hg,yg,Fg,tg,vg,Bg],styles:[".side-form-content-container[_ngcontent-%COMP%]{padding:0}.side-form[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:20px}#sideSearchInput[_ngcontent-%COMP%]{border-radius:5px 0 0 5px}"]}),t})(),om=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}onLoginSubmit(t){this.authService.authenticateUser(t.value).subscribe(e=>{e.success?(this.authService.storeUserData(e.token,e.user),location.reload()):($("#sideLoginError").css("display","inline"),$("#sideLoginPassword").val(""),t.value.password="",setTimeout(()=>{$("#sideLoginError").css("display","none")},3e3))})}}return t.\u0275fac=function(e){return new(e||t)(as(Wp))},t.\u0275cmp=Ht({type:t,selectors:[["app-side-visitor-view"]],decls:31,vars:0,consts:[[1,"row"],[1,"container","side-content-segment"],[1,"col"],[1,"side-description"],[1,"btn-container-holder"],["type","button","routerLink","/create-account",1,"btn","btn-outline-light","btn-style","side-btn-style"],[1,"spacer"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group","col-sm-12"],["id","sideLoginError",1,"error-msg"],["for","sideLoginUsername"],["type","text","id","sideLoginUsername","name","username","ngModel","",1,"form-control","text-area-style"],["for","sideLoginPassword"],["type","password","id","sideLoginPassword","name","password","ngModel","",1,"form-control","text-area-style"],["type","submit",1,"btn","btn-outline-light","btn-style","side-btn-style"]],template:function(t,e){if(1&t){const t=fs();us(0,"div",0),us(1,"div",1),us(2,"div",0),us(3,"div",2),us(4,"h4"),As(5,"Are You New Here?"),hs(),us(6,"p",3),As(7,"Get started here and create an account!"),hs(),us(8,"div",4),us(9,"button",5),As(10,"Create Account"),hs(),hs(),us(11,"h4",6),As(12,"Already Have An Account?"),hs(),us(13,"p",3),As(14,"Log in here!"),hs(),us(15,"form",7,8),ms("ngSubmit",function(){De(t);const n=ss(16);return e.onLoginSubmit(n)}),us(17,"div",9),us(18,"p",10),As(19,"Username and password do not match"),ds(20,"br"),hs(),us(21,"label",11),As(22,"Username:"),hs(),ds(23,"input",12),hs(),us(24,"div",9),us(25,"label",13),As(26,"Password:"),hs(),ds(27,"input",14),hs(),us(28,"div",4),us(29,"button",15),As(30,"Log In"),hs(),hs(),hs(),hs(),hs(),hs(),hs()}},directives:[Ff,Hg,yg,Fg,tg,vg,Bg],styles:["#sideLoginError[_ngcontent-%COMP%]{display:none}"]}),t})(),sm=(()=>{class t{constructor(t,e){this.element=t,this.authService=e,this.config={attributes:!1,childList:!0}}ngOnInit(){this.checkForChanges()}ngAfterViewInit(){this.activityMutation.observe(this.element.nativeElement,this.config),this.addClickEvent()}ngOnDestroy(){this.activityMutation&&(this.activityMutation=void 0)}addClickEvent(){const t=document.getElementsByClassName("on-click");t.length&&Array.from(t).forEach(t=>{const e=t.attributes[1].value;t.addEventListener("click",()=>{this.authService.handleRedirectProfile(e,!0)}),t.classList.add("on-click-parse"),t.classList.remove("on-click")})}checkForChanges(){this.activityMutation=new MutationObserver(t=>{t&&t.length&&this.addClickEvent()})}}return t.\u0275fac=function(e){return new(e||t)(as(ta),as(Wp))},t.\u0275dir=Xt({type:t,selectors:[["","appRecentActivityMutation",""]]}),t})();function am(t,e){if(1&t){const t=fs();us(0,"div",10),us(1,"div",11),ms("click",function(){De(t);const n=e.$implicit;return _s(2).onProfileSwitch(n.username)}),us(2,"div",12),ds(3,"img",13),hs(),us(4,"div"),us(5,"h4",14),As(6),hs(),us(7,"p",14),As(8),hs(),hs(),hs(),us(9,"div",15),us(10,"p",16),As(11),hs(),ds(12,"p",17),hs(),hs()}if(2&t){const t=e.$implicit;Li(3),bs("src",t.profileImage,Br),Li(3),xs(t.name),Li(2),Ps("@",t.username,""),Li(3),xs(t.timestamp),Li(1),ls("innerHTML",t.content,jr)}}function lm(t,e){if(1&t&&(us(0,"div",7),us(1,"div",0),us(2,"h4"),As(3,"Recent Activity:"),hs(),hs(),us(4,"div",8),os(5,am,13,5,"div",9),hs(),hs()),2&t){const t=_s();Li(5),ls("ngForOf",t.recentActivity)}}let cm=(()=>{class t{constructor(t,e,n){this.profileService=t,this.authService=e,this.router=n,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.profileService.activeList.subscribe(t=>this.activeList=t)),this.subscriptions.add(this.profileService.activeTab.subscribe(t=>this.activeTab=t)),this.subscriptions.add(this.profileService.isEditing.subscribe(t=>this.isEditing=t)),this.subscriptions.add(this.profileService.recentActivity.subscribe(t=>this.recentActivity=t)),this.recentActivitySetup()}ngAfterViewInit(){this.recentActivityInterval()}ngOnDestroy(){this.subscriptions.unsubscribe(),clearInterval(this.activityInterval)}updateRecentActivity(){this.profileService.getRecentActivity(JSON.parse(localStorage.getItem("user")).username).subscribe(t=>{this.profileService.updateListImage(t.msg),this.profileService.changeRecentActivity(t.msg)})}recentActivitySetup(){!localStorage.getItem("id_token")||this.authService.isExpired()||this.recentActivity.length||this.updateRecentActivity()}recentActivityInterval(){this.activityInterval=setInterval(()=>{localStorage.getItem("id_token")&&!this.authService.isExpired()&&this.updateRecentActivity()},3e5)}onLoadProfile(){const t=JSON.parse(localStorage.getItem("user")).username;this.router.url!==`/profile/${t}`&&(this.profileService.resetActiveTab(this.activeTab),this.profileService.resetVisible(this.activeList),this.authService.handleRedirectProfile(t,this.isEditing))}onLogout(){this.authService.logout(this.activeTab,this.activeList,this.isEditing),location.reload()}onProfileSwitch(t){this.profileService.resetVisible(this.activeList),this.profileService.resetActiveTab(this.activeTab),this.authService.handleRedirectProfile(t,this.isEditing)}}return t.\u0275fac=function(e){return new(e||t)(as(jp),as(Wp),as(Vf))},t.\u0275cmp=Ht({type:t,selectors:[["app-side-profile-section"]],decls:12,vars:1,consts:[[1,"row"],[1,"container","side-content-segment"],[1,"col","side-nav"],["type","button",1,"btn","btn-outline-light","btn-style","side-btn-style",3,"click"],[1,"fas","fa-home"],[1,"fas","fa-door-open"],["class","container recent-activity-container",4,"ngIf"],[1,"container","recent-activity-container"],["appRecentActivityMutation","",1,"row"],["class","recent-activity-post col-sm-12",4,"ngFor","ngForOf"],[1,"recent-activity-post","col-sm-12"],[1,"recent-activity-hero",3,"click"],[1,"recent-activity-img-container"],["alt","Profile Image",1,"profile-image",3,"src"],[1,"recent-activity-user-names"],[1,"container"],[1,"timestamp"],[1,"content","recent-activity-content",3,"innerHTML"]],template:function(t,e){1&t&&(us(0,"div",0),us(1,"div",1),us(2,"div",0),us(3,"div",2),us(4,"button",3),ms("click",function(){return e.onLoadProfile()}),ds(5,"i",4),As(6," Home"),hs(),hs(),us(7,"div",2),us(8,"button",3),ms("click",function(){return e.onLogout()}),ds(9,"i",5),As(10," Logout"),hs(),hs(),hs(),os(11,lm,6,1,"div",6),hs(),hs()),2&t&&(Li(11),ls("ngIf",e.recentActivity.length))},directives:[jc,sm,Fc],styles:[".side-btn-style[_ngcontent-%COMP%]{width:100%}.side-nav[_ngcontent-%COMP%]:first-of-type{padding-right:0}.recent-activity-container[_ngcontent-%COMP%]{margin-top:20px}.recent-activity-post[_ngcontent-%COMP%]{padding:10px 15px;margin-bottom:22px;background-color:var(--color-background-dark);border:1px solid var(--color-background-lighter);border-radius:5px}.recent-activity-post[_ngcontent-%COMP%]:first-of-type{margin-top:7px}.recent-activity-post[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.recent-activity-hero[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px;cursor:pointer}.recent-activity-user-names[_ngcontent-%COMP%]{margin:0}.timestamp[_ngcontent-%COMP%]{margin-bottom:2px;font-size:.8rem}.content[_ngcontent-%COMP%]{margin:0;font-size:.9rem;white-space:pre-wrap}.profile-image[_ngcontent-%COMP%]{height:60px;margin-right:10px;border:2px solid var(--color-background-darker)}"]}),t})();function um(t,e){1&t&&ds(0,"app-side-visitor-view")}function hm(t,e){1&t&&ds(0,"app-side-profile-section")}let dm=(()=>{class t{constructor(t){this.authService=t,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.authService.currentUser.subscribe(t=>this.currentUser=t))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(as(Wp))},t.\u0275cmp=Ht({type:t,selectors:[["app-additional-side-content"]],decls:4,vars:2,consts:[[1,"container","side-content"],[4,"ngIf"]],template:function(t,e){1&t&&(us(0,"div",0),ds(1,"app-side-content-navigation"),os(2,um,1,0,"app-side-visitor-view",1),os(3,hm,1,0,"app-side-profile-section",1),hs()),2&t&&(Li(2),ls("ngIf",!e.currentUser||!e.currentUser.id),Li(1),ls("ngIf",e.currentUser&&e.currentUser.id))},directives:[im,jc,om,cm],styles:[""]}),t})(),fm=(()=>{class t{constructor(t,e){this.postService=t,this.authService=e,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.authService.profileData.subscribe(t=>this.profileData=t))}ngOnDestroy(){this.subscriptions.unsubscribe()}parsePost(t){const e=[],n=t.split(" ").map(t=>{const n=t.match(/@\w+/g);return n&&n.forEach(n=>{e.push(n.substring(1));const r=`<a class="on-click" value="${n.substring(1)}">${n}</a>`;t=t.replace(n,r)}),t});return{taggedUsers:e,post:n.join(" ")}}clearPost(t){$("#content").val(""),t.value.content="",$("#postModal").modal("hide")}onAddPost(t){return Yp(this,void 0,void 0,function*(){const e=t.value.content.trim();if(!e)return void this.clearPost(t);const n=this.parsePost(e),r={userId:this.profileData._id,username:this.profileData.username,name:this.profileData.name,followerCount:this.profileData.followerCount,content:{timestamp:(new Date).toLocaleString(),content:n.post},taggedUsers:n.taggedUsers};this.postService.addPost(r).subscribe(t=>{t.success&&(this.postService.changePost(t.msg.posts),this.postService.changePostCount(t.msg.postCount),this.profileData.postCount++)}),this.clearPost(t)})}}return t.\u0275fac=function(e){return new(e||t)(as(Gp),as(Wp))},t.\u0275cmp=Ht({type:t,selectors:[["app-create-post"]],decls:10,vars:0,consts:[[1,"modal-form",3,"ngSubmit"],["addContentForm","ngForm"],[1,"form-group"],["for","content"],["id","content","rows","6","maxlength","250","name","content","ngModel","","required","",1,"form-control","text-area-style"],[1,"align-right"],["type","submit",1,"btn","btn-dark","btn-style","btn-outline-light"]],template:function(t,e){if(1&t){const t=fs();us(0,"form",0,1),ms("ngSubmit",function(){De(t);const n=ss(1);return e.onAddPost(n)}),us(2,"div",2),us(3,"label",3),us(4,"h5"),As(5,"Add Post:"),hs(),hs(),ds(6,"textarea",4),hs(),us(7,"div",5),us(8,"button",6),As(9,"Submit"),hs(),hs(),hs()}},directives:[Hg,yg,Fg,tg,Yg,vg,Bg,$g],styles:[".align-right[_ngcontent-%COMP%]{text-align:right}@media screen and (min-width:540px){.modal-form[_ngcontent-%COMP%]{padding:5%}}"]}),t})(),pm=(()=>{class t{constructor(t,e,n,r){this.element=t,this.profileService=e,this.authService=n,this.route=r,this.subscriptions=new h,this.config={attributes:!0,childList:!0}}ngOnInit(){this.checkForChanges(),this.subscriptions.add(this.authService.profileData.subscribe(t=>this.profileData=t))}ngAfterViewInit(){this.profileMutation.observe(this.element.nativeElement,this.config),this.addClickEvent()}ngOnDestroy(){this.profileMutation&&(this.profileMutation.disconnect(),this.profileMutation=void 0),this.subscriptions.unsubscribe()}assignProfileImage(){this.profileService.assignProfileImage(this.profileData.profileImage,$(".personal-profile-image"))}addClickEvent(){const t=document.getElementsByClassName("on-click");t.length&&Array.from(t).forEach(t=>{const e=t.attributes[1].value;t.addEventListener("click",()=>{this.authService.handleRedirectProfile(e,!0)}),t.classList.add("on-click-parse"),t.classList.remove("on-click")})}checkForChanges(){this.profileMutation=new MutationObserver(t=>{t&&this.addClickEvent(),t&&this.profileData.profileImage&&this.assignProfileImage()})}}return t.\u0275fac=function(e){return new(e||t)(as(ta),as(jp),as(Wp),as(vd))},t.\u0275dir=Xt({type:t,selectors:[["","appProfileMutation",""]]}),t})(),gm=(()=>{class t{constructor(t,e,n,r){this.element=t,this.postService=e,this.profileService=n,this.route=r,this.subscriptions=new h}ngOnInit(){this.checkListVisibility(),this.subscriptions.add(this.postService.currentPosts.subscribe(t=>this.posts=t)),this.subscriptions.add(this.profileService.activeTab.subscribe(t=>this.activeTab=t)),this.subscriptions.add(this.profileService.followingList.subscribe(t=>this.followingList=t)),this.subscriptions.add(this.profileService.followerList.subscribe(t=>this.followerList=t)),this.subscriptions.add(this.postService.mentions.subscribe(t=>this.mentions=t))}ngAfterViewInit(){this.listObserver.observe(this.element.nativeElement)}ngOnDestroy(){this.listObserver&&(this.listObserver.disconnect(),this.listObserver=void 0),this.subscriptions.unsubscribe()}loadMorePosts(t,e){this.postService.loadMorePosts(t,e).subscribe(t=>{t.success&&this.posts.push(...t.msg)})}loadMore(t,e,n){this.profileService.loadMore(t,e,n).subscribe(t=>{const n="following"===e?this.followingList:"followers"===e?this.followerList:this.mentions;t.success&&(this.profileService.updateListImage(t.msg),n.push(...t.msg))})}checkListVisibility(){this.listObserver=new IntersectionObserver(t=>{if(t[0].intersectionRatio>0){const t=this.route.snapshot.paramMap.get("username");switch(this.activeTab){case"postTab":this.loadMorePosts(t,this.posts.length);break;case"followingTab":this.loadMore(t,"following",this.followingList.length);break;case"followerTab":this.loadMore(t,"followers",this.followerList.length);break;case"mentionsTab":this.loadMore(t,"mentions",this.mentions.length)}}})}}return t.\u0275fac=function(e){return new(e||t)(as(ta),as(Gp),as(jp),as(vd))},t.\u0275dir=Xt({type:t,selectors:[["","appObserverVisibility",""]]}),t})();function mm(t,e){if(1&t){const t=fs();us(0,"button",33),ms("click",function(){De(t);const e=_s().$implicit;return _s(2).markForDeletion(e)}),ds(1,"i",34),hs()}}function vm(t,e){1&t&&ds(0,"i",35)}function ym(t,e){1&t&&ds(0,"i",36)}function _m(t,e){1&t&&ds(0,"i",37)}function bm(t,e){1&t&&ds(0,"i",38)}function Em(t,e){if(1&t){const t=fs();us(0,"div",16),us(1,"div",17),us(2,"div",7),us(3,"div",18),us(4,"div",19),ds(5,"img",20),hs(),us(6,"div"),us(7,"h4",21),As(8),hs(),us(9,"p",21),As(10),hs(),hs(),hs(),hs(),us(11,"p",22),As(12),hs(),ds(13,"p",23),hs(),us(14,"div",6),us(15,"div",24),os(16,mm,2,0,"button",25),us(17,"button",26),ms("click",function(){De(t);const n=e.$implicit;return _s(2).onOpinionVoiced(n,1)}),os(18,vm,1,0,"i",27),os(19,ym,1,0,"ng-template",null,28,ml),hs(),us(21,"p",29),As(22),hs(),us(23,"button",30),ms("click",function(){De(t);const n=e.$implicit;return _s(2).onOpinionVoiced(n,-1)}),os(24,_m,1,0,"i",31),os(25,bm,1,0,"ng-template",null,32,ml),hs(),us(27,"p",29),As(28),hs(),hs(),hs(),hs()}if(2&t){const t=e.$implicit,n=ss(20),r=ss(26),i=_s(2);Li(8),xs(i.profileData.name),Li(2),Ps("@",i.profileData.username,""),Li(2),xs(t.timestamp),Li(1),ls("innerHTML",t.content,jr),Li(3),ls("ngIf",i.currentUser&&i.currentUser.username===i.profileData.username),Li(2),ls("ngIf",t.opinions&&1===t.opinions[i.currentUser.username])("ngIfElse",n),Li(4),xs(t.likes),Li(2),ls("ngIf",t.opinions&&-1===t.opinions[i.currentUser.username])("ngIfElse",r),Li(4),xs(t.dislikes)}}function wm(t,e){1&t&&(us(0,"div",39),ds(1,"div",40),ds(2,"div",40),ds(3,"div",40),hs())}function Tm(t,e){if(1&t&&(us(0,"div",12),os(1,Em,29,11,"div",13),us(2,"div",14),os(3,wm,4,0,"div",15),hs(),hs()),2&t){const t=_s();Li(1),ls("ngForOf",t.posts),Li(2),ls("ngIf",t.profileData.postCount>t.posts.length)}}function Im(t,e){1&t&&(us(0,"div",16),us(1,"div",17),us(2,"h5"),As(3,"No Posts Found"),hs(),hs(),hs())}let Sm=(()=>{class t{constructor(t,e,n){this.postService=t,this.authService=e,this.profileService=n,this.subscriptions=new h,this.toRemove=null}ngOnInit(){this.subscriptions.add(this.authService.profileData.subscribe(t=>this.profileData=t)),this.subscriptions.add(this.authService.currentUser.subscribe(t=>this.currentUser=t)),this.subscriptions.add(this.postService.currentPosts.subscribe(t=>this.posts=t)),this.subscriptions.add(this.profileService.activeTab.subscribe(t=>this.activeTab=t)),this.subscriptions.add(this.profileService.activeList.subscribe(t=>this.activeList=t)),this.subscriptions.add(this.profileService.isEditing.subscribe(t=>this.isEditing=t))}ngAfterViewInit(){this.profileData.profileImage&&this.assignProfileImage()}ngOnDestroy(){this.subscriptions.unsubscribe()}assignProfileImage(){this.profileService.assignProfileImage(this.profileData.profileImage,$(".personal-profile-image"))}onOpinionVoiced(t,e){if(this.authService.visitingProfile(this.currentUser,this.profileData)){const n=this.currentUser.username;let r;r=void 0===t.opinions||void 0===t.opinions[n]?{profileUsername:this.profileData.username,postId:t._id,username:n,opinion:e,toChange:1===e?"likes":"dislikes",changeAmount:1,toChangeOld:1===e?"dislikes":"likes",changeAmountOld:0}:{profileUsername:this.profileData.username,postId:t._id,username:n,opinion:t.opinions[n]===e?0:e,toChange:1===e?"likes":"dislikes",changeAmount:t.opinions[n]===e?-1:1,toChangeOld:1===e?"dislikes":"likes",changeAmountOld:t.opinions[n]===e||0===t.opinions[n]?0:-1},this.postService.updateLikes(r).subscribe(e=>{if(e.success){let n=e.msg.find(e=>e._id===t._id);t.likes=n.likes,t.dislikes=n.dislikes,t.opinions=n.opinions}})}else this.authService.isExpired()&&this.authService.logout(this.activeTab,this.activeList,this.isEditing)}deletePost(){const t={username:JSON.parse(localStorage.getItem("user")).username,id:this.toRemove._id};this.postService.deletePost(t).subscribe(t=>{t.success&&(this.postService.changePost(t.msg.posts),this.postService.changePostCount(t.msg.postCount),this.profileData.postCount--)}),this.clearDeleteRequest()}markForDeletion(t){this.toRemove=t}clearDeleteRequest(){this.toRemove=null,$("#deleteConfirmation").modal("hide")}}return t.\u0275fac=function(e){return new(e||t)(as(Gp),as(Wp),as(jp))},t.\u0275cmp=Ht({type:t,selectors:[["app-display-post"]],decls:17,vars:2,consts:[["appProfileMutation","",4,"ngIf","ngIfElse"],["noContent",""],["id","deleteConfirmation","tabindex","-1","aria-labelledby","deleteConfirmationLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body"],[1,"container"],[1,"row"],[1,"col","modal-center"],[1,"modal-text"],[1,"row","d-flex","justify-content-around"],["type","button",1,"btn","btn-style","btn-outline-light","modal-btn",3,"click"],["appProfileMutation",""],["class","main-content",4,"ngFor","ngForOf"],[1,"end-of-content"],["class","loading","appObserverVisibility","",4,"ngIf"],[1,"main-content"],[1,"container","content-box-main"],[1,"post-hero-details"],[1,"post-image-container"],["src","../../../../assets/default_image.jpg","alt","Profile Image",1,"profile-image","personal-profile-image"],[1,"post-user-names"],[1,"timestamp"],[1,"post-content",3,"innerHTML"],[1,"row","post-controler"],["type","button","class","btn opinion btn-bounce","data-toggle","modal","data-target","#deleteConfirmation",3,"click",4,"ngIf"],["type","button",1,"btn","opinion","btn-bounce",3,"click"],["class","fas fa-arrow-alt-circle-up icon-size primary-font-color",4,"ngIf","ngIfElse"],["likeNotSelected",""],[1,"opinion","opinion-count"],["type","button",1,"btn","opinion","btn-bounce-reverse",3,"click"],["class","fas fa-arrow-alt-circle-down icon-size primary-font-color",4,"ngIf","ngIfElse"],["dislikeNotSelected",""],["type","button","data-toggle","modal","data-target","#deleteConfirmation",1,"btn","opinion","btn-bounce",3,"click"],[1,"far","fa-trash-alt","icon-size","primary-font-color"],[1,"fas","fa-arrow-alt-circle-up","icon-size","primary-font-color"],[1,"far","fa-arrow-alt-circle-up","icon-size","primary-font-color"],[1,"fas","fa-arrow-alt-circle-down","icon-size","primary-font-color"],[1,"far","fa-arrow-alt-circle-down","icon-size","primary-font-color"],["appObserverVisibility","",1,"loading"],[1,"ball"]],template:function(t,e){if(1&t&&(os(0,Tm,4,2,"div",0),os(1,Im,4,0,"ng-template",null,1,ml),us(3,"div",2),us(4,"div",3),us(5,"div",4),us(6,"div",5),us(7,"div",6),us(8,"div",7),us(9,"div",8),us(10,"h4",9),As(11,"Are you sure you want to delete this post?"),hs(),hs(),hs(),us(12,"div",10),us(13,"button",11),ms("click",function(){return e.deletePost()}),As(14,"Yes"),hs(),us(15,"button",11),ms("click",function(){return e.clearDeleteRequest()}),As(16,"No"),hs(),hs(),hs(),hs(),hs(),hs(),hs()),2&t){const t=ss(2);ls("ngIf",!!e.posts&&e.posts.length)("ngIfElse",t)}},directives:[jc,pm,Fc,gm],styles:[".icon-size[_ngcontent-%COMP%]{font-size:1.5em}.opinion[_ngcontent-%COMP%]{display:inline-block}.opinion-count[_ngcontent-%COMP%]{margin:0 .25em}.post-controler[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.modal-center[_ngcontent-%COMP%]{text-align:center}.modal-text[_ngcontent-%COMP%]{margin-bottom:16px}.modal-btn[_ngcontent-%COMP%]{width:30%;color:var(--color-text-light)}"]}),t})();var Om=n("tjlA"),Cm=n("wGJR");const Rm=Object(Cm.supported)(),Am=["id","name","class","multiple","required","disabled","capture","accept"],xm=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],Pm=["oninit","onwarning","onerror","onactivatefile","onaddfilestart","onaddfileprogress","onaddfile","onprocessfilestart","onprocessfileprogress","onprocessfileabort","onprocessfilerevert","onprocessfile","onprocessfiles","onremovefile","onpreparefile","onupdatefiles"];let Dm=(()=>{let t=class{constructor(t,e){this.options={},this.handleEvent=null,this.root=t,this.zone=e,Pm.forEach(t=>{this[t]=new tl})}ngAfterViewInit(){const t=this.root.nativeElement.querySelector("input"),e=this.root.nativeElement.attributes;Am.forEach(n=>{const r=e[n]?e[n].value:this.options[n];r&&t.setAttribute(n,r)}),Rm&&(this.handleEvent=t=>{this[`on${t.type.split(":")[1]}`].emit(Object.assign({},t.detail))},Pm.forEach(t=>{this.root.nativeElement.addEventListener(`FilePond:${t.substr(2)}`,this.handleEvent)}),this.zone.runOutsideAngular(()=>{this.pond=Object(Cm.create)(t,Object.assign(Object.assign({},this.options),{files:this.files}))}),Object.keys(this.pond).filter(t=>-1===xm.indexOf(t)).forEach(t=>{this[t]=this.pond[t]}))}ngOnChanges(t){if(t.firstChange)return;if(!this.pond)return;const e=t.options?t.options.currentValue:this.options;t.files&&JSON.stringify(t.files.previousValue)!==JSON.stringify(t.files.currentValue)&&(e.files=t.files.currentValue),this.pond.setOptions(e)}ngOnDestroy(){this.pond&&(Pm.forEach(t=>{this.root.nativeElement.removeEventListener(`FilePond:${t.substr(2)}`,this.handleEvent)}),this.pond.destroy())}};return t.\u0275fac=function(e){return new(e||t)(as(ta),as(Vl))},t.\u0275cmp=Ht({type:t,selectors:[["file-pond"]],inputs:{options:"options",files:"files"},outputs:{oninit:"oninit",onwarning:"onwarning",onerror:"onerror",onactivatefile:"onactivatefile",onaddfilestart:"onaddfilestart",onaddfileprogress:"onaddfileprogress",onaddfile:"onaddfile",onprocessfilestart:"onprocessfilestart",onprocessfileprogress:"onprocessfileprogress",onprocessfileabort:"onprocessfileabort",onprocessfilerevert:"onprocessfilerevert",onprocessfile:"onprocessfile",onprocessfiles:"onprocessfiles",onremovefile:"onremovefile",onpreparefile:"onpreparefile",onupdatefiles:"onupdatefiles"},features:[le],decls:2,vars:0,consts:[[1,"filepond--wrapper"],["type","file"]],template:function(t,e){1&t&&(us(0,"div",0),ds(1,"input",1),hs())},styles:[""],encapsulation:2}),t})(),Mm=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=dt({imports:[[qc]]}),t})(),Lm=(()=>{class t{constructor(t){this.element=t}ngOnInit(){this.checkVisibility()}ngAfterViewInit(){this.followObserver.observe(this.element.nativeElement)}ngOnDestroy(){this.followObserver&&(this.followObserver.disconnect(),this.followObserver=void 0)}checkVisibility(){this.followObserver=new IntersectionObserver(t=>{0===t[0].intersectionRatio?$("#followBtn").css("display","inline"):t[0].intersectionRatio>0&&$("#followBtn").css("display","none")})}}return t.\u0275fac=function(e){return new(e||t)(as(ta))},t.\u0275dir=Xt({type:t,selectors:[["","appFollowIntersection",""]]}),t})();const km=["pondProfile"],Nm=["pondBanner"];function Um(t,e){if(1&t){const t=fs();us(0,"div",27),us(1,"div",28),ms("click",function(){return De(t),_s().onEdit()}),ds(2,"i",29),us(3,"p",30),As(4,"Edit"),hs(),hs(),us(5,"div",31),ms("click",function(){return De(t),_s().onSave()}),ds(6,"i",32),us(7,"p",30),As(8,"Save"),hs(),hs(),us(9,"div",31),ms("click",function(){return De(t),_s().onCancel()}),ds(10,"i",33),us(11,"p",30),As(12,"Cancel"),hs(),hs(),hs()}}function Vm(t,e){1&t&&ds(0,"i",34)}function Fm(t,e){1&t&&ds(0,"i",35)}let Gm=(()=>{class t{constructor(t,e){this.authService=t,this.profileService=e,this.subscriptions=new h,this.bannerOptions={class:"my-filepond",labelIdle:'Drag & Drop your file or <span class="filepond--label-action"> Browse </span>',imagePreviewWidth:720,imagePreviewHeight:240,imageCropAspectRatio:"6:2",imageResizeTargetWidth:720,imageResizeTargetHeight:240,stylePanelLayout:"compact",styleLoadIndicatorPosition:"center bottom",credits:!1,acceptedFileTypes:["image/jpeg"]},this.profileImageOptions={class:"my-filepond",labelIdle:'Drag & Drop your file or <span class="filepond--label-action"> Browse </span>',imagePreviewWidth:200,imageCropAspectRatio:"1:1",imageResizeTargetWidth:200,stylePanelLayout:"compact circle",styleLoadIndicatorPosition:"center bottom",styleButtonRemoveItemPosition:"center bottom",credits:!1,acceptedFileTypes:["image/jpeg"]}}ngOnInit(){this.subscriptions.add(this.authService.profileData.subscribe(t=>this.profileData=t)),this.subscriptions.add(this.authService.currentUser.subscribe(t=>this.currentUser=t)),this.subscriptions.add(this.profileService.isFollowing.subscribe(t=>this.isFollowing=t)),this.subscriptions.add(this.profileService.isEditing.subscribe(t=>this.isEditing=t)),this.subscriptions.add(this.profileService.followErrorMsg.subscribe(t=>this.followErrorMsg=t))}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribe(),this.authService.changeProfileData(void 0),this.isEditing&&this.profileService.resetEditState()}onEdit(){this.profileService.changeIsEditing(!0),$("#initEdit").css("display","none"),$(".profile-image-control").css("display","none"),$(".image-container").css("padding-bottom","0px"),$(".pond-image-control").css("display","inline"),$(".resolveEdit").css("display","inline")}buildPayload(){let t={id:this.profileData._id,username:this.profileData.username};const e=this.pondProfile.getFile(),n=this.pondBanner.getFile();return!(!e&&!n)&&(e&&(t.profileImage=Om.Buffer.from(e.getFileEncodeDataURL())),n&&(t.bannerImage=Om.Buffer.from(n.getFileEncodeDataURL())),t)}onSave(){const t=this.buildPayload();this.profileService.resetEditState(),t&&this.profileService.updateProfileImage(t).subscribe(e=>{e.success&&(t.profileImage&&this.profileService.assignProfileImage(t.profileImage,$(".personal-profile-image")),t.bannerImage&&this.profileService.assignProfileImage(t.bannerImage,$("#bannerImagePreview")))})}onCancel(){this.profileService.resetEditState()}handleFollowAction(){if(this.authService.visitingProfile(this.currentUser,this.profileData)&&!this.authService.isExpired()){const t=this.authService.followerPayload(this.currentUser,this.profileData);this.isFollowing?this.authService.onUnfollow(t,this.profileData,this.isEditing):this.authService.onFollow(t,this.profileData,this.isEditing)}else localStorage.getItem("id_token")&&this.authService.isExpired()?this.authService.redirectDump("/session-timed-out","session"):localStorage.getItem("id_token")||this.authService.followError("You must be logged in before following.",!1,this.currentUser.username,this.isEditing)}}return t.\u0275fac=function(e){return new(e||t)(as(Wp),as(jp))},t.\u0275cmp=Ht({type:t,selectors:[["app-profile-details"]],viewQuery:function(t,e){if(1&t&&(fl(km,1),fl(Nm,1)),2&t){let t;dl(t=pl())&&(e.pondProfile=t.first),dl(t=pl())&&(e.pondBanner=t.first)}},decls:35,vars:11,consts:[[1,"row"],[1,"col","pond-image-control"],["id","filePondBanner",3,"options"],["pondBanner",""],[1,"container"],[1,"row","profile-details-main"],[1,"col-sm-auto","pond-image-container"],["id","filePondProfileImage",3,"options"],["pondProfile",""],[1,"row","image-container"],[1,"col-sm-12","banner-container"],["id","bannerImagePreview","alt","Banner Image",1,"col","banner","profile-image-control",3,"src"],[1,"profile-image-container"],["id","profileImagePreview","alt","Profile Image",1,"profile-image","personal-profile-image","profile-image-control",3,"src"],[1,"col"],[1,"row","profile-hero-detail"],[1,"profile-names"],[1,"profile-names","profile-hero-element"],["class","profile-hero-element edit-options-container",4,"ngIf"],[1,"row","error-msg-container"],["id","followErrorMsg",1,"error-msg"],[1,"col","follow-container"],[1,"profile-follower-info"],[1,"follower-count"],["type","button","appFollowIntersection","",1,"btn","profile-options-btn","primary-font-color","btn-bounce",3,"click"],["class","fas fa-heart primary-font-color",4,"ngIf","ngIfElse"],["notFollowing",""],[1,"profile-hero-element","edit-options-container"],["id","initEdit",1,"edit-options-control",3,"click"],[1,"fas","fa-edit","edit-options","edit-options-icon"],[1,"edit-options","edit-options-text"],[1,"edit-options-control","resolveEdit",3,"click"],[1,"fas","fa-check-circle","edit-options","edit-options-icon"],[1,"fas","fa-times-circle","edit-options","edit-options-icon"],[1,"fas","fa-heart","primary-font-color"],[1,"far","fa-heart","primary-font-color"]],template:function(t,e){if(1&t&&(us(0,"div",0),us(1,"div",1),ds(2,"file-pond",2,3),us(4,"div",4),us(5,"div",5),us(6,"div",6),ds(7,"file-pond",7,8),hs(),hs(),hs(),hs(),hs(),us(9,"div",9),us(10,"div",10),ds(11,"img",11),hs(),us(12,"div",12),ds(13,"img",13),hs(),hs(),us(14,"div",4),us(15,"div",0),us(16,"div",14),us(17,"div",15),us(18,"h2",16),As(19),hs(),us(20,"h5",17),As(21),hs(),os(22,Um,13,0,"div",18),hs(),hs(),hs(),us(23,"div",19),us(24,"p",20),As(25),hs(),hs(),us(26,"div",0),us(27,"div",21),us(28,"p",22),As(29),hs(),us(30,"div",23),us(31,"button",24),ms("click",function(){return e.handleFollowAction()}),os(32,Vm,1,0,"i",25),hs(),hs(),os(33,Fm,1,0,"ng-template",null,26,ml),hs(),hs(),hs()),2&t){const t=ss(34);Li(2),ls("options",e.bannerOptions),Li(5),ls("options",e.profileImageOptions),Li(4),bs("src",e.profileData.bannerImage,Br),Li(2),bs("src",e.profileData.profileImage,Br),Li(6),xs(e.profileData.name),Li(2),Ps("@",e.profileData.username,""),Li(1),ls("ngIf",e.currentUser.id===e.profileData._id),Li(3),xs(e.followErrorMsg),Li(4),Ps("",e.profileData.followerCount," Followers"),Li(3),ls("ngIf",e.isFollowing)("ngIfElse",t)}},directives:[Dm,jc,Lm],styles:[".pond-image-control[_ngcontent-%COMP%]{display:none;padding:0}.pond-image-container[_ngcontent-%COMP%]{width:200px;padding:0;margin:auto}.image-container[_ngcontent-%COMP%]{align-items:flex-end;padding-bottom:100px;position:relative}.banner[_ngcontent-%COMP%], .banner-container[_ngcontent-%COMP%]{padding:0}.banner[_ngcontent-%COMP%]{width:auto;height:100%;object-fit:cover}.profile-image-container[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 100px)}.profile-image[_ngcontent-%COMP%]{height:200px;border:5px solid var(--color-background-darker);position:relative;top:100px}@media screen and (min-width:576px){.pond-image-container[_ngcontent-%COMP%]{margin:0;left:5%}.profile-image-container[_ngcontent-%COMP%]{left:5%}}.error-msg-container[_ngcontent-%COMP%]{margin:auto;justify-content:center;text-align:center}#followErrorMsg[_ngcontent-%COMP%]{display:none;margin:0;padding-top:10px}@media screen and (min-width:576px){.error-msg-container[_ngcontent-%COMP%]{justify-content:flex-start;text-align:left}}.profile-hero-detail[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;padding:0 15px}.profile-names[_ngcontent-%COMP%]{margin:0}.profile-hero-element[_ngcontent-%COMP%]{padding:0 10px}@media screen and (min-width:576px){.profile-hero-detail[_ngcontent-%COMP%]{justify-content:flex-start}}.edit-options-container[_ngcontent-%COMP%]{padding:0;margin-top:10px}.edit-options-control[_ngcontent-%COMP%]:hover{cursor:pointer}.edit-options[_ngcontent-%COMP%]{display:inline-block;margin:0}.edit-options-icon[_ngcontent-%COMP%]{margin-right:3px}.resolveEdit[_ngcontent-%COMP%]{display:none}.resolveEdit[_ngcontent-%COMP%]:nth-of-type(3){margin-left:10px}.follow-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.profile-follower-info[_ngcontent-%COMP%]{margin:0}@media screen and (min-width:576px){.follow-container[_ngcontent-%COMP%]{justify-content:flex-start}}"]}),t})();function jm(t,e){if(1&t){const t=fs();us(0,"div",3),us(1,"div",4),us(2,"button",5),ms("click",function(){return De(t),_s().onScroll(-200)}),ds(3,"i",6),hs(),us(4,"button",5),ms("click",function(){return De(t),_s().onScroll(200)}),ds(5,"i",7),hs(),hs(),hs()}}function Bm(t,e){if(1&t){const t=fs();us(0,"div",8),us(1,"button",9),As(2,"+"),hs(),us(3,"button",10),ms("click",function(){return De(t),_s().onMakeActive("postList","postTab")}),As(4,"Posts"),hs(),us(5,"button",11),ms("click",function(){return De(t),_s().addProfileImage("followingList","followingTab")}),As(6,"Follwing"),hs(),us(7,"button",12),ms("click",function(){return De(t),_s().addProfileImage("followerList","followerTab")}),As(8,"Followers"),hs(),us(9,"button",13),ms("click",function(){return De(t),_s().onMakeActive("mentionsList","mentionsTab")}),As(10,"Mentions"),hs(),hs()}}let Hm=(()=>{class t{constructor(t,e){this.authService=t,this.profileService=e,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.authService.profileData.subscribe(t=>this.profileData=t)),this.subscriptions.add(this.authService.currentUser.subscribe(t=>this.currentUser=t)),this.subscriptions.add(this.profileService.activeList.subscribe(t=>this.activeList=t)),this.subscriptions.add(this.profileService.activeTab.subscribe(t=>this.activeTab=t)),this.subscriptions.add(this.profileService.initialFollowingLoad.subscribe(t=>this.initialFollowingLoad=t)),this.subscriptions.add(this.profileService.initialFollowerLoad.subscribe(t=>this.initialFollowerLoad=t))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.initialFollowingLoad||this.profileService.changeInitialFollowingLoad(!0),this.initialFollowerLoad||this.profileService.changeInitialFollowerLoad(!0)}onMakeActive(t,e){t!==this.activeList&&($(`#${this.activeList}`).addClass("visible"),$(`#${t}`).removeClass("visible"),this.profileService.changeActiveList(t)),e!==this.activeTab&&($(`#${this.activeTab}`).removeClass("active-tab"),$(`#${e}`).addClass("active-tab"),this.profileService.changeActiveTab(e))}addProfileImage(t,e){switch(this.onMakeActive(t,e),t){case"followingList":this.initialFollowingLoad&&this.profileService.changeInitialFollowingLoad(!1);break;case"followerList":this.initialFollowerLoad&&this.profileService.changeInitialFollowerLoad(!1)}}onScroll(t){document.getElementById("profileTabs").scrollLeft+=t}}return t.\u0275fac=function(e){return new(e||t)(as(Wp),as(jp))},t.\u0275cmp=Ht({type:t,selectors:[["app-profile-content"]],decls:3,vars:2,consts:[["class","container",4,"ngIf"],[1,"container","tab-container"],["id","profileTabs",4,"ngIf"],[1,"container"],[1,"row","scroll-control"],["type","button",1,"btn","scroll-btn","primary-font-color",3,"click"],[1,"fas","fa-caret-left"],[1,"fas","fa-caret-right"],["id","profileTabs"],["type","button","data-toggle","modal","data-target","#postModal",1,"btn","profile-options-btn","tab","primary-font-color"],["type","button","id","postTab",1,"btn","profile-options-btn","tab","primary-font-color","active-tab",3,"click"],["type","button","id","followingTab",1,"btn","profile-options-btn","tab","primary-font-color",3,"click"],["type","button","id","followerTab",1,"btn","profile-options-btn","tab","primary-font-color",3,"click"],["type","button","id","mentionsTab",1,"btn","profile-options-btn","tab","primary-font-color",3,"click"]],template:function(t,e){1&t&&(os(0,jm,6,0,"div",0),us(1,"div",1),os(2,Bm,11,0,"div",2),hs()),2&t&&(ls("ngIf",e.currentUser.id===e.profileData._id),Li(2),ls("ngIf",e.currentUser.id===e.profileData._id))},directives:[jc],styles:['.profile-options-btn[_ngcontent-%COMP%]{height:50px;top:1px;border-radius:0;padding:6px 0;box-sizing:border-box;transition:color .3s ease-out}.profile-options-btn[_ngcontent-%COMP%]:hover{color:var(--color-secondary)}.profile-options-btn[_ngcontent-%COMP%]:after{content:"";display:block;margin:14px auto 0;height:5px;width:0;background-color:initial;transition:.3s}.profile-options-btn[_ngcontent-%COMP%]:hover:after{width:100%;background-color:var(--color-secondary)}.active-tab[_ngcontent-%COMP%]{border-bottom:5px solid var(--color-secondary);transition:.2s ease-out}.scroll-control[_ngcontent-%COMP%]{justify-content:flex-end}@media screen and (min-width:768px){.scroll-control[_ngcontent-%COMP%]{display:none}}.scroll-btn[_ngcontent-%COMP%]:active, .scroll-btn[_ngcontent-%COMP%]:focus, .scroll-btn[_ngcontent-%COMP%]:hover{color:var(--color-secondary)}.tab-container[_ngcontent-%COMP%]{text-align:center}#profileTabs[_ngcontent-%COMP%]{white-space:nowrap;overflow-x:scroll;scroll-behavior:smooth}#profileTabs[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tab[_ngcontent-%COMP%]{width:100px;overflow:hidden}']}),t})();function qm(t,e){if(1&t){const t=fs();us(0,"div",5),us(1,"div",6),us(2,"div",7),us(3,"div",8),ms("click",function(){De(t);const n=e.$implicit;return _s(2).changeProfileData(n.username)}),us(4,"div",9),ds(5,"img",10),hs(),us(6,"div"),us(7,"h4",11),As(8),hs(),us(9,"p",11),As(10),hs(),hs(),hs(),hs(),hs(),hs()}if(2&t){const t=e.$implicit;Li(5),bs("src",t.profileImage,Br),Li(3),xs(t.name),Li(2),Ps("@",t.username,"")}}function zm(t,e){1&t&&(us(0,"div",12),ds(1,"div",13),ds(2,"div",13),ds(3,"div",13),hs())}function $m(t,e){if(1&t&&(us(0,"div"),os(1,qm,11,3,"div",2),us(2,"div",3),os(3,zm,4,0,"div",4),hs(),hs()),2&t){const t=_s();Li(1),ls("ngForOf",t.profileData.following),Li(2),ls("ngIf",t.profileData.followingCount!==t.followingList.length)}}function Wm(t,e){1&t&&(us(0,"div",5),us(1,"div",6),us(2,"h5"),As(3,"You are not following anyone"),hs(),hs(),hs())}let Ym=(()=>{class t{constructor(t,e,n){this.authService=t,this.profileService=e,this.route=n,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.authService.profileData.subscribe(t=>this.profileData=t)),this.subscriptions.add(this.profileService.followingList.subscribe(t=>this.followingList=t)),this.subscriptions.add(this.profileService.isEditing.subscribe(t=>this.isEditing=t))}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribe()}changeProfileData(t){this.profileService.resetVisible("followingList"),this.profileService.resetActiveTab("followingTab"),this.authService.handleRedirectProfile(t,this.isEditing)}}return t.\u0275fac=function(e){return new(e||t)(as(Wp),as(jp),as(vd))},t.\u0275cmp=Ht({type:t,selectors:[["app-following-list"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notFollowing",""],["class","main-content",4,"ngFor","ngForOf"],[1,"end-of-content"],["class","loading","appObserverVisibility","",4,"ngIf"],[1,"main-content"],[1,"container","content-box-main"],[1,"row"],[1,"profile-preview-group","pointer",3,"click"],[1,"profile-preview-image-container"],["alt","Profile Image",1,"profile-image","following-profile-image",3,"src"],[1,"profile-preview-details"],["appObserverVisibility","",1,"loading"],[1,"ball"]],template:function(t,e){if(1&t&&(os(0,$m,4,2,"div",0),os(1,Wm,4,0,"ng-template",null,1,ml)),2&t){const t=ss(2);ls("ngIf",!!e.profileData.followingCount)("ngIfElse",t)}},directives:[jc,Fc,gm],styles:[""]}),t})();function Xm(t,e){if(1&t){const t=fs();us(0,"div",5),us(1,"div",6),us(2,"div",7),us(3,"div",8),ms("click",function(){De(t);const n=e.$implicit;return _s(2).changeProfileData(n.username)}),us(4,"div",9),ds(5,"img",10),hs(),us(6,"div"),us(7,"h4",11),As(8),hs(),us(9,"p",11),As(10),hs(),hs(),hs(),hs(),hs(),hs()}if(2&t){const t=e.$implicit;Li(5),bs("src",t.profileImage,Br),Li(3),xs(t.name),Li(2),Ps("@",t.username,"")}}function Zm(t,e){1&t&&(us(0,"div",12),ds(1,"div",13),ds(2,"div",13),ds(3,"div",13),hs())}function Qm(t,e){if(1&t&&(us(0,"div"),os(1,Xm,11,3,"div",2),us(2,"div",3),os(3,Zm,4,0,"div",4),hs(),hs()),2&t){const t=_s();Li(1),ls("ngForOf",t.profileData.followers),Li(2),ls("ngIf",t.profileData.followerCount!==t.followerList.length)}}function Jm(t,e){1&t&&(us(0,"div",5),us(1,"div",6),us(2,"h5"),As(3,"You currently have 0 followers"),hs(),hs(),hs())}let Km=(()=>{class t{constructor(t,e,n){this.authService=t,this.profileService=e,this.route=n,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.authService.profileData.subscribe(t=>this.profileData=t)),this.subscriptions.add(this.profileService.followerList.subscribe(t=>this.followerList=t)),this.subscriptions.add(this.profileService.isEditing.subscribe(t=>this.isEditing=t))}ngOnDestroy(){this.subscriptions.unsubscribe()}changeProfileData(t){this.profileService.resetVisible("followerList"),this.profileService.resetActiveTab("followerTab"),this.authService.handleRedirectProfile(t,this.isEditing)}}return t.\u0275fac=function(e){return new(e||t)(as(Wp),as(jp),as(vd))},t.\u0275cmp=Ht({type:t,selectors:[["app-follower-list"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noFollowers",""],["class","main-content",4,"ngFor","ngForOf"],[1,"end-of-content"],["class","loading","appObserverVisibility","",4,"ngIf"],[1,"main-content"],[1,"container","content-box-main"],[1,"row"],[1,"profile-preview-group","pointer",3,"click"],[1,"profile-preview-image-container"],["alt","Profile Image",1,"profile-image","follower-profile-image",3,"src"],[1,"profile-preview-details"],["appObserverVisibility","",1,"loading"],[1,"ball"]],template:function(t,e){if(1&t&&(os(0,Qm,4,2,"div",0),os(1,Jm,4,0,"ng-template",null,1,ml)),2&t){const t=ss(2);ls("ngIf",!!e.profileData.followerCount)("ngIfElse",t)}},directives:[jc,Fc,gm],styles:[""]}),t})();function tv(t,e){if(1&t){const t=fs();us(0,"div",5),us(1,"div",6),us(2,"div",7),us(3,"div",8),ms("click",function(){De(t);const n=e.$implicit;return _s(2).changeProfileData(n.username)}),us(4,"div",9),ds(5,"img",10),hs(),us(6,"div"),us(7,"h4",11),As(8),hs(),us(9,"p",11),As(10),hs(),hs(),hs(),hs(),us(11,"p",12),As(12),hs(),ds(13,"p",13),hs(),hs()}if(2&t){const t=e.$implicit;Li(5),bs("src",t.profileImage,Br),Li(3),xs(t.name),Li(2),Ps("@",t.username,""),Li(2),xs(t.timestamp),Li(1),ls("innerHTML",t.content,jr)}}function ev(t,e){1&t&&(us(0,"div",14),ds(1,"div",15),ds(2,"div",15),ds(3,"div",15),hs())}function nv(t,e){if(1&t&&(us(0,"div"),os(1,tv,14,5,"div",2),us(2,"div",3),os(3,ev,4,0,"div",4),hs(),hs()),2&t){const t=_s();Li(1),ls("ngForOf",t.mentions),Li(2),ls("ngIf",t.profileData.mentionsCount>t.mentions.length)}}function rv(t,e){1&t&&(us(0,"div",5),us(1,"div",6),us(2,"h5"),As(3,"No Mentions Found"),hs(),hs(),hs())}let iv=(()=>{class t{constructor(t,e,n){this.postService=t,this.authService=e,this.profileService=n,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.postService.mentions.subscribe(t=>this.mentions=t)),this.subscriptions.add(this.authService.profileData.subscribe(t=>this.profileData=t)),this.subscriptions.add(this.profileService.isEditing.subscribe(t=>this.isEditing=t))}ngAfterViewInit(){}ngOnDestroy(){}changeProfileData(t){this.profileService.resetVisible("mentionsList"),this.profileService.resetActiveTab("mentionsTab"),this.authService.handleRedirectProfile(t,this.isEditing)}}return t.\u0275fac=function(e){return new(e||t)(as(Gp),as(Wp),as(jp))},t.\u0275cmp=Ht({type:t,selectors:[["app-mentions"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noMentions",""],["class","main-content",4,"ngFor","ngForOf"],[1,"end-of-content"],["class","loading","appObserverVisibility","",4,"ngIf"],[1,"main-content"],[1,"container","content-box-main"],[1,"row"],[1,"post-hero-details","pointer",3,"click"],[1,"post-image-container"],["alt","Profile Image",1,"profile-image",3,"src"],[1,"post-user-names"],[1,"timestamp"],[1,"post-content",3,"innerHTML"],["appObserverVisibility","",1,"loading"],[1,"ball"]],template:function(t,e){if(1&t&&(os(0,nv,4,2,"div",0),os(1,rv,4,0,"ng-template",null,1,ml)),2&t){const t=ss(2);ls("ngIf",!!e.mentions&&e.mentions.length)("ngIfElse",t)}},directives:[jc,Fc,gm],styles:[""]}),t})();function ov(t,e){1&t&&(us(0,"span",25),ds(1,"i",26),As(2," \xa0Unfollow "),hs())}function sv(t,e){1&t&&(us(0,"span",25),ds(1,"i",27),As(2," \xa0Follow "),hs())}function av(t,e){1&t&&(us(0,"div",0),ds(1,"app-profile-details"),ds(2,"app-profile-content"),hs())}function lv(t,e){1&t&&(us(0,"div"),us(1,"div",28),ds(2,"app-following-list"),hs(),us(3,"div",29),ds(4,"app-follower-list"),hs(),us(5,"div",30),ds(6,"app-mentions"),hs(),hs())}function cv(t,e){if(1&t){const t=fs();us(0,"div"),us(1,"div",7),us(2,"div",8),us(3,"div",9),us(4,"h4",10),ms("click",function(){return De(t),_s().onMoveToTop()}),As(5),hs(),hs(),us(6,"div",11),us(7,"button",12),ms("click",function(){return De(t),_s().handleFollowAction()}),os(8,ov,3,0,"span",13),os(9,sv,3,0,"ng-template",null,14,ml),hs(),hs(),hs(),hs(),os(11,av,3,0,"div",15),us(12,"div",16),us(13,"div",17),us(14,"div",18),us(15,"div",19),us(16,"button",20),us(17,"span",21),As(18,"\xd7"),hs(),hs(),ds(19,"app-create-post"),hs(),hs(),hs(),hs(),us(20,"div",22),ds(21,"app-display-post",23),hs(),os(22,lv,7,0,"div",24),hs()}if(2&t){const t=ss(10),e=_s();Li(5),xs(e.profileData.name),Li(3),ls("ngIf",e.isFollowing)("ngIfElse",t),Li(3),ls("ngIf",e.profileData),Li(11),ls("ngIf",!e.isVisiting)}}function uv(t,e){1&t&&(us(0,"h3"),As(1,"No profile data found"),hs())}let hv=(()=>{class t{constructor(t,e,n){this.authService=t,this.profileService=e,this.route=n,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.authService.profileData.subscribe(t=>this.profileData=t)),this.subscriptions.add(this.profileService.changeActiveList("postList")),this.subscriptions.add(this.profileService.isEditing.subscribe(t=>this.isEditing=t)),this.subscriptions.add(this.profileService.isFollowing.subscribe(t=>this.isFollowing=t)),this.subscriptions.add(this.authService.currentUser.subscribe(t=>this.currentUser=t)),this.subscriptions.add(this.authService.isVisiting.subscribe(t=>this.isVisiting=t)),this.profileData.username&&this.profileData.username===this.route.snapshot.paramMap.get("username")||this.getProfileData()}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribe()}getProfileData(){let t=this.route.snapshot.paramMap.get("username");this.authService.handleRedirectProfile(t,this.isEditing,!1)}onMoveToTop(){document.documentElement.scrollTop=0}handleFollowAction(){if(this.authService.visitingProfile(this.currentUser,this.profileData)&&!this.authService.isExpired()){const t=this.authService.followerPayload(this.currentUser,this.profileData);this.isFollowing?this.authService.onUnfollow(t,this.profileData,this.isEditing):this.authService.onFollow(t,this.profileData,this.isEditing)}else localStorage.getItem("id_token")&&this.authService.isExpired()?this.authService.redirectDump("/session-timed-out","session"):localStorage.getItem("id_token")||this.authService.followError("You must be logged in before following.",!1,this.currentUser.username,this.isEditing)}}return t.\u0275fac=function(e){return new(e||t)(as(Wp),as(jp),as(vd))},t.\u0275cmp=Ht({type:t,selectors:[["app-profile"]],decls:10,vars:2,consts:[[1,"container"],[1,"row","profile-container"],[1,"col","main-view"],[1,"main-content-container"],[4,"ngIf","ngIfElse"],["profileNotFound",""],[1,"col-sm-4","side-content-container"],[1,"container","jump-holder"],[1,"row","jump-row"],[1,"col"],[1,"jump-content-name",3,"click"],[1,"col","follow-btn-holder"],["type","button","id","followBtn",1,"btn","btn-outline-light","btn-style",3,"click"],["class","follow-btn btn-bounce",4,"ngIf","ngIfElse"],["notFollowing",""],["class","container",4,"ngIf"],["id","postModal","tabindex","-1","aria-labelledby","postModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body"],["type","button","data-dismiss","modal","aria-label","Close",1,"close","close-btn"],["aria-hidden","true"],["id","postList"],["appProfileMutation",""],[4,"ngIf"],[1,"follow-btn","btn-bounce"],[1,"fas","fa-heart","primary-font-color"],[1,"far","fa-heart","primary-font-color"],["id","followingList",1,"visible"],["id","followerList",1,"visible"],["id","mentionsList",1,"visible"]],template:function(t,e){if(1&t&&(ds(0,"app-navbar"),us(1,"div",0),us(2,"div",1),us(3,"div",2),us(4,"div",3),os(5,cv,23,5,"div",4),os(6,uv,2,0,"ng-template",null,5,ml),hs(),hs(),us(8,"div",6),ds(9,"app-additional-side-content"),hs(),hs(),hs()),2&t){const t=ss(7);Li(5),ls("ngIf",!!e.profileData.username)("ngIfElse",t)}},directives:[rm,jc,dm,fm,Sm,pm,Gm,Hm,Ym,Km,iv],styles:[".profile-container[_ngcontent-%COMP%]{flex-wrap:nowrap}.jump-holder[_ngcontent-%COMP%]{background-color:var(--color-background-darker);position:sticky;z-index:1;top:0;border-bottom:1px solid}.jump-row[_ngcontent-%COMP%]{display:flex;align-items:center}.jump-content-name[_ngcontent-%COMP%]{padding:15px 0;margin:0;cursor:pointer}.follow-btn-holder[_ngcontent-%COMP%]{text-align:right}.follow-btn[_ngcontent-%COMP%]{padding:4px}"]}),t})(),dv=(()=>{class t{constructor(t,e,n){this.searchService=t,this.profileService=e,this.element=n,this.subscriptions=new h}ngOnInit(){this.checkVisible(),this.subscriptions.add(this.searchService.currentSearchTerm.subscribe(t=>this.term=t)),this.subscriptions.add(this.searchService.searchResults.subscribe(t=>this.searchResults=t))}ngAfterViewInit(){this.searchObserver.observe(this.element.nativeElement)}ngOnDestroy(){this.searchObserver&&(this.searchObserver.disconnect(),this.searchObserver=void 0),this.subscriptions.unsubscribe()}checkVisible(){this.searchObserver=new IntersectionObserver(t=>{t[0].intersectionRatio>0&&this.searchService.getUsers(this.term,this.searchResults.length).subscribe(t=>{t.success?0===t.msg.length?this.searchService.changeEndOfResults(!0):(this.profileService.updateListImage(t.msg),this.searchResults.push(...t.msg)):this.searchService.changeEndOfResults(!0)})})}}return t.\u0275fac=function(e){return new(e||t)(as(tm),as(jp),as(ta))},t.\u0275dir=Xt({type:t,selectors:[["","appSearchDirective",""]]}),t})();function fv(t,e){if(1&t){const t=fs();us(0,"div",10),ms("click",function(){De(t);const n=e.$implicit;return _s(2).changeProfileData(n.username)}),us(1,"div",11),us(2,"div",12),us(3,"div",13),ds(4,"img",14),hs(),us(5,"div",15),us(6,"h4",15),As(7),hs(),us(8,"p",15),As(9),hs(),hs(),hs(),us(10,"div",1),us(11,"div",16),us(12,"div",1),us(13,"p",15),As(14),hs(),hs(),hs(),hs(),hs(),hs()}if(2&t){const t=e.$implicit;Li(4),bs("src",t.profileImage,Br),Li(3),xs(t.name),Li(2),Ps("@",t.username,""),Li(5),Ps("",t.followerCount," Followers")}}function pv(t,e){1&t&&(us(0,"div",17),ds(1,"div",18),ds(2,"div",18),ds(3,"div",18),hs())}function gv(t,e){if(1&t&&(us(0,"div"),os(1,fv,15,4,"div",7),us(2,"div",8),os(3,pv,4,0,"div",9),hs(),hs()),2&t){const t=_s();Li(1),ls("ngForOf",t.searchResults),Li(2),ls("ngIf",!t.endOfResults)}}function mv(t,e){if(1&t&&(us(0,"div",19),us(1,"div",11),us(2,"h5"),As(3),hs(),hs(),hs()),2&t){const t=_s();Li(3),Ps('No results found matching: "',t.searchTerm,'"')}}let vv=(()=>{class t{constructor(t,e,n){this.searchService=t,this.authService=e,this.profileService=n,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.searchService.searchResults.subscribe(t=>this.searchResults=t)),this.subscriptions.add(this.searchService.currentSearchTerm.subscribe(t=>this.searchTerm=t)),this.subscriptions.add(this.searchService.endOfResults.subscribe(t=>this.endOfResults=t)),this.subscriptions.add(this.profileService.isEditing.subscribe(t=>this.isEditing=t))}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribe()}changeProfileData(t){this.authService.handleRedirectProfile(t,this.isEditing)}}return t.\u0275fac=function(e){return new(e||t)(as(tm),as(Wp),as(jp))},t.\u0275cmp=Ht({type:t,selectors:[["app-search"]],decls:10,vars:2,consts:[[1,"container"],[1,"row"],[1,"col","main-view"],[1,"main-content-container"],[4,"ngIf","ngIfElse"],["no_results",""],[1,"col-sm-4","side-content-container"],["class","main-content pointer",3,"click",4,"ngFor","ngForOf"],[1,"end-of-content"],["class","loading","appSearchDirective","",4,"ngIf"],[1,"main-content","pointer",3,"click"],[1,"container","content-box-main"],[1,"row","profile-preview-group"],[1,"profile-preview-image-container"],["alt","Profile Image",1,"profile-image","search-profile-image",3,"src"],[1,"profile-preview-details"],[1,"col","profile-preview-additional-info"],["appSearchDirective","",1,"loading"],[1,"ball"],[1,"main-content"]],template:function(t,e){if(1&t&&(ds(0,"app-navbar"),us(1,"div",0),us(2,"div",1),us(3,"div",2),us(4,"div",3),os(5,gv,4,2,"div",4),os(6,mv,4,1,"ng-template",null,5,ml),hs(),hs(),us(8,"div",6),ds(9,"app-additional-side-content"),hs(),hs(),hs()),2&t){const t=ss(7);Li(5),ls("ngIf",e.searchResults.length)("ngIfElse",t)}},directives:[rm,jc,dm,Fc,dv],styles:[".profile-preview-group[_ngcontent-%COMP%]{margin-bottom:4px}.profile-preview-additional-info[_ngcontent-%COMP%]{margin-left:15px}"]}),t})(),yv=(()=>{class t{constructor(t,e,n){this.authService=t,this.profileService=e,this.router=n,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.profileService.dumpMessage.subscribe(t=>this.dumpTerm=t)),this.subscriptions.add(this.profileService.activeTab.subscribe(t=>this.activeTab=t)),this.subscriptions.add(this.profileService.activeList.subscribe(t=>this.activeList=t)),this.subscriptions.add(this.profileService.isEditing.subscribe(t=>this.isEditing=t)),this.subscriptions.add(this.authService.lastVisited.subscribe(t=>this.lastVisited=t)),this.displaySwitch()}ngOnDestroy(){this.subscriptions.unsubscribe()}handleTimedLogout(t,e){setTimeout(()=>{e&&this.authService.logout(this.activeTab,this.activeList,this.isEditing),this.router.navigate(["/home"])},t)}displaySwitch(){const t=!!localStorage.getItem("id_token"),e=t&&this.lastVisited===JSON.parse(localStorage.getItem("user")).username;switch(this.dumpTerm){case"profile":this.displayMessage=e?"Unable to load profile. Logging you out and redirecting to the homepage.":"Unable to load profile. Returning to you to the homepage.",this.handleTimedLogout(3e3,e);break;case"session":this.displayMessage="Session timed out. Logging you out and redirecting you to the homepage. If you'd like to avoid this in the futrue, please be sure to logout when you're done.",this.handleTimedLogout(7e3,t);break;default:this.displayMessage="Something went wrong, redirecting you to the homepage.",this.handleTimedLogout(3e3,t)}}}return t.\u0275fac=function(e){return new(e||t)(as(Wp),as(jp),as(Vf))},t.\u0275cmp=Ht({type:t,selectors:[["app-dump-screen"]],decls:6,vars:1,consts:[[1,"container","dump-screen-container"],[1,"err-img-container"],["src","assets/error_image.jpg",1,"err-img"],[1,"row","dump-msg-container"],[1,"dump-msg"]],template:function(t,e){1&t&&(us(0,"div",0),us(1,"div",1),ds(2,"img",2),hs(),us(3,"div",3),us(4,"h3",4),As(5),hs(),hs(),hs()),2&t&&(Li(5),xs(e.displayMessage))},styles:[".dump-screen-container[_ngcontent-%COMP%]{padding:0}.dump-msg-container[_ngcontent-%COMP%]{max-width:720px;margin:auto;justify-content:center}@media screen and (min-height:800px){.dump-screen-container[_ngcontent-%COMP%]{margin-top:10vh}}@media screen and (min-height:1000px){.dump-screen-container[_ngcontent-%COMP%]{margin-top:15vh}}.err-img-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:25px}.err-img[_ngcontent-%COMP%]{width:100%;max-width:720px}.dump-msg[_ngcontent-%COMP%]{text-align:center;padding:0 15px}"]}),t})();const _v=[{path:"home",component:Kg},{path:"create-account",component:Qg},{path:"profile/:username",component:hv},{path:"search",component:vv},{path:"session-timed-out",component:yv},{path:"profile-not-found",component:yv},{path:"",redirectTo:"home",pathMatch:"full"},{path:"**",component:yv}];let bv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=dt({imports:[[Qf.forRoot(_v,{relativeLinkResolution:"legacy"})],Qf]}),t})();var Ev=n("LPyF"),wv=n("NQWy"),Tv=n("dOZY"),Iv=n("lnDc"),Sv=n.n(Iv),Ov=n("m6bJ"),Cv=n("GUIp");Object(Cm.registerPlugin)(Ev,wv,Tv,Sv.a,Ov,Cv);let Rv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t,bootstrap:[sp]}),t.\u0275inj=dt({providers:[],imports:[[Eu,bv,Zg,Vp,zp.forRoot({config:{tokenGetter:()=>localStorage.getItem("id_token")}}),Mm]]}),t})();(function(){if(Ql)throw new Error("Cannot enable prod mode after platform setup.");Zl=!1})(),_u().bootstrapModule(Rv).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);